var Xd=e=>{throw TypeError(e)};var _l=(e,t,r)=>t.has(e)||Xd("Cannot "+r);var C=(e,t,r)=>(_l(e,t,"read from private field"),r?r.call(e):t.get(e)),re=(e,t,r)=>t.has(e)?Xd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Y=(e,t,r,n)=>(_l(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Oe=(e,t,r)=>(_l(e,t,"access private method"),r);var ho=(e,t,r,n)=>({set _(s){Y(e,t,s,r)},get _(){return C(e,t,n)}});function Qy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ym(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Yy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var xm={exports:{}},Ia={},vm={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ji=Symbol.for("react.element"),Jy=Symbol.for("react.portal"),Zy=Symbol.for("react.fragment"),Xy=Symbol.for("react.strict_mode"),ex=Symbol.for("react.profiler"),tx=Symbol.for("react.provider"),rx=Symbol.for("react.context"),nx=Symbol.for("react.forward_ref"),sx=Symbol.for("react.suspense"),ix=Symbol.for("react.memo"),ox=Symbol.for("react.lazy"),eh=Symbol.iterator;function ax(e){return e===null||typeof e!="object"?null:(e=eh&&e[eh]||e["@@iterator"],typeof e=="function"?e:null)}var wm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bm=Object.assign,jm={};function Us(e,t,r){this.props=e,this.context=t,this.refs=jm,this.updater=r||wm}Us.prototype.isReactComponent={};Us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nm(){}Nm.prototype=Us.prototype;function Cu(e,t,r){this.props=e,this.context=t,this.refs=jm,this.updater=r||wm}var Tu=Cu.prototype=new Nm;Tu.constructor=Cu;bm(Tu,Us.prototype);Tu.isPureReactComponent=!0;var th=Array.isArray,_m=Object.prototype.hasOwnProperty,Pu={current:null},Sm={key:!0,ref:!0,__self:!0,__source:!0};function km(e,t,r){var n,s={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)_m.call(t,n)&&!Sm.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ji,type:e,key:o,ref:a,props:s,_owner:Pu.current}}function lx(e,t){return{$$typeof:Ji,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ru(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ji}function cx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rh=/\/+/g;function Sl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cx(""+e.key):t.toString(36)}function Uo(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ji:case Jy:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Sl(a,0):n,th(s)?(r="",e!=null&&(r=e.replace(rh,"$&/")+"/"),Uo(s,t,r,"",function(u){return u})):s!=null&&(Ru(s)&&(s=lx(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(rh,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",th(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Sl(o,l);a+=Uo(o,t,r,c,s)}else if(c=ax(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Sl(o,l++),a+=Uo(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function fo(e,t,r){if(e==null)return e;var n=[],s=0;return Uo(e,n,"","",function(o){return t.call(r,o,s++)}),n}function ux(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Fo={transition:null},dx={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Fo,ReactCurrentOwner:Pu};function Em(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:fo,forEach:function(e,t,r){fo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fo(e,function(){t++}),t},toArray:function(e){return fo(e,function(t){return t})||[]},only:function(e){if(!Ru(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Us;J.Fragment=Zy;J.Profiler=ex;J.PureComponent=Cu;J.StrictMode=Xy;J.Suspense=sx;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dx;J.act=Em;J.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=bm({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Pu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_m.call(t,c)&&!Sm.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ji,type:e.type,key:s,ref:o,props:n,_owner:a}};J.createContext=function(e){return e={$$typeof:rx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tx,_context:e},e.Consumer=e};J.createElement=km;J.createFactory=function(e){var t=km.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:nx,render:e}};J.isValidElement=Ru;J.lazy=function(e){return{$$typeof:ox,_payload:{_status:-1,_result:e},_init:ux}};J.memo=function(e,t){return{$$typeof:ix,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Fo.transition;Fo.transition={};try{e()}finally{Fo.transition=t}};J.unstable_act=Em;J.useCallback=function(e,t){return He.current.useCallback(e,t)};J.useContext=function(e){return He.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return He.current.useDeferredValue(e)};J.useEffect=function(e,t){return He.current.useEffect(e,t)};J.useId=function(){return He.current.useId()};J.useImperativeHandle=function(e,t,r){return He.current.useImperativeHandle(e,t,r)};J.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return He.current.useMemo(e,t)};J.useReducer=function(e,t,r){return He.current.useReducer(e,t,r)};J.useRef=function(e){return He.current.useRef(e)};J.useState=function(e){return He.current.useState(e)};J.useSyncExternalStore=function(e,t,r){return He.current.useSyncExternalStore(e,t,r)};J.useTransition=function(){return He.current.useTransition()};J.version="18.3.1";vm.exports=J;var v=vm.exports;const O=ym(v),hx=Qy({__proto__:null,default:O},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx=v,mx=Symbol.for("react.element"),px=Symbol.for("react.fragment"),gx=Object.prototype.hasOwnProperty,yx=fx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xx={key:!0,ref:!0,__self:!0,__source:!0};function Cm(e,t,r){var n,s={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)gx.call(t,n)&&!xx.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:mx,type:e,key:o,ref:a,props:s,_owner:yx.current}}Ia.Fragment=px;Ia.jsx=Cm;Ia.jsxs=Cm;xm.exports=Ia;var i=xm.exports,Tm={exports:{}},pt={},Pm={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,R){var z=E.length;E.push(R);e:for(;0<z;){var D=z-1>>>1,H=E[D];if(0<s(H,R))E[D]=R,E[z]=H,z=D;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var R=E[0],z=E.pop();if(z!==R){E[0]=z;e:for(var D=0,H=E.length,X=H>>>1;D<X;){var fe=2*(D+1)-1,nt=E[fe],ne=fe+1,St=E[ne];if(0>s(nt,z))ne<H&&0>s(St,nt)?(E[D]=St,E[ne]=z,D=ne):(E[D]=nt,E[fe]=z,D=fe);else if(ne<H&&0>s(St,z))E[D]=St,E[ne]=z,D=ne;else break e}}return R}function s(E,R){var z=E.sortIndex-R.sortIndex;return z!==0?z:E.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],f=1,d=null,h=3,g=!1,m=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(E){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=E)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function j(E){if(y=!1,b(E),!m)if(r(c)!==null)m=!0,F(N);else{var R=r(u);R!==null&&V(j,R.startTime-E)}}function N(E,R){m=!1,y&&(y=!1,p(k),k=-1),g=!0;var z=h;try{for(b(R),d=r(c);d!==null&&(!(d.expirationTime>R)||E&&!q());){var D=d.callback;if(typeof D=="function"){d.callback=null,h=d.priorityLevel;var H=D(d.expirationTime<=R);R=e.unstable_now(),typeof H=="function"?d.callback=H:d===r(c)&&n(c),b(R)}else n(c);d=r(c)}if(d!==null)var X=!0;else{var fe=r(u);fe!==null&&V(j,fe.startTime-R),X=!1}return X}finally{d=null,h=z,g=!1}}var _=!1,S=null,k=-1,I=5,L=-1;function q(){return!(e.unstable_now()-L<I)}function U(){if(S!==null){var E=e.unstable_now();L=E;var R=!0;try{R=S(!0,E)}finally{R?W():(_=!1,S=null)}}else _=!1}var W;if(typeof x=="function")W=function(){x(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,A=M.port2;M.port1.onmessage=U,W=function(){A.postMessage(null)}}else W=function(){w(U,0)};function F(E){S=E,_||(_=!0,W())}function V(E,R){k=w(function(){E(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){m||g||(m=!0,F(N))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var z=h;h=R;try{return E()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,R){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var z=h;h=E;try{return R()}finally{h=z}},e.unstable_scheduleCallback=function(E,R,z){var D=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?D+z:D):z=D,E){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,E={id:f++,callback:R,priorityLevel:E,startTime:z,expirationTime:H,sortIndex:-1},z>D?(E.sortIndex=z,t(u,E),r(c)===null&&E===r(u)&&(y?(p(k),k=-1):y=!0,V(j,z-D))):(E.sortIndex=H,t(c,E),m||g||(m=!0,F(N))),E},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(E){var R=h;return function(){var z=h;h=R;try{return E.apply(this,arguments)}finally{h=z}}}})(Rm);Pm.exports=Rm;var vx=Pm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx=v,mt=vx;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Am=new Set,_i={};function Ln(e,t){_s(e,t),_s(e+"Capture",t)}function _s(e,t){for(_i[e]=t,e=0;e<t.length;e++)Am.add(t[e])}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uc=Object.prototype.hasOwnProperty,bx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nh={},sh={};function jx(e){return uc.call(sh,e)?!0:uc.call(nh,e)?!1:bx.test(e)?sh[e]=!0:(nh[e]=!0,!1)}function Nx(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _x(e,t,r,n){if(t===null||typeof t>"u"||Nx(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ve(e,t,r,n,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new Ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new Ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new Ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new Ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new Ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new Ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new Ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new Ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new Ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var Au=/[\-:]([a-z])/g;function Ou(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Au,Ou);Ae[t]=new Ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Au,Ou);Ae[t]=new Ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Au,Ou);Ae[t]=new Ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new Ve(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new Ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lu(e,t,r,n){var s=Ae.hasOwnProperty(t)?Ae[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_x(t,r,s,n)&&(r=null),n||s===null?jx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var gr=wx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mo=Symbol.for("react.element"),Gn=Symbol.for("react.portal"),Kn=Symbol.for("react.fragment"),Iu=Symbol.for("react.strict_mode"),dc=Symbol.for("react.profiler"),Om=Symbol.for("react.provider"),Lm=Symbol.for("react.context"),Mu=Symbol.for("react.forward_ref"),hc=Symbol.for("react.suspense"),fc=Symbol.for("react.suspense_list"),$u=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),Im=Symbol.for("react.offscreen"),ih=Symbol.iterator;function Ks(e){return e===null||typeof e!="object"?null:(e=ih&&e[ih]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,kl;function ii(e){if(kl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);kl=t&&t[1]||""}return`
`+kl+e}var El=!1;function Cl(e,t){if(!e||El)return"";El=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{El=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ii(e):""}function Sx(e){switch(e.tag){case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return ii("Suspense");case 19:return ii("SuspenseList");case 0:case 2:case 15:return e=Cl(e.type,!1),e;case 11:return e=Cl(e.type.render,!1),e;case 1:return e=Cl(e.type,!0),e;default:return""}}function mc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kn:return"Fragment";case Gn:return"Portal";case dc:return"Profiler";case Iu:return"StrictMode";case hc:return"Suspense";case fc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lm:return(e.displayName||"Context")+".Consumer";case Om:return(e._context.displayName||"Context")+".Provider";case Mu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $u:return t=e.displayName||null,t!==null?t:mc(e.type)||"Memo";case Tr:t=e._payload,e=e._init;try{return mc(e(t))}catch{}}return null}function kx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mc(t);case 8:return t===Iu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ex(e){var t=Mm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function po(e){e._valueTracker||(e._valueTracker=Ex(e))}function $m(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Mm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ea(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pc(e,t){var r=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function oh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dm(e,t){t=t.checked,t!=null&&Lu(e,"checked",t,!1)}function gc(e,t){Dm(e,t);var r=Zr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yc(e,t.type,r):t.hasOwnProperty("defaultValue")&&yc(e,t.type,Zr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ah(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function yc(e,t,r){(t!=="number"||ea(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var oi=Array.isArray;function is(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function xc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(oi(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zr(r)}}function Um(e,t){var r=Zr(t.value),n=Zr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ch(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var go,zm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(go=go||document.createElement("div"),go.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=go.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Si(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cx=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(e){Cx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),di[t]=di[e]})});function Bm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||di.hasOwnProperty(e)&&di[e]?(""+t).trim():t+"px"}function qm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Bm(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Tx=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wc(e,t){if(t){if(Tx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function bc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=null;function Du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nc=null,os=null,as=null;function uh(e){if(e=eo(e)){if(typeof Nc!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Fa(t),Nc(e.stateNode,e.type,t))}}function Hm(e){os?as?as.push(e):as=[e]:os=e}function Vm(){if(os){var e=os,t=as;if(as=os=null,uh(e),t)for(e=0;e<t.length;e++)uh(t[e])}}function Wm(e,t){return e(t)}function Gm(){}var Tl=!1;function Km(e,t,r){if(Tl)return e(t,r);Tl=!0;try{return Wm(e,t,r)}finally{Tl=!1,(os!==null||as!==null)&&(Gm(),Vm())}}function ki(e,t){var r=e.stateNode;if(r===null)return null;var n=Fa(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var _c=!1;if(cr)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){_c=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{_c=!1}function Px(e,t,r,n,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var hi=!1,ta=null,ra=!1,Sc=null,Rx={onError:function(e){hi=!0,ta=e}};function Ax(e,t,r,n,s,o,a,l,c){hi=!1,ta=null,Px.apply(Rx,arguments)}function Ox(e,t,r,n,s,o,a,l,c){if(Ax.apply(this,arguments),hi){if(hi){var u=ta;hi=!1,ta=null}else throw Error(T(198));ra||(ra=!0,Sc=u)}}function In(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Qm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dh(e){if(In(e)!==e)throw Error(T(188))}function Lx(e){var t=e.alternate;if(!t){if(t=In(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return dh(s),e;if(o===n)return dh(s),t;o=o.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=o;break}if(l===n){a=!0,n=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=s;break}if(l===n){a=!0,n=o,r=s;break}l=l.sibling}if(!a)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function Ym(e){return e=Lx(e),e!==null?Jm(e):null}function Jm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jm(e);if(t!==null)return t;e=e.sibling}return null}var Zm=mt.unstable_scheduleCallback,hh=mt.unstable_cancelCallback,Ix=mt.unstable_shouldYield,Mx=mt.unstable_requestPaint,we=mt.unstable_now,$x=mt.unstable_getCurrentPriorityLevel,Uu=mt.unstable_ImmediatePriority,Xm=mt.unstable_UserBlockingPriority,na=mt.unstable_NormalPriority,Dx=mt.unstable_LowPriority,ep=mt.unstable_IdlePriority,Ma=null,Kt=null;function Ux(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Ma,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:Bx,Fx=Math.log,zx=Math.LN2;function Bx(e){return e>>>=0,e===0?32:31-(Fx(e)/zx|0)|0}var yo=64,xo=4194304;function ai(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sa(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=ai(l):(o&=a,o!==0&&(n=ai(o)))}else a=r&~s,a!==0?n=ai(a):o!==0&&(n=ai(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ot(t),s=1<<r,n|=e[r],t&=~s;return n}function qx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hx(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Ot(o),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=qx(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function kc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tp(){var e=yo;return yo<<=1,!(yo&4194240)&&(yo=64),e}function Pl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ot(t),e[t]=r}function Vx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ot(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Fu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ot(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var se=0;function rp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var np,zu,sp,ip,op,Ec=!1,vo=[],Hr=null,Vr=null,Wr=null,Ei=new Map,Ci=new Map,Ar=[],Wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fh(e,t){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Ei.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(t.pointerId)}}function Ys(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=eo(t),t!==null&&zu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Gx(e,t,r,n,s){switch(t){case"focusin":return Hr=Ys(Hr,e,t,r,n,s),!0;case"dragenter":return Vr=Ys(Vr,e,t,r,n,s),!0;case"mouseover":return Wr=Ys(Wr,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return Ei.set(o,Ys(Ei.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Ci.set(o,Ys(Ci.get(o)||null,e,t,r,n,s)),!0}return!1}function ap(e){var t=yn(e.target);if(t!==null){var r=In(t);if(r!==null){if(t=r.tag,t===13){if(t=Qm(r),t!==null){e.blockedOn=t,op(e.priority,function(){sp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Cc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);jc=n,r.target.dispatchEvent(n),jc=null}else return t=eo(r),t!==null&&zu(t),e.blockedOn=r,!1;t.shift()}return!0}function mh(e,t,r){zo(e)&&r.delete(t)}function Kx(){Ec=!1,Hr!==null&&zo(Hr)&&(Hr=null),Vr!==null&&zo(Vr)&&(Vr=null),Wr!==null&&zo(Wr)&&(Wr=null),Ei.forEach(mh),Ci.forEach(mh)}function Js(e,t){e.blockedOn===t&&(e.blockedOn=null,Ec||(Ec=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,Kx)))}function Ti(e){function t(s){return Js(s,e)}if(0<vo.length){Js(vo[0],e);for(var r=1;r<vo.length;r++){var n=vo[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Hr!==null&&Js(Hr,e),Vr!==null&&Js(Vr,e),Wr!==null&&Js(Wr,e),Ei.forEach(t),Ci.forEach(t),r=0;r<Ar.length;r++)n=Ar[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ar.length&&(r=Ar[0],r.blockedOn===null);)ap(r),r.blockedOn===null&&Ar.shift()}var ls=gr.ReactCurrentBatchConfig,ia=!0;function Qx(e,t,r,n){var s=se,o=ls.transition;ls.transition=null;try{se=1,Bu(e,t,r,n)}finally{se=s,ls.transition=o}}function Yx(e,t,r,n){var s=se,o=ls.transition;ls.transition=null;try{se=4,Bu(e,t,r,n)}finally{se=s,ls.transition=o}}function Bu(e,t,r,n){if(ia){var s=Cc(e,t,r,n);if(s===null)Fl(e,t,n,oa,r),fh(e,n);else if(Gx(s,e,t,r,n))n.stopPropagation();else if(fh(e,n),t&4&&-1<Wx.indexOf(e)){for(;s!==null;){var o=eo(s);if(o!==null&&np(o),o=Cc(e,t,r,n),o===null&&Fl(e,t,n,oa,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Fl(e,t,n,null,r)}}var oa=null;function Cc(e,t,r,n){if(oa=null,e=Du(n),e=yn(e),e!==null)if(t=In(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Qm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return oa=e,null}function lp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($x()){case Uu:return 1;case Xm:return 4;case na:case Dx:return 16;case ep:return 536870912;default:return 16}default:return 16}}var Fr=null,qu=null,Bo=null;function cp(){if(Bo)return Bo;var e,t=qu,r=t.length,n,s="value"in Fr?Fr.value:Fr.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[o-n];n++);return Bo=s.slice(e,1<n?1-n:void 0)}function qo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wo(){return!0}function ph(){return!1}function gt(e){function t(r,n,s,o,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?wo:ph,this.isPropagationStopped=ph,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),t}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hu=gt(Fs),Xi=ye({},Fs,{view:0,detail:0}),Jx=gt(Xi),Rl,Al,Zs,$a=ye({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zs&&(Zs&&e.type==="mousemove"?(Rl=e.screenX-Zs.screenX,Al=e.screenY-Zs.screenY):Al=Rl=0,Zs=e),Rl)},movementY:function(e){return"movementY"in e?e.movementY:Al}}),gh=gt($a),Zx=ye({},$a,{dataTransfer:0}),Xx=gt(Zx),ev=ye({},Xi,{relatedTarget:0}),Ol=gt(ev),tv=ye({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),rv=gt(tv),nv=ye({},Fs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sv=gt(nv),iv=ye({},Fs,{data:0}),yh=gt(iv),ov={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},av={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lv[e])?!!t[e]:!1}function Vu(){return cv}var uv=ye({},Xi,{key:function(e){if(e.key){var t=ov[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?av[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vu,charCode:function(e){return e.type==="keypress"?qo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dv=gt(uv),hv=ye({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xh=gt(hv),fv=ye({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vu}),mv=gt(fv),pv=ye({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),gv=gt(pv),yv=ye({},$a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xv=gt(yv),vv=[9,13,27,32],Wu=cr&&"CompositionEvent"in window,fi=null;cr&&"documentMode"in document&&(fi=document.documentMode);var wv=cr&&"TextEvent"in window&&!fi,up=cr&&(!Wu||fi&&8<fi&&11>=fi),vh=" ",wh=!1;function dp(e,t){switch(e){case"keyup":return vv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qn=!1;function bv(e,t){switch(e){case"compositionend":return hp(t);case"keypress":return t.which!==32?null:(wh=!0,vh);case"textInput":return e=t.data,e===vh&&wh?null:e;default:return null}}function jv(e,t){if(Qn)return e==="compositionend"||!Wu&&dp(e,t)?(e=cp(),Bo=qu=Fr=null,Qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return up&&t.locale!=="ko"?null:t.data;default:return null}}var Nv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nv[e.type]:t==="textarea"}function fp(e,t,r,n){Hm(n),t=aa(t,"onChange"),0<t.length&&(r=new Hu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var mi=null,Pi=null;function _v(e){_p(e,0)}function Da(e){var t=Zn(e);if($m(t))return e}function Sv(e,t){if(e==="change")return t}var mp=!1;if(cr){var Ll;if(cr){var Il="oninput"in document;if(!Il){var jh=document.createElement("div");jh.setAttribute("oninput","return;"),Il=typeof jh.oninput=="function"}Ll=Il}else Ll=!1;mp=Ll&&(!document.documentMode||9<document.documentMode)}function Nh(){mi&&(mi.detachEvent("onpropertychange",pp),Pi=mi=null)}function pp(e){if(e.propertyName==="value"&&Da(Pi)){var t=[];fp(t,Pi,e,Du(e)),Km(_v,t)}}function kv(e,t,r){e==="focusin"?(Nh(),mi=t,Pi=r,mi.attachEvent("onpropertychange",pp)):e==="focusout"&&Nh()}function Ev(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Da(Pi)}function Cv(e,t){if(e==="click")return Da(t)}function Tv(e,t){if(e==="input"||e==="change")return Da(t)}function Pv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:Pv;function Ri(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!uc.call(t,s)||!It(e[s],t[s]))return!1}return!0}function _h(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sh(e,t){var r=_h(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_h(r)}}function gp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yp(){for(var e=window,t=ea();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ea(e.document)}return t}function Gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rv(e){var t=yp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&gp(r.ownerDocument.documentElement,r)){if(n!==null&&Gu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Sh(r,o);var a=Sh(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Av=cr&&"documentMode"in document&&11>=document.documentMode,Yn=null,Tc=null,pi=null,Pc=!1;function kh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Pc||Yn==null||Yn!==ea(n)||(n=Yn,"selectionStart"in n&&Gu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pi&&Ri(pi,n)||(pi=n,n=aa(Tc,"onSelect"),0<n.length&&(t=new Hu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Yn)))}function bo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Jn={animationend:bo("Animation","AnimationEnd"),animationiteration:bo("Animation","AnimationIteration"),animationstart:bo("Animation","AnimationStart"),transitionend:bo("Transition","TransitionEnd")},Ml={},xp={};cr&&(xp=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function Ua(e){if(Ml[e])return Ml[e];if(!Jn[e])return e;var t=Jn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xp)return Ml[e]=t[r];return e}var vp=Ua("animationend"),wp=Ua("animationiteration"),bp=Ua("animationstart"),jp=Ua("transitionend"),Np=new Map,Eh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function on(e,t){Np.set(e,t),Ln(t,[e])}for(var $l=0;$l<Eh.length;$l++){var Dl=Eh[$l],Ov=Dl.toLowerCase(),Lv=Dl[0].toUpperCase()+Dl.slice(1);on(Ov,"on"+Lv)}on(vp,"onAnimationEnd");on(wp,"onAnimationIteration");on(bp,"onAnimationStart");on("dblclick","onDoubleClick");on("focusin","onFocus");on("focusout","onBlur");on(jp,"onTransitionEnd");_s("onMouseEnter",["mouseout","mouseover"]);_s("onMouseLeave",["mouseout","mouseover"]);_s("onPointerEnter",["pointerout","pointerover"]);_s("onPointerLeave",["pointerout","pointerover"]);Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iv=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function Ch(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ox(n,t,void 0,e),e.currentTarget=null}function _p(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Ch(s,l,u),o=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Ch(s,l,u),o=c}}}if(ra)throw e=Sc,ra=!1,Sc=null,e}function ue(e,t){var r=t[Ic];r===void 0&&(r=t[Ic]=new Set);var n=e+"__bubble";r.has(n)||(Sp(t,e,2,!1),r.add(n))}function Ul(e,t,r){var n=0;t&&(n|=4),Sp(r,e,n,t)}var jo="_reactListening"+Math.random().toString(36).slice(2);function Ai(e){if(!e[jo]){e[jo]=!0,Am.forEach(function(r){r!=="selectionchange"&&(Iv.has(r)||Ul(r,!1,e),Ul(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jo]||(t[jo]=!0,Ul("selectionchange",!1,t))}}function Sp(e,t,r,n){switch(lp(t)){case 1:var s=Qx;break;case 4:s=Yx;break;default:s=Bu}r=s.bind(null,t,r,e),s=void 0,!_c||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Fl(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=yn(l),a===null)return;if(c=a.tag,c===5||c===6){n=o=a;continue e}l=l.parentNode}}n=n.return}Km(function(){var u=o,f=Du(r),d=[];e:{var h=Np.get(e);if(h!==void 0){var g=Hu,m=e;switch(e){case"keypress":if(qo(r)===0)break e;case"keydown":case"keyup":g=dv;break;case"focusin":m="focus",g=Ol;break;case"focusout":m="blur",g=Ol;break;case"beforeblur":case"afterblur":g=Ol;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Xx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=mv;break;case vp:case wp:case bp:g=rv;break;case jp:g=gv;break;case"scroll":g=Jx;break;case"wheel":g=xv;break;case"copy":case"cut":case"paste":g=sv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=xh}var y=(t&4)!==0,w=!y&&e==="scroll",p=y?h!==null?h+"Capture":null:h;y=[];for(var x=u,b;x!==null;){b=x;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,p!==null&&(j=ki(x,p),j!=null&&y.push(Oi(x,j,b)))),w)break;x=x.return}0<y.length&&(h=new g(h,m,null,r,f),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==jc&&(m=r.relatedTarget||r.fromElement)&&(yn(m)||m[ur]))break e;if((g||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=u,m=m?yn(m):null,m!==null&&(w=In(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=u),g!==m)){if(y=gh,j="onMouseLeave",p="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=xh,j="onPointerLeave",p="onPointerEnter",x="pointer"),w=g==null?h:Zn(g),b=m==null?h:Zn(m),h=new y(j,x+"leave",g,r,f),h.target=w,h.relatedTarget=b,j=null,yn(f)===u&&(y=new y(p,x+"enter",m,r,f),y.target=b,y.relatedTarget=w,j=y),w=j,g&&m)t:{for(y=g,p=m,x=0,b=y;b;b=Bn(b))x++;for(b=0,j=p;j;j=Bn(j))b++;for(;0<x-b;)y=Bn(y),x--;for(;0<b-x;)p=Bn(p),b--;for(;x--;){if(y===p||p!==null&&y===p.alternate)break t;y=Bn(y),p=Bn(p)}y=null}else y=null;g!==null&&Th(d,h,g,y,!1),m!==null&&w!==null&&Th(d,w,m,y,!0)}}e:{if(h=u?Zn(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var N=Sv;else if(bh(h))if(mp)N=Tv;else{N=Ev;var _=kv}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=Cv);if(N&&(N=N(e,u))){fp(d,N,r,f);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&yc(h,"number",h.value)}switch(_=u?Zn(u):window,e){case"focusin":(bh(_)||_.contentEditable==="true")&&(Yn=_,Tc=u,pi=null);break;case"focusout":pi=Tc=Yn=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,kh(d,r,f);break;case"selectionchange":if(Av)break;case"keydown":case"keyup":kh(d,r,f)}var S;if(Wu)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Qn?dp(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(up&&r.locale!=="ko"&&(Qn||k!=="onCompositionStart"?k==="onCompositionEnd"&&Qn&&(S=cp()):(Fr=f,qu="value"in Fr?Fr.value:Fr.textContent,Qn=!0)),_=aa(u,k),0<_.length&&(k=new yh(k,e,null,r,f),d.push({event:k,listeners:_}),S?k.data=S:(S=hp(r),S!==null&&(k.data=S)))),(S=wv?bv(e,r):jv(e,r))&&(u=aa(u,"onBeforeInput"),0<u.length&&(f=new yh("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=S))}_p(d,t)})}function Oi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function aa(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ki(e,r),o!=null&&n.unshift(Oi(e,o,s)),o=ki(e,t),o!=null&&n.push(Oi(e,o,s))),e=e.return}return n}function Bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Th(e,t,r,n,s){for(var o=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ki(r,o),c!=null&&a.unshift(Oi(r,c,l))):s||(c=ki(r,o),c!=null&&a.push(Oi(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Mv=/\r\n?/g,$v=/\u0000|\uFFFD/g;function Ph(e){return(typeof e=="string"?e:""+e).replace(Mv,`
`).replace($v,"")}function No(e,t,r){if(t=Ph(t),Ph(e)!==t&&r)throw Error(T(425))}function la(){}var Rc=null,Ac=null;function Oc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lc=typeof setTimeout=="function"?setTimeout:void 0,Dv=typeof clearTimeout=="function"?clearTimeout:void 0,Rh=typeof Promise=="function"?Promise:void 0,Uv=typeof queueMicrotask=="function"?queueMicrotask:typeof Rh<"u"?function(e){return Rh.resolve(null).then(e).catch(Fv)}:Lc;function Fv(e){setTimeout(function(){throw e})}function zl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ti(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ti(t)}function Gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ah(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zs=Math.random().toString(36).slice(2),Gt="__reactFiber$"+zs,Li="__reactProps$"+zs,ur="__reactContainer$"+zs,Ic="__reactEvents$"+zs,zv="__reactListeners$"+zs,Bv="__reactHandles$"+zs;function yn(e){var t=e[Gt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ur]||r[Gt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ah(e);e!==null;){if(r=e[Gt])return r;e=Ah(e)}return t}e=r,r=e.parentNode}return null}function eo(e){return e=e[Gt]||e[ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Fa(e){return e[Li]||null}var Mc=[],Xn=-1;function an(e){return{current:e}}function de(e){0>Xn||(e.current=Mc[Xn],Mc[Xn]=null,Xn--)}function ae(e,t){Xn++,Mc[Xn]=e.current,e.current=t}var Xr={},De=an(Xr),Ye=an(!1),En=Xr;function Ss(e,t){var r=e.type.contextTypes;if(!r)return Xr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Je(e){return e=e.childContextTypes,e!=null}function ca(){de(Ye),de(De)}function Oh(e,t,r){if(De.current!==Xr)throw Error(T(168));ae(De,t),ae(Ye,r)}function kp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,kx(e)||"Unknown",s));return ye({},r,n)}function ua(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xr,En=De.current,ae(De,e),ae(Ye,Ye.current),!0}function Lh(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=kp(e,t,En),n.__reactInternalMemoizedMergedChildContext=e,de(Ye),de(De),ae(De,e)):de(Ye),ae(Ye,r)}var ir=null,za=!1,Bl=!1;function Ep(e){ir===null?ir=[e]:ir.push(e)}function qv(e){za=!0,Ep(e)}function ln(){if(!Bl&&ir!==null){Bl=!0;var e=0,t=se;try{var r=ir;for(se=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ir=null,za=!1}catch(s){throw ir!==null&&(ir=ir.slice(e+1)),Zm(Uu,ln),s}finally{se=t,Bl=!1}}return null}var es=[],ts=0,da=null,ha=0,xt=[],vt=0,Cn=null,or=1,ar="";function fn(e,t){es[ts++]=ha,es[ts++]=da,da=e,ha=t}function Cp(e,t,r){xt[vt++]=or,xt[vt++]=ar,xt[vt++]=Cn,Cn=e;var n=or;e=ar;var s=32-Ot(n)-1;n&=~(1<<s),r+=1;var o=32-Ot(t)+s;if(30<o){var a=s-s%5;o=(n&(1<<a)-1).toString(32),n>>=a,s-=a,or=1<<32-Ot(t)+s|r<<s|n,ar=o+e}else or=1<<o|r<<s|n,ar=e}function Ku(e){e.return!==null&&(fn(e,1),Cp(e,1,0))}function Qu(e){for(;e===da;)da=es[--ts],es[ts]=null,ha=es[--ts],es[ts]=null;for(;e===Cn;)Cn=xt[--vt],xt[vt]=null,ar=xt[--vt],xt[vt]=null,or=xt[--vt],xt[vt]=null}var dt=null,ct=null,he=!1,At=null;function Tp(e,t){var r=wt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ih(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dt=e,ct=Gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dt=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cn!==null?{id:or,overflow:ar}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=wt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,dt=e,ct=null,!0):!1;default:return!1}}function $c(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dc(e){if(he){var t=ct;if(t){var r=t;if(!Ih(e,t)){if($c(e))throw Error(T(418));t=Gr(r.nextSibling);var n=dt;t&&Ih(e,t)?Tp(n,r):(e.flags=e.flags&-4097|2,he=!1,dt=e)}}else{if($c(e))throw Error(T(418));e.flags=e.flags&-4097|2,he=!1,dt=e}}}function Mh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dt=e}function _o(e){if(e!==dt)return!1;if(!he)return Mh(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oc(e.type,e.memoizedProps)),t&&(t=ct)){if($c(e))throw Pp(),Error(T(418));for(;t;)Tp(e,t),t=Gr(t.nextSibling)}if(Mh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ct=Gr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=dt?Gr(e.stateNode.nextSibling):null;return!0}function Pp(){for(var e=ct;e;)e=Gr(e.nextSibling)}function ks(){ct=dt=null,he=!1}function Yu(e){At===null?At=[e]:At.push(e)}var Hv=gr.ReactCurrentBatchConfig;function Xs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function So(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $h(e){var t=e._init;return t(e._payload)}function Rp(e){function t(p,x){if(e){var b=p.deletions;b===null?(p.deletions=[x],p.flags|=16):b.push(x)}}function r(p,x){if(!e)return null;for(;x!==null;)t(p,x),x=x.sibling;return null}function n(p,x){for(p=new Map;x!==null;)x.key!==null?p.set(x.key,x):p.set(x.index,x),x=x.sibling;return p}function s(p,x){return p=Jr(p,x),p.index=0,p.sibling=null,p}function o(p,x,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<x?(p.flags|=2,x):b):(p.flags|=2,x)):(p.flags|=1048576,x)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,x,b,j){return x===null||x.tag!==6?(x=Ql(b,p.mode,j),x.return=p,x):(x=s(x,b),x.return=p,x)}function c(p,x,b,j){var N=b.type;return N===Kn?f(p,x,b.props.children,j,b.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Tr&&$h(N)===x.type)?(j=s(x,b.props),j.ref=Xs(p,x,b),j.return=p,j):(j=Yo(b.type,b.key,b.props,null,p.mode,j),j.ref=Xs(p,x,b),j.return=p,j)}function u(p,x,b,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Yl(b,p.mode,j),x.return=p,x):(x=s(x,b.children||[]),x.return=p,x)}function f(p,x,b,j,N){return x===null||x.tag!==7?(x=Sn(b,p.mode,j,N),x.return=p,x):(x=s(x,b),x.return=p,x)}function d(p,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ql(""+x,p.mode,b),x.return=p,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mo:return b=Yo(x.type,x.key,x.props,null,p.mode,b),b.ref=Xs(p,null,x),b.return=p,b;case Gn:return x=Yl(x,p.mode,b),x.return=p,x;case Tr:var j=x._init;return d(p,j(x._payload),b)}if(oi(x)||Ks(x))return x=Sn(x,p.mode,b,null),x.return=p,x;So(p,x)}return null}function h(p,x,b,j){var N=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(p,x,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case mo:return b.key===N?c(p,x,b,j):null;case Gn:return b.key===N?u(p,x,b,j):null;case Tr:return N=b._init,h(p,x,N(b._payload),j)}if(oi(b)||Ks(b))return N!==null?null:f(p,x,b,j,null);So(p,b)}return null}function g(p,x,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(b)||null,l(x,p,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case mo:return p=p.get(j.key===null?b:j.key)||null,c(x,p,j,N);case Gn:return p=p.get(j.key===null?b:j.key)||null,u(x,p,j,N);case Tr:var _=j._init;return g(p,x,b,_(j._payload),N)}if(oi(j)||Ks(j))return p=p.get(b)||null,f(x,p,j,N,null);So(x,j)}return null}function m(p,x,b,j){for(var N=null,_=null,S=x,k=x=0,I=null;S!==null&&k<b.length;k++){S.index>k?(I=S,S=null):I=S.sibling;var L=h(p,S,b[k],j);if(L===null){S===null&&(S=I);break}e&&S&&L.alternate===null&&t(p,S),x=o(L,x,k),_===null?N=L:_.sibling=L,_=L,S=I}if(k===b.length)return r(p,S),he&&fn(p,k),N;if(S===null){for(;k<b.length;k++)S=d(p,b[k],j),S!==null&&(x=o(S,x,k),_===null?N=S:_.sibling=S,_=S);return he&&fn(p,k),N}for(S=n(p,S);k<b.length;k++)I=g(S,p,k,b[k],j),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?k:I.key),x=o(I,x,k),_===null?N=I:_.sibling=I,_=I);return e&&S.forEach(function(q){return t(p,q)}),he&&fn(p,k),N}function y(p,x,b,j){var N=Ks(b);if(typeof N!="function")throw Error(T(150));if(b=N.call(b),b==null)throw Error(T(151));for(var _=N=null,S=x,k=x=0,I=null,L=b.next();S!==null&&!L.done;k++,L=b.next()){S.index>k?(I=S,S=null):I=S.sibling;var q=h(p,S,L.value,j);if(q===null){S===null&&(S=I);break}e&&S&&q.alternate===null&&t(p,S),x=o(q,x,k),_===null?N=q:_.sibling=q,_=q,S=I}if(L.done)return r(p,S),he&&fn(p,k),N;if(S===null){for(;!L.done;k++,L=b.next())L=d(p,L.value,j),L!==null&&(x=o(L,x,k),_===null?N=L:_.sibling=L,_=L);return he&&fn(p,k),N}for(S=n(p,S);!L.done;k++,L=b.next())L=g(S,p,k,L.value,j),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?k:L.key),x=o(L,x,k),_===null?N=L:_.sibling=L,_=L);return e&&S.forEach(function(U){return t(p,U)}),he&&fn(p,k),N}function w(p,x,b,j){if(typeof b=="object"&&b!==null&&b.type===Kn&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case mo:e:{for(var N=b.key,_=x;_!==null;){if(_.key===N){if(N=b.type,N===Kn){if(_.tag===7){r(p,_.sibling),x=s(_,b.props.children),x.return=p,p=x;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Tr&&$h(N)===_.type){r(p,_.sibling),x=s(_,b.props),x.ref=Xs(p,_,b),x.return=p,p=x;break e}r(p,_);break}else t(p,_);_=_.sibling}b.type===Kn?(x=Sn(b.props.children,p.mode,j,b.key),x.return=p,p=x):(j=Yo(b.type,b.key,b.props,null,p.mode,j),j.ref=Xs(p,x,b),j.return=p,p=j)}return a(p);case Gn:e:{for(_=b.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(p,x.sibling),x=s(x,b.children||[]),x.return=p,p=x;break e}else{r(p,x);break}else t(p,x);x=x.sibling}x=Yl(b,p.mode,j),x.return=p,p=x}return a(p);case Tr:return _=b._init,w(p,x,_(b._payload),j)}if(oi(b))return m(p,x,b,j);if(Ks(b))return y(p,x,b,j);So(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(p,x.sibling),x=s(x,b),x.return=p,p=x):(r(p,x),x=Ql(b,p.mode,j),x.return=p,p=x),a(p)):r(p,x)}return w}var Es=Rp(!0),Ap=Rp(!1),fa=an(null),ma=null,rs=null,Ju=null;function Zu(){Ju=rs=ma=null}function Xu(e){var t=fa.current;de(fa),e._currentValue=t}function Uc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function cs(e,t){ma=e,Ju=rs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(Ju!==e)if(e={context:e,memoizedValue:t,next:null},rs===null){if(ma===null)throw Error(T(308));rs=e,ma.dependencies={lanes:0,firstContext:e}}else rs=rs.next=e;return t}var xn=null;function ed(e){xn===null?xn=[e]:xn.push(e)}function Op(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ed(t)):(r.next=s.next,s.next=r),t.interleaved=r,dr(e,n)}function dr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Pr=!1;function td(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ee&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,dr(e,r)}return s=n.interleaved,s===null?(t.next=t,ed(n)):(t.next=s.next,s.next=t),n.interleaved=t,dr(e,r)}function Ho(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Fu(e,r)}}function Dh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pa(e,t,r,n){var s=e.updateQueue;Pr=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(o!==null){var d=s.baseState;a=0,f=u=c=null,l=o;do{var h=l.lane,g=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,y=l;switch(h=t,g=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(g,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(g,d,h):m,h==null)break e;d=ye({},d,h);break e;case 2:Pr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=g,c=d):f=f.next=g,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Pn|=a,e.lanes=a,e.memoizedState=d}}function Uh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var to={},Qt=an(to),Ii=an(to),Mi=an(to);function vn(e){if(e===to)throw Error(T(174));return e}function rd(e,t){switch(ae(Mi,t),ae(Ii,e),ae(Qt,to),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vc(t,e)}de(Qt),ae(Qt,t)}function Cs(){de(Qt),de(Ii),de(Mi)}function Ip(e){vn(Mi.current);var t=vn(Qt.current),r=vc(t,e.type);t!==r&&(ae(Ii,e),ae(Qt,r))}function nd(e){Ii.current===e&&(de(Qt),de(Ii))}var me=an(0);function ga(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ql=[];function sd(){for(var e=0;e<ql.length;e++)ql[e]._workInProgressVersionPrimary=null;ql.length=0}var Vo=gr.ReactCurrentDispatcher,Hl=gr.ReactCurrentBatchConfig,Tn=0,ge=null,je=null,ke=null,ya=!1,gi=!1,$i=0,Vv=0;function Le(){throw Error(T(321))}function id(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!It(e[r],t[r]))return!1;return!0}function od(e,t,r,n,s,o){if(Tn=o,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vo.current=e===null||e.memoizedState===null?Qv:Yv,e=r(n,s),gi){o=0;do{if(gi=!1,$i=0,25<=o)throw Error(T(301));o+=1,ke=je=null,t.updateQueue=null,Vo.current=Jv,e=r(n,s)}while(gi)}if(Vo.current=xa,t=je!==null&&je.next!==null,Tn=0,ke=je=ge=null,ya=!1,t)throw Error(T(300));return e}function ad(){var e=$i!==0;return $i=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?ge.memoizedState=ke=e:ke=ke.next=e,ke}function _t(){if(je===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=ke===null?ge.memoizedState:ke.next;if(t!==null)ke=t,je=e;else{if(e===null)throw Error(T(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},ke===null?ge.memoizedState=ke=e:ke=ke.next=e}return ke}function Di(e,t){return typeof t=="function"?t(e):t}function Vl(e){var t=_t(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=je,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=a=null,c=null,u=o;do{var f=u.lane;if((Tn&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,a=n):c=c.next=d,ge.lanes|=f,Pn|=f}u=u.next}while(u!==null&&u!==o);c===null?a=n:c.next=l,It(n,t.memoizedState)||(Qe=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,ge.lanes|=o,Pn|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wl(e){var t=_t(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);It(o,t.memoizedState)||(Qe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Mp(){}function $p(e,t){var r=ge,n=_t(),s=t(),o=!It(n.memoizedState,s);if(o&&(n.memoizedState=s,Qe=!0),n=n.queue,ld(Fp.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||ke!==null&&ke.memoizedState.tag&1){if(r.flags|=2048,Ui(9,Up.bind(null,r,n,s,t),void 0,null),Ee===null)throw Error(T(349));Tn&30||Dp(r,t,s)}return s}function Dp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Up(e,t,r,n){t.value=r,t.getSnapshot=n,zp(t)&&Bp(e)}function Fp(e,t,r){return r(function(){zp(t)&&Bp(e)})}function zp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!It(e,r)}catch{return!0}}function Bp(e){var t=dr(e,1);t!==null&&Lt(t,e,1,-1)}function Fh(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},t.queue=e,e=e.dispatch=Kv.bind(null,ge,e),[t.memoizedState,e]}function Ui(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function qp(){return _t().memoizedState}function Wo(e,t,r,n){var s=qt();ge.flags|=e,s.memoizedState=Ui(1|t,r,void 0,n===void 0?null:n)}function Ba(e,t,r,n){var s=_t();n=n===void 0?null:n;var o=void 0;if(je!==null){var a=je.memoizedState;if(o=a.destroy,n!==null&&id(n,a.deps)){s.memoizedState=Ui(t,r,o,n);return}}ge.flags|=e,s.memoizedState=Ui(1|t,r,o,n)}function zh(e,t){return Wo(8390656,8,e,t)}function ld(e,t){return Ba(2048,8,e,t)}function Hp(e,t){return Ba(4,2,e,t)}function Vp(e,t){return Ba(4,4,e,t)}function Wp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gp(e,t,r){return r=r!=null?r.concat([e]):null,Ba(4,4,Wp.bind(null,t,e),r)}function cd(){}function Kp(e,t){var r=_t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&id(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Qp(e,t){var r=_t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&id(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Yp(e,t,r){return Tn&21?(It(r,t)||(r=tp(),ge.lanes|=r,Pn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=r)}function Wv(e,t){var r=se;se=r!==0&&4>r?r:4,e(!0);var n=Hl.transition;Hl.transition={};try{e(!1),t()}finally{se=r,Hl.transition=n}}function Jp(){return _t().memoizedState}function Gv(e,t,r){var n=Yr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Zp(e))Xp(t,r);else if(r=Op(e,t,r,n),r!==null){var s=Be();Lt(r,e,n,s),eg(r,t,n)}}function Kv(e,t,r){var n=Yr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zp(e))Xp(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,It(l,a)){var c=t.interleaved;c===null?(s.next=s,ed(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Op(e,t,s,n),r!==null&&(s=Be(),Lt(r,e,n,s),eg(r,t,n))}}function Zp(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function Xp(e,t){gi=ya=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function eg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Fu(e,r)}}var xa={readContext:Nt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},Qv={readContext:Nt,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:zh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Wo(4194308,4,Wp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Wo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wo(4,2,e,t)},useMemo:function(e,t){var r=qt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=qt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Gv.bind(null,ge,e),[n.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:Fh,useDebugValue:cd,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=Fh(!1),t=e[0];return e=Wv.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ge,s=qt();if(he){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),Ee===null)throw Error(T(349));Tn&30||Dp(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,zh(Fp.bind(null,n,o,e),[e]),n.flags|=2048,Ui(9,Up.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=qt(),t=Ee.identifierPrefix;if(he){var r=ar,n=or;r=(n&~(1<<32-Ot(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$i++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Vv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yv={readContext:Nt,useCallback:Kp,useContext:Nt,useEffect:ld,useImperativeHandle:Gp,useInsertionEffect:Hp,useLayoutEffect:Vp,useMemo:Qp,useReducer:Vl,useRef:qp,useState:function(){return Vl(Di)},useDebugValue:cd,useDeferredValue:function(e){var t=_t();return Yp(t,je.memoizedState,e)},useTransition:function(){var e=Vl(Di)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Mp,useSyncExternalStore:$p,useId:Jp,unstable_isNewReconciler:!1},Jv={readContext:Nt,useCallback:Kp,useContext:Nt,useEffect:ld,useImperativeHandle:Gp,useInsertionEffect:Hp,useLayoutEffect:Vp,useMemo:Qp,useReducer:Wl,useRef:qp,useState:function(){return Wl(Di)},useDebugValue:cd,useDeferredValue:function(e){var t=_t();return je===null?t.memoizedState=e:Yp(t,je.memoizedState,e)},useTransition:function(){var e=Wl(Di)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Mp,useSyncExternalStore:$p,useId:Jp,unstable_isNewReconciler:!1};function Et(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Fc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ye({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var qa={isMounted:function(e){return(e=e._reactInternals)?In(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Be(),s=Yr(e),o=lr(n,s);o.payload=t,r!=null&&(o.callback=r),t=Kr(e,o,s),t!==null&&(Lt(t,e,s,n),Ho(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Be(),s=Yr(e),o=lr(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Kr(e,o,s),t!==null&&(Lt(t,e,s,n),Ho(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Be(),n=Yr(e),s=lr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Kr(e,s,n),t!==null&&(Lt(t,e,n,r),Ho(t,e,n))}};function Bh(e,t,r,n,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!Ri(r,n)||!Ri(s,o):!0}function tg(e,t,r){var n=!1,s=Xr,o=t.contextType;return typeof o=="object"&&o!==null?o=Nt(o):(s=Je(t)?En:De.current,n=t.contextTypes,o=(n=n!=null)?Ss(e,s):Xr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qa,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function qh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&qa.enqueueReplaceState(t,t.state,null)}function zc(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},td(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Nt(o):(o=Je(t)?En:De.current,s.context=Ss(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Fc(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&qa.enqueueReplaceState(s,s.state,null),pa(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ts(e,t){try{var r="",n=t;do r+=Sx(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Gl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Bc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Zv=typeof WeakMap=="function"?WeakMap:Map;function rg(e,t,r){r=lr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){wa||(wa=!0,Zc=n),Bc(e,t)},r}function ng(e,t,r){r=lr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Bc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Bc(e,t),typeof n!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Hh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Zv;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=hw.bind(null,e,t,r),t.then(e,e))}function Vh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wh(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=lr(-1,1),t.tag=2,Kr(r,t,1))),r.lanes|=1),e)}var Xv=gr.ReactCurrentOwner,Qe=!1;function Fe(e,t,r,n){t.child=e===null?Ap(t,null,r,n):Es(t,e.child,r,n)}function Gh(e,t,r,n,s){r=r.render;var o=t.ref;return cs(t,s),n=od(e,t,r,n,o,s),r=ad(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hr(e,t,s)):(he&&r&&Ku(t),t.flags|=1,Fe(e,t,n,s),t.child)}function Kh(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!yd(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,sg(e,t,o,n,s)):(e=Yo(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ri,r(a,n)&&e.ref===t.ref)return hr(e,t,s)}return t.flags|=1,e=Jr(o,n),e.ref=t.ref,e.return=t,t.child=e}function sg(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Ri(o,n)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,hr(e,t,s)}return qc(e,t,r,n,s)}function ig(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(ss,at),at|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ae(ss,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ae(ss,at),at|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,ae(ss,at),at|=n;return Fe(e,t,s,r),t.child}function og(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function qc(e,t,r,n,s){var o=Je(r)?En:De.current;return o=Ss(t,o),cs(t,s),r=od(e,t,r,n,o,s),n=ad(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hr(e,t,s)):(he&&n&&Ku(t),t.flags|=1,Fe(e,t,r,s),t.child)}function Qh(e,t,r,n,s){if(Je(r)){var o=!0;ua(t)}else o=!1;if(cs(t,s),t.stateNode===null)Go(e,t),tg(t,r,n),zc(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Nt(u):(u=Je(r)?En:De.current,u=Ss(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&qh(t,a,n,u),Pr=!1;var h=t.memoizedState;a.state=h,pa(t,n,a,s),c=t.memoizedState,l!==n||h!==c||Ye.current||Pr?(typeof f=="function"&&(Fc(t,r,f,n),c=t.memoizedState),(l=Pr||Bh(t,r,l,n,h,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Lp(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Et(t.type,l),a.props=u,d=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Nt(c):(c=Je(r)?En:De.current,c=Ss(t,c));var g=r.getDerivedStateFromProps;(f=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||h!==c)&&qh(t,a,n,c),Pr=!1,h=t.memoizedState,a.state=h,pa(t,n,a,s);var m=t.memoizedState;l!==d||h!==m||Ye.current||Pr?(typeof g=="function"&&(Fc(t,r,g,n),m=t.memoizedState),(u=Pr||Bh(t,r,u,n,h,m,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),a.props=n,a.state=m,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Hc(e,t,r,n,o,s)}function Hc(e,t,r,n,s,o){og(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Lh(t,r,!1),hr(e,t,o);n=t.stateNode,Xv.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Es(t,e.child,null,o),t.child=Es(t,null,l,o)):Fe(e,t,l,o),t.memoizedState=n.state,s&&Lh(t,r,!0),t.child}function ag(e){var t=e.stateNode;t.pendingContext?Oh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Oh(e,t.context,!1),rd(e,t.containerInfo)}function Yh(e,t,r,n,s){return ks(),Yu(s),t.flags|=256,Fe(e,t,r,n),t.child}var Vc={dehydrated:null,treeContext:null,retryLane:0};function Wc(e){return{baseLanes:e,cachePool:null,transitions:null}}function lg(e,t,r){var n=t.pendingProps,s=me.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ae(me,s&1),e===null)return Dc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Wa(a,n,0,null),e=Sn(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Wc(r),t.memoizedState=Vc,e):ud(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ew(e,t,a,n,l,s,r);if(o){o=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Jr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Jr(l,o):(o=Sn(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?Wc(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=Vc,n}return o=e.child,e=o.sibling,n=Jr(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ud(e,t){return t=Wa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ko(e,t,r,n){return n!==null&&Yu(n),Es(t,e.child,null,r),e=ud(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ew(e,t,r,n,s,o,a){if(r)return t.flags&256?(t.flags&=-257,n=Gl(Error(T(422))),ko(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Wa({mode:"visible",children:n.children},s,0,null),o=Sn(o,s,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Es(t,e.child,null,a),t.child.memoizedState=Wc(a),t.memoizedState=Vc,o);if(!(t.mode&1))return ko(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(T(419)),n=Gl(o,n,void 0),ko(e,t,a,n)}if(l=(a&e.childLanes)!==0,Qe||l){if(n=Ee,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,dr(e,s),Lt(n,e,s,-1))}return gd(),n=Gl(Error(T(421))),ko(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=fw.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,ct=Gr(s.nextSibling),dt=t,he=!0,At=null,e!==null&&(xt[vt++]=or,xt[vt++]=ar,xt[vt++]=Cn,or=e.id,ar=e.overflow,Cn=t),t=ud(t,n.children),t.flags|=4096,t)}function Jh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Uc(e.return,t,r)}function Kl(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function cg(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(Fe(e,t,n.children,r),n=me.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jh(e,r,t);else if(e.tag===19)Jh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ae(me,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ga(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Kl(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ga(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Kl(t,!0,r,null,o);break;case"together":Kl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=Jr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function tw(e,t,r){switch(t.tag){case 3:ag(t),ks();break;case 5:Ip(t);break;case 1:Je(t.type)&&ua(t);break;case 4:rd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ae(fa,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ae(me,me.current&1),t.flags|=128,null):r&t.child.childLanes?lg(e,t,r):(ae(me,me.current&1),e=hr(e,t,r),e!==null?e.sibling:null);ae(me,me.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return cg(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ae(me,me.current),n)break;return null;case 22:case 23:return t.lanes=0,ig(e,t,r)}return hr(e,t,r)}var ug,Gc,dg,hg;ug=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Gc=function(){};dg=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,vn(Qt.current);var o=null;switch(r){case"input":s=pc(e,s),n=pc(e,n),o=[];break;case"select":s=ye({},s,{value:void 0}),n=ye({},n,{value:void 0}),o=[];break;case"textarea":s=xc(e,s),n=xc(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=la)}wc(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_i.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_i.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ue("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};hg=function(e,t,r,n){r!==n&&(t.flags|=4)};function ei(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function rw(e,t,r){var n=t.pendingProps;switch(Qu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Je(t.type)&&ca(),Ie(t),null;case 3:return n=t.stateNode,Cs(),de(Ye),de(De),sd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_o(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(tu(At),At=null))),Gc(e,t),Ie(t),null;case 5:nd(t);var s=vn(Mi.current);if(r=t.type,e!==null&&t.stateNode!=null)dg(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return Ie(t),null}if(e=vn(Qt.current),_o(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Gt]=t,n[Li]=o,e=(t.mode&1)!==0,r){case"dialog":ue("cancel",n),ue("close",n);break;case"iframe":case"object":case"embed":ue("load",n);break;case"video":case"audio":for(s=0;s<li.length;s++)ue(li[s],n);break;case"source":ue("error",n);break;case"img":case"image":case"link":ue("error",n),ue("load",n);break;case"details":ue("toggle",n);break;case"input":oh(n,o),ue("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ue("invalid",n);break;case"textarea":lh(n,o),ue("invalid",n)}wc(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&No(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&No(n.textContent,l,e),s=["children",""+l]):_i.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ue("scroll",n)}switch(r){case"input":po(n),ah(n,o,!0);break;case"textarea":po(n),ch(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=la)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Gt]=t,e[Li]=n,ug(e,t,!1,!1),t.stateNode=e;e:{switch(a=bc(r,n),r){case"dialog":ue("cancel",e),ue("close",e),s=n;break;case"iframe":case"object":case"embed":ue("load",e),s=n;break;case"video":case"audio":for(s=0;s<li.length;s++)ue(li[s],e);s=n;break;case"source":ue("error",e),s=n;break;case"img":case"image":case"link":ue("error",e),ue("load",e),s=n;break;case"details":ue("toggle",e),s=n;break;case"input":oh(e,n),s=pc(e,n),ue("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ye({},n,{value:void 0}),ue("invalid",e);break;case"textarea":lh(e,n),s=xc(e,n),ue("invalid",e);break;default:s=n}wc(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?qm(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zm(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Si(e,c):typeof c=="number"&&Si(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_i.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ue("scroll",e):c!=null&&Lu(e,o,c,a))}switch(r){case"input":po(e),ah(e,n,!1);break;case"textarea":po(e),ch(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zr(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?is(e,!!n.multiple,o,!1):n.defaultValue!=null&&is(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=la)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)hg(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=vn(Mi.current),vn(Qt.current),_o(t)){if(n=t.stateNode,r=t.memoizedProps,n[Gt]=t,(o=n.nodeValue!==r)&&(e=dt,e!==null))switch(e.tag){case 3:No(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&No(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Gt]=t,t.stateNode=n}return Ie(t),null;case 13:if(de(me),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&ct!==null&&t.mode&1&&!(t.flags&128))Pp(),ks(),t.flags|=98560,o=!1;else if(o=_o(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(T(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(T(317));o[Gt]=t}else ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),o=!1}else At!==null&&(tu(At),At=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?_e===0&&(_e=3):gd())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return Cs(),Gc(e,t),e===null&&Ai(t.stateNode.containerInfo),Ie(t),null;case 10:return Xu(t.type._context),Ie(t),null;case 17:return Je(t.type)&&ca(),Ie(t),null;case 19:if(de(me),o=t.memoizedState,o===null)return Ie(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)ei(o,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ga(e),a!==null){for(t.flags|=128,ei(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ae(me,me.current&1|2),t.child}e=e.sibling}o.tail!==null&&we()>Ps&&(t.flags|=128,n=!0,ei(o,!1),t.lanes=4194304)}else{if(!n)if(e=ga(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ei(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!he)return Ie(t),null}else 2*we()-o.renderingStartTime>Ps&&r!==1073741824&&(t.flags|=128,n=!0,ei(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=we(),t.sibling=null,r=me.current,ae(me,n?r&1|2:r&1),t):(Ie(t),null);case 22:case 23:return pd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?at&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function nw(e,t){switch(Qu(t),t.tag){case 1:return Je(t.type)&&ca(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cs(),de(Ye),de(De),sd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nd(t),null;case 13:if(de(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(me),null;case 4:return Cs(),null;case 10:return Xu(t.type._context),null;case 22:case 23:return pd(),null;case 24:return null;default:return null}}var Eo=!1,$e=!1,sw=typeof WeakSet=="function"?WeakSet:Set,$=null;function ns(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ve(e,t,n)}else r.current=null}function Kc(e,t,r){try{r()}catch(n){ve(e,t,n)}}var Zh=!1;function iw(e,t){if(Rc=ia,e=yp(),Gu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var g;d!==r||s!==0&&d.nodeType!==3||(l=a+s),d!==o||n!==0&&d.nodeType!==3||(c=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===e)break t;if(h===r&&++u===s&&(l=a),h===o&&++f===n&&(c=a),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ac={focusedElem:e,selectionRange:r},ia=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,w=m.memoizedState,p=t.stateNode,x=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:Et(t.type,y),w);p.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(j){ve(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return m=Zh,Zh=!1,m}function yi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Kc(t,r,o)}s=s.next}while(s!==n)}}function Ha(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Qc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function fg(e){var t=e.alternate;t!==null&&(e.alternate=null,fg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[Li],delete t[Ic],delete t[zv],delete t[Bv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mg(e){return e.tag===5||e.tag===3||e.tag===4}function Xh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=la));else if(n!==4&&(e=e.child,e!==null))for(Yc(e,t,r),e=e.sibling;e!==null;)Yc(e,t,r),e=e.sibling}function Jc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Jc(e,t,r),e=e.sibling;e!==null;)Jc(e,t,r),e=e.sibling}var Pe=null,Pt=!1;function Nr(e,t,r){for(r=r.child;r!==null;)pg(e,t,r),r=r.sibling}function pg(e,t,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Ma,r)}catch{}switch(r.tag){case 5:$e||ns(r,t);case 6:var n=Pe,s=Pt;Pe=null,Nr(e,t,r),Pe=n,Pt=s,Pe!==null&&(Pt?(e=Pe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pe.removeChild(r.stateNode));break;case 18:Pe!==null&&(Pt?(e=Pe,r=r.stateNode,e.nodeType===8?zl(e.parentNode,r):e.nodeType===1&&zl(e,r),Ti(e)):zl(Pe,r.stateNode));break;case 4:n=Pe,s=Pt,Pe=r.stateNode.containerInfo,Pt=!0,Nr(e,t,r),Pe=n,Pt=s;break;case 0:case 11:case 14:case 15:if(!$e&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Kc(r,t,a),s=s.next}while(s!==n)}Nr(e,t,r);break;case 1:if(!$e&&(ns(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ve(r,t,l)}Nr(e,t,r);break;case 21:Nr(e,t,r);break;case 22:r.mode&1?($e=(n=$e)||r.memoizedState!==null,Nr(e,t,r),$e=n):Nr(e,t,r);break;default:Nr(e,t,r)}}function ef(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new sw),t.forEach(function(n){var s=mw.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function kt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Pe=l.stateNode,Pt=!1;break e;case 3:Pe=l.stateNode.containerInfo,Pt=!0;break e;case 4:Pe=l.stateNode.containerInfo,Pt=!0;break e}l=l.return}if(Pe===null)throw Error(T(160));pg(o,a,s),Pe=null,Pt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ve(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gg(t,e),t=t.sibling}function gg(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kt(t,e),zt(e),n&4){try{yi(3,e,e.return),Ha(3,e)}catch(y){ve(e,e.return,y)}try{yi(5,e,e.return)}catch(y){ve(e,e.return,y)}}break;case 1:kt(t,e),zt(e),n&512&&r!==null&&ns(r,r.return);break;case 5:if(kt(t,e),zt(e),n&512&&r!==null&&ns(r,r.return),e.flags&32){var s=e.stateNode;try{Si(s,"")}catch(y){ve(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Dm(s,o),bc(l,a);var u=bc(l,o);for(a=0;a<c.length;a+=2){var f=c[a],d=c[a+1];f==="style"?qm(s,d):f==="dangerouslySetInnerHTML"?zm(s,d):f==="children"?Si(s,d):Lu(s,f,d,u)}switch(l){case"input":gc(s,o);break;case"textarea":Um(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?is(s,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?is(s,!!o.multiple,o.defaultValue,!0):is(s,!!o.multiple,o.multiple?[]:"",!1))}s[Li]=o}catch(y){ve(e,e.return,y)}}break;case 6:if(kt(t,e),zt(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){ve(e,e.return,y)}}break;case 3:if(kt(t,e),zt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ti(t.containerInfo)}catch(y){ve(e,e.return,y)}break;case 4:kt(t,e),zt(e);break;case 13:kt(t,e),zt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(fd=we())),n&4&&ef(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?($e=(u=$e)||f,kt(t,e),$e=u):kt(t,e),zt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for($=e,f=e.child;f!==null;){for(d=$=f;$!==null;){switch(h=$,g=h.child,h.tag){case 0:case 11:case 14:case 15:yi(4,h,h.return);break;case 1:ns(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){ve(n,r,y)}}break;case 5:ns(h,h.return);break;case 22:if(h.memoizedState!==null){rf(d);continue}}g!==null?(g.return=h,$=g):rf(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Bm("display",a))}catch(y){ve(e,e.return,y)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){ve(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:kt(t,e),zt(e),n&4&&ef(e);break;case 21:break;default:kt(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(mg(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Si(s,""),n.flags&=-33);var o=Xh(e);Jc(e,o,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Xh(e);Yc(e,l,a);break;default:throw Error(T(161))}}catch(c){ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ow(e,t,r){$=e,yg(e)}function yg(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var s=$,o=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Eo;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||$e;l=Eo;var u=$e;if(Eo=a,($e=c)&&!u)for($=s;$!==null;)a=$,c=a.child,a.tag===22&&a.memoizedState!==null?nf(s):c!==null?(c.return=a,$=c):nf(s);for(;o!==null;)$=o,yg(o),o=o.sibling;$=s,Eo=l,$e=u}tf(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,$=o):tf(e)}}function tf(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||Ha(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$e)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Et(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Uh(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Uh(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Ti(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}$e||t.flags&512&&Qc(t)}catch(h){ve(t,t.return,h)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function rf(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function nf(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ha(4,t)}catch(c){ve(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ve(t,s,c)}}var o=t.return;try{Qc(t)}catch(c){ve(t,o,c)}break;case 5:var a=t.return;try{Qc(t)}catch(c){ve(t,a,c)}}}catch(c){ve(t,t.return,c)}if(t===e){$=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$=l;break}$=t.return}}var aw=Math.ceil,va=gr.ReactCurrentDispatcher,dd=gr.ReactCurrentOwner,bt=gr.ReactCurrentBatchConfig,ee=0,Ee=null,be=null,Re=0,at=0,ss=an(0),_e=0,Fi=null,Pn=0,Va=0,hd=0,xi=null,Ge=null,fd=0,Ps=1/0,nr=null,wa=!1,Zc=null,Qr=null,Co=!1,zr=null,ba=0,vi=0,Xc=null,Ko=-1,Qo=0;function Be(){return ee&6?we():Ko!==-1?Ko:Ko=we()}function Yr(e){return e.mode&1?ee&2&&Re!==0?Re&-Re:Hv.transition!==null?(Qo===0&&(Qo=tp()),Qo):(e=se,e!==0||(e=window.event,e=e===void 0?16:lp(e.type)),e):1}function Lt(e,t,r,n){if(50<vi)throw vi=0,Xc=null,Error(T(185));Zi(e,r,n),(!(ee&2)||e!==Ee)&&(e===Ee&&(!(ee&2)&&(Va|=r),_e===4&&Or(e,Re)),Ze(e,n),r===1&&ee===0&&!(t.mode&1)&&(Ps=we()+500,za&&ln()))}function Ze(e,t){var r=e.callbackNode;Hx(e,t);var n=sa(e,e===Ee?Re:0);if(n===0)r!==null&&hh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&hh(r),t===1)e.tag===0?qv(sf.bind(null,e)):Ep(sf.bind(null,e)),Uv(function(){!(ee&6)&&ln()}),r=null;else{switch(rp(n)){case 1:r=Uu;break;case 4:r=Xm;break;case 16:r=na;break;case 536870912:r=ep;break;default:r=na}r=Sg(r,xg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xg(e,t){if(Ko=-1,Qo=0,ee&6)throw Error(T(327));var r=e.callbackNode;if(us()&&e.callbackNode!==r)return null;var n=sa(e,e===Ee?Re:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ja(e,n);else{t=n;var s=ee;ee|=2;var o=wg();(Ee!==e||Re!==t)&&(nr=null,Ps=we()+500,_n(e,t));do try{uw();break}catch(l){vg(e,l)}while(!0);Zu(),va.current=o,ee=s,be!==null?t=0:(Ee=null,Re=0,t=_e)}if(t!==0){if(t===2&&(s=kc(e),s!==0&&(n=s,t=eu(e,s))),t===1)throw r=Fi,_n(e,0),Or(e,n),Ze(e,we()),r;if(t===6)Or(e,n);else{if(s=e.current.alternate,!(n&30)&&!lw(s)&&(t=ja(e,n),t===2&&(o=kc(e),o!==0&&(n=o,t=eu(e,o))),t===1))throw r=Fi,_n(e,0),Or(e,n),Ze(e,we()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:mn(e,Ge,nr);break;case 3:if(Or(e,n),(n&130023424)===n&&(t=fd+500-we(),10<t)){if(sa(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Be(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Lc(mn.bind(null,e,Ge,nr),t);break}mn(e,Ge,nr);break;case 4:if(Or(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Ot(n);o=1<<a,a=t[a],a>s&&(s=a),n&=~o}if(n=s,n=we()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*aw(n/1960))-n,10<n){e.timeoutHandle=Lc(mn.bind(null,e,Ge,nr),n);break}mn(e,Ge,nr);break;case 5:mn(e,Ge,nr);break;default:throw Error(T(329))}}}return Ze(e,we()),e.callbackNode===r?xg.bind(null,e):null}function eu(e,t){var r=xi;return e.current.memoizedState.isDehydrated&&(_n(e,t).flags|=256),e=ja(e,t),e!==2&&(t=Ge,Ge=r,t!==null&&tu(t)),e}function tu(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function lw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!It(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Or(e,t){for(t&=~hd,t&=~Va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ot(t),n=1<<r;e[r]=-1,t&=~n}}function sf(e){if(ee&6)throw Error(T(327));us();var t=sa(e,0);if(!(t&1))return Ze(e,we()),null;var r=ja(e,t);if(e.tag!==0&&r===2){var n=kc(e);n!==0&&(t=n,r=eu(e,n))}if(r===1)throw r=Fi,_n(e,0),Or(e,t),Ze(e,we()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mn(e,Ge,nr),Ze(e,we()),null}function md(e,t){var r=ee;ee|=1;try{return e(t)}finally{ee=r,ee===0&&(Ps=we()+500,za&&ln())}}function Rn(e){zr!==null&&zr.tag===0&&!(ee&6)&&us();var t=ee;ee|=1;var r=bt.transition,n=se;try{if(bt.transition=null,se=1,e)return e()}finally{se=n,bt.transition=r,ee=t,!(ee&6)&&ln()}}function pd(){at=ss.current,de(ss)}function _n(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Dv(r)),be!==null)for(r=be.return;r!==null;){var n=r;switch(Qu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ca();break;case 3:Cs(),de(Ye),de(De),sd();break;case 5:nd(n);break;case 4:Cs();break;case 13:de(me);break;case 19:de(me);break;case 10:Xu(n.type._context);break;case 22:case 23:pd()}r=r.return}if(Ee=e,be=e=Jr(e.current,null),Re=at=t,_e=0,Fi=null,hd=Va=Pn=0,Ge=xi=null,xn!==null){for(t=0;t<xn.length;t++)if(r=xn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,n.next=a}r.pending=n}xn=null}return e}function vg(e,t){do{var r=be;try{if(Zu(),Vo.current=xa,ya){for(var n=ge.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ya=!1}if(Tn=0,ke=je=ge=null,gi=!1,$i=0,dd.current=null,r===null||r.return===null){_e=1,Fi=t,be=null;break}e:{var o=e,a=r.return,l=r,c=t;if(t=Re,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=Vh(a);if(g!==null){g.flags&=-257,Wh(g,a,l,o,t),g.mode&1&&Hh(o,u,t),t=g,c=u;var m=t.updateQueue;if(m===null){var y=new Set;y.add(c),t.updateQueue=y}else m.add(c);break e}else{if(!(t&1)){Hh(o,u,t),gd();break e}c=Error(T(426))}}else if(he&&l.mode&1){var w=Vh(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Wh(w,a,l,o,t),Yu(Ts(c,l));break e}}o=c=Ts(c,l),_e!==4&&(_e=2),xi===null?xi=[o]:xi.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=rg(o,c,t);Dh(o,p);break e;case 1:l=c;var x=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Qr===null||!Qr.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=ng(o,l,t);Dh(o,j);break e}}o=o.return}while(o!==null)}jg(r)}catch(N){t=N,be===r&&r!==null&&(be=r=r.return);continue}break}while(!0)}function wg(){var e=va.current;return va.current=xa,e===null?xa:e}function gd(){(_e===0||_e===3||_e===2)&&(_e=4),Ee===null||!(Pn&268435455)&&!(Va&268435455)||Or(Ee,Re)}function ja(e,t){var r=ee;ee|=2;var n=wg();(Ee!==e||Re!==t)&&(nr=null,_n(e,t));do try{cw();break}catch(s){vg(e,s)}while(!0);if(Zu(),ee=r,va.current=n,be!==null)throw Error(T(261));return Ee=null,Re=0,_e}function cw(){for(;be!==null;)bg(be)}function uw(){for(;be!==null&&!Ix();)bg(be)}function bg(e){var t=_g(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?jg(e):be=t,dd.current=null}function jg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=nw(r,t),r!==null){r.flags&=32767,be=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,be=null;return}}else if(r=rw(r,t,at),r!==null){be=r;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);_e===0&&(_e=5)}function mn(e,t,r){var n=se,s=bt.transition;try{bt.transition=null,se=1,dw(e,t,r,n)}finally{bt.transition=s,se=n}return null}function dw(e,t,r,n){do us();while(zr!==null);if(ee&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Vx(e,o),e===Ee&&(be=Ee=null,Re=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Co||(Co=!0,Sg(na,function(){return us(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=bt.transition,bt.transition=null;var a=se;se=1;var l=ee;ee|=4,dd.current=null,iw(e,r),gg(r,e),Rv(Ac),ia=!!Rc,Ac=Rc=null,e.current=r,ow(r),Mx(),ee=l,se=a,bt.transition=o}else e.current=r;if(Co&&(Co=!1,zr=e,ba=s),o=e.pendingLanes,o===0&&(Qr=null),Ux(r.stateNode),Ze(e,we()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(wa)throw wa=!1,e=Zc,Zc=null,e;return ba&1&&e.tag!==0&&us(),o=e.pendingLanes,o&1?e===Xc?vi++:(vi=0,Xc=e):vi=0,ln(),null}function us(){if(zr!==null){var e=rp(ba),t=bt.transition,r=se;try{if(bt.transition=null,se=16>e?16:e,zr===null)var n=!1;else{if(e=zr,zr=null,ba=0,ee&6)throw Error(T(331));var s=ee;for(ee|=4,$=e.current;$!==null;){var o=$,a=o.child;if($.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for($=u;$!==null;){var f=$;switch(f.tag){case 0:case 11:case 15:yi(8,f,o)}var d=f.child;if(d!==null)d.return=f,$=d;else for(;$!==null;){f=$;var h=f.sibling,g=f.return;if(fg(f),f===u){$=null;break}if(h!==null){h.return=g,$=h;break}$=g}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}$=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,$=a;else e:for(;$!==null;){if(o=$,o.flags&2048)switch(o.tag){case 0:case 11:case 15:yi(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,$=p;break e}$=o.return}}var x=e.current;for($=x;$!==null;){a=$;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,$=b;else e:for(a=x;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ha(9,l)}}catch(N){ve(l,l.return,N)}if(l===a){$=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,$=j;break e}$=l.return}}if(ee=s,ln(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Ma,e)}catch{}n=!0}return n}finally{se=r,bt.transition=t}}return!1}function of(e,t,r){t=Ts(r,t),t=rg(e,t,1),e=Kr(e,t,1),t=Be(),e!==null&&(Zi(e,1,t),Ze(e,t))}function ve(e,t,r){if(e.tag===3)of(e,e,r);else for(;t!==null;){if(t.tag===3){of(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qr===null||!Qr.has(n))){e=Ts(r,e),e=ng(t,e,1),t=Kr(t,e,1),e=Be(),t!==null&&(Zi(t,1,e),Ze(t,e));break}}t=t.return}}function hw(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&r,Ee===e&&(Re&r)===r&&(_e===4||_e===3&&(Re&130023424)===Re&&500>we()-fd?_n(e,0):hd|=r),Ze(e,t)}function Ng(e,t){t===0&&(e.mode&1?(t=xo,xo<<=1,!(xo&130023424)&&(xo=4194304)):t=1);var r=Be();e=dr(e,t),e!==null&&(Zi(e,t,r),Ze(e,r))}function fw(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ng(e,r)}function mw(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),Ng(e,r)}var _g;_g=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Qe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Qe=!1,tw(e,t,r);Qe=!!(e.flags&131072)}else Qe=!1,he&&t.flags&1048576&&Cp(t,ha,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Go(e,t),e=t.pendingProps;var s=Ss(t,De.current);cs(t,r),s=od(null,t,n,e,s,r);var o=ad();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(n)?(o=!0,ua(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,td(t),s.updater=qa,t.stateNode=s,s._reactInternals=t,zc(t,n,e,r),t=Hc(null,t,n,!0,o,r)):(t.tag=0,he&&o&&Ku(t),Fe(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=gw(n),e=Et(n,e),s){case 0:t=qc(null,t,n,e,r);break e;case 1:t=Qh(null,t,n,e,r);break e;case 11:t=Gh(null,t,n,e,r);break e;case 14:t=Kh(null,t,n,Et(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Et(n,s),qc(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Et(n,s),Qh(e,t,n,s,r);case 3:e:{if(ag(t),e===null)throw Error(T(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Lp(e,t),pa(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Ts(Error(T(423)),t),t=Yh(e,t,n,r,s);break e}else if(n!==s){s=Ts(Error(T(424)),t),t=Yh(e,t,n,r,s);break e}else for(ct=Gr(t.stateNode.containerInfo.firstChild),dt=t,he=!0,At=null,r=Ap(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ks(),n===s){t=hr(e,t,r);break e}Fe(e,t,n,r)}t=t.child}return t;case 5:return Ip(t),e===null&&Dc(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,Oc(n,s)?a=null:o!==null&&Oc(n,o)&&(t.flags|=32),og(e,t),Fe(e,t,a,r),t.child;case 6:return e===null&&Dc(t),null;case 13:return lg(e,t,r);case 4:return rd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Es(t,null,n,r):Fe(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Et(n,s),Gh(e,t,n,s,r);case 7:return Fe(e,t,t.pendingProps,r),t.child;case 8:return Fe(e,t,t.pendingProps.children,r),t.child;case 12:return Fe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,ae(fa,n._currentValue),n._currentValue=a,o!==null)if(It(o.value,a)){if(o.children===s.children&&!Ye.current){t=hr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=lr(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Uc(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(T(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Uc(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Fe(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,cs(t,r),s=Nt(s),n=n(s),t.flags|=1,Fe(e,t,n,r),t.child;case 14:return n=t.type,s=Et(n,t.pendingProps),s=Et(n.type,s),Kh(e,t,n,s,r);case 15:return sg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Et(n,s),Go(e,t),t.tag=1,Je(n)?(e=!0,ua(t)):e=!1,cs(t,r),tg(t,n,s),zc(t,n,s,r),Hc(null,t,n,!0,e,r);case 19:return cg(e,t,r);case 22:return ig(e,t,r)}throw Error(T(156,t.tag))};function Sg(e,t){return Zm(e,t)}function pw(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,r,n){return new pw(e,t,r,n)}function yd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gw(e){if(typeof e=="function")return yd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mu)return 11;if(e===$u)return 14}return 2}function Jr(e,t){var r=e.alternate;return r===null?(r=wt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Yo(e,t,r,n,s,o){var a=2;if(n=e,typeof e=="function")yd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Kn:return Sn(r.children,s,o,t);case Iu:a=8,s|=8;break;case dc:return e=wt(12,r,t,s|2),e.elementType=dc,e.lanes=o,e;case hc:return e=wt(13,r,t,s),e.elementType=hc,e.lanes=o,e;case fc:return e=wt(19,r,t,s),e.elementType=fc,e.lanes=o,e;case Im:return Wa(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Om:a=10;break e;case Lm:a=9;break e;case Mu:a=11;break e;case $u:a=14;break e;case Tr:a=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=wt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Sn(e,t,r,n){return e=wt(7,e,n,t),e.lanes=r,e}function Wa(e,t,r,n){return e=wt(22,e,n,t),e.elementType=Im,e.lanes=r,e.stateNode={isHidden:!1},e}function Ql(e,t,r){return e=wt(6,e,null,t),e.lanes=r,e}function Yl(e,t,r){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yw(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xd(e,t,r,n,s,o,a,l,c){return e=new yw(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=wt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},td(o),e}function xw(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function kg(e){if(!e)return Xr;e=e._reactInternals;e:{if(In(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(Je(r))return kp(e,r,t)}return t}function Eg(e,t,r,n,s,o,a,l,c){return e=xd(r,n,!0,e,s,o,a,l,c),e.context=kg(null),r=e.current,n=Be(),s=Yr(r),o=lr(n,s),o.callback=t??null,Kr(r,o,s),e.current.lanes=s,Zi(e,s,n),Ze(e,n),e}function Ga(e,t,r,n){var s=t.current,o=Be(),a=Yr(s);return r=kg(r),t.context===null?t.context=r:t.pendingContext=r,t=lr(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Kr(s,t,a),e!==null&&(Lt(e,s,a,o),Ho(e,s,a)),a}function Na(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function af(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function vd(e,t){af(e,t),(e=e.alternate)&&af(e,t)}function vw(){return null}var Cg=typeof reportError=="function"?reportError:function(e){console.error(e)};function wd(e){this._internalRoot=e}Ka.prototype.render=wd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Ga(e,t,null,null)};Ka.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rn(function(){Ga(null,e,null,null)}),t[ur]=null}};function Ka(e){this._internalRoot=e}Ka.prototype.unstable_scheduleHydration=function(e){if(e){var t=ip();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ar.length&&t!==0&&t<Ar[r].priority;r++);Ar.splice(r,0,e),r===0&&ap(e)}};function bd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lf(){}function ww(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=Na(a);o.call(u)}}var a=Eg(t,n,e,0,null,!1,!1,"",lf);return e._reactRootContainer=a,e[ur]=a.current,Ai(e.nodeType===8?e.parentNode:e),Rn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Na(c);l.call(u)}}var c=xd(e,0,!1,null,null,!1,!1,"",lf);return e._reactRootContainer=c,e[ur]=c.current,Ai(e.nodeType===8?e.parentNode:e),Rn(function(){Ga(t,c,r,n)}),c}function Ya(e,t,r,n,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=Na(a);l.call(c)}}Ga(t,a,e,s)}else a=ww(r,t,e,s,n);return Na(a)}np=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ai(t.pendingLanes);r!==0&&(Fu(t,r|1),Ze(t,we()),!(ee&6)&&(Ps=we()+500,ln()))}break;case 13:Rn(function(){var n=dr(e,1);if(n!==null){var s=Be();Lt(n,e,1,s)}}),vd(e,1)}};zu=function(e){if(e.tag===13){var t=dr(e,134217728);if(t!==null){var r=Be();Lt(t,e,134217728,r)}vd(e,134217728)}};sp=function(e){if(e.tag===13){var t=Yr(e),r=dr(e,t);if(r!==null){var n=Be();Lt(r,e,t,n)}vd(e,t)}};ip=function(){return se};op=function(e,t){var r=se;try{return se=e,t()}finally{se=r}};Nc=function(e,t,r){switch(t){case"input":if(gc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Fa(n);if(!s)throw Error(T(90));$m(n),gc(n,s)}}}break;case"textarea":Um(e,r);break;case"select":t=r.value,t!=null&&is(e,!!r.multiple,t,!1)}};Wm=md;Gm=Rn;var bw={usingClientEntryPoint:!1,Events:[eo,Zn,Fa,Hm,Vm,md]},ti={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jw={bundleType:ti.bundleType,version:ti.version,rendererPackageName:ti.rendererPackageName,rendererConfig:ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ym(e),e===null?null:e.stateNode},findFiberByHostInstance:ti.findFiberByHostInstance||vw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{Ma=To.inject(jw),Kt=To}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bw;pt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bd(t))throw Error(T(200));return xw(e,t,null,r)};pt.createRoot=function(e,t){if(!bd(e))throw Error(T(299));var r=!1,n="",s=Cg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=xd(e,1,!1,null,null,r,!1,n,s),e[ur]=t.current,Ai(e.nodeType===8?e.parentNode:e),new wd(t)};pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Ym(t),e=e===null?null:e.stateNode,e};pt.flushSync=function(e){return Rn(e)};pt.hydrate=function(e,t,r){if(!Qa(t))throw Error(T(200));return Ya(null,e,t,!0,r)};pt.hydrateRoot=function(e,t,r){if(!bd(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",a=Cg;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Eg(t,null,e,1,r??null,s,!1,o,a),e[ur]=t.current,Ai(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ka(t)};pt.render=function(e,t,r){if(!Qa(t))throw Error(T(200));return Ya(null,e,t,!1,r)};pt.unmountComponentAtNode=function(e){if(!Qa(e))throw Error(T(40));return e._reactRootContainer?(Rn(function(){Ya(null,null,e,!1,function(){e._reactRootContainer=null,e[ur]=null})}),!0):!1};pt.unstable_batchedUpdates=md;pt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qa(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Ya(e,t,r,!1,n)};pt.version="18.3.1-next-f1338f8080-20240426";function Tg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tg)}catch(e){console.error(e)}}Tg(),Tm.exports=pt;var ro=Tm.exports;const Pg=ym(ro);var Rg,cf=ro;Rg=cf.createRoot,cf.hydrateRoot;const Nw=1,_w=1e6;let Jl=0;function Sw(){return Jl=(Jl+1)%Number.MAX_SAFE_INTEGER,Jl.toString()}const Zl=new Map,uf=e=>{if(Zl.has(e))return;const t=setTimeout(()=>{Zl.delete(e),wi({type:"REMOVE_TOAST",toastId:e})},_w);Zl.set(e,t)},kw=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Nw)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?uf(r):e.toasts.forEach(n=>{uf(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Jo=[];let Zo={toasts:[]};function wi(e){Zo=kw(Zo,e),Jo.forEach(t=>{t(Zo)})}function Ew({...e}){const t=Sw(),r=s=>wi({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>wi({type:"DISMISS_TOAST",toastId:t});return wi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function te(){const[e,t]=v.useState(Zo);return v.useEffect(()=>(Jo.push(t),()=>{const r=Jo.indexOf(t);r>-1&&Jo.splice(r,1)}),[e]),{...e,toast:Ew,dismiss:r=>wi({type:"DISMISS_TOAST",toastId:r})}}function Ne(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Cw(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ag(...e){return t=>e.forEach(r=>Cw(r,t))}function Mt(...e){return v.useCallback(Ag(...e),e)}function Tw(e,t=[]){let r=[];function n(o,a){const l=v.createContext(a),c=r.length;r=[...r,a];function u(d){const{scope:h,children:g,...m}=d,y=(h==null?void 0:h[e][c])||l,w=v.useMemo(()=>m,Object.values(m));return i.jsx(y.Provider,{value:w,children:g})}function f(d,h){const g=(h==null?void 0:h[e][c])||l,m=v.useContext(g);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(a=>v.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Pw(s,...t)]}function Pw(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var _a=v.forwardRef((e,t)=>{const{children:r,...n}=e,s=v.Children.toArray(r),o=s.find(Rw);if(o){const a=o.props.children,l=s.map(c=>c===o?v.Children.count(a)>1?v.Children.only(null):v.isValidElement(a)?a.props.children:null:c);return i.jsx(ru,{...n,ref:t,children:v.isValidElement(a)?v.cloneElement(a,void 0,l):null})}return i.jsx(ru,{...n,ref:t,children:r})});_a.displayName="Slot";var ru=v.forwardRef((e,t)=>{const{children:r,...n}=e;if(v.isValidElement(r)){const s=Ow(r);return v.cloneElement(r,{...Aw(n,r.props),ref:t?Ag(t,s):s})}return v.Children.count(r)>1?v.Children.only(null):null});ru.displayName="SlotClone";var Og=({children:e})=>i.jsx(i.Fragment,{children:e});function Rw(e){return v.isValidElement(e)&&e.type===Og}function Aw(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function Ow(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Lw(e){const t=e+"CollectionProvider",[r,n]=Tw(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:m,children:y}=g,w=O.useRef(null),p=O.useRef(new Map).current;return i.jsx(s,{scope:m,itemMap:p,collectionRef:w,children:y})};a.displayName=t;const l=e+"CollectionSlot",c=O.forwardRef((g,m)=>{const{scope:y,children:w}=g,p=o(l,y),x=Mt(m,p.collectionRef);return i.jsx(_a,{ref:x,children:w})});c.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",d=O.forwardRef((g,m)=>{const{scope:y,children:w,...p}=g,x=O.useRef(null),b=Mt(m,x),j=o(u,y);return O.useEffect(()=>(j.itemMap.set(x,{ref:x,...p}),()=>void j.itemMap.delete(x))),i.jsx(_a,{[f]:"",ref:b,children:w})});d.displayName=u;function h(g){const m=o(e+"CollectionConsumer",g);return O.useCallback(()=>{const w=m.collectionRef.current;if(!w)return[];const p=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(m.itemMap.values()).sort((j,N)=>p.indexOf(j.ref.current)-p.indexOf(N.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:c,ItemSlot:d},h,n]}function Lg(e,t=[]){let r=[];function n(o,a){const l=v.createContext(a),c=r.length;r=[...r,a];const u=d=>{var p;const{scope:h,children:g,...m}=d,y=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,w=v.useMemo(()=>m,Object.values(m));return i.jsx(y.Provider,{value:w,children:g})};u.displayName=o+"Provider";function f(d,h){var y;const g=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,m=v.useContext(g);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,f]}const s=()=>{const o=r.map(a=>v.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Iw(s,...t)]}function Iw(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var Mw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],tt=Mw.reduce((e,t)=>{const r=v.forwardRef((n,s)=>{const{asChild:o,...a}=n,l=o?_a:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ig(e,t){e&&ro.flushSync(()=>e.dispatchEvent(t))}function Yt(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function $w(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Dw="DismissableLayer",nu="dismissableLayer.update",Uw="dismissableLayer.pointerDownOutside",Fw="dismissableLayer.focusOutside",df,Mg=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jd=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=e,u=v.useContext(Mg),[f,d]=v.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=v.useState({}),m=Mt(t,S=>d(S)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=y.indexOf(w),x=f?y.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=x>=p,N=Bw(S=>{const k=S.target,I=[...u.branches].some(L=>L.contains(k));!j||I||(s==null||s(S),a==null||a(S),S.defaultPrevented||l==null||l())},h),_=qw(S=>{const k=S.target;[...u.branches].some(L=>L.contains(k))||(o==null||o(S),a==null||a(S),S.defaultPrevented||l==null||l())},h);return $w(S=>{x===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),v.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(df=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),hf(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=df)}},[f,h,r,u]),v.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),hf())},[f,u]),v.useEffect(()=>{const S=()=>g({});return document.addEventListener(nu,S),()=>document.removeEventListener(nu,S)},[]),i.jsx(tt.div,{...c,ref:m,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:Ne(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Ne(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ne(e.onPointerDownCapture,N.onPointerDownCapture)})});jd.displayName=Dw;var zw="DismissableLayerBranch",$g=v.forwardRef((e,t)=>{const r=v.useContext(Mg),n=v.useRef(null),s=Mt(t,n);return v.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),i.jsx(tt.div,{...e,ref:s})});$g.displayName=zw;function Bw(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){Dg(Uw,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function qw(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=v.useRef(!1);return v.useEffect(()=>{const s=o=>{o.target&&!n.current&&Dg(Fw,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function hf(){const e=new CustomEvent(nu);document.dispatchEvent(e)}function Dg(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Ig(s,o):s.dispatchEvent(o)}var Hw=jd,Vw=$g,An=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Ww="Portal",Ug=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=v.useState(!1);An(()=>o(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Pg.createPortal(i.jsx(tt.div,{...n,ref:t}),a):null});Ug.displayName=Ww;function Gw(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Nd=e=>{const{present:t,children:r}=e,n=Kw(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),o=Mt(n.ref,Qw(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:o}):null};Nd.displayName="Presence";function Kw(e){const[t,r]=v.useState(),n=v.useRef({}),s=v.useRef(e),o=v.useRef("none"),a=e?"mounted":"unmounted",[l,c]=Gw(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Po(n.current);o.current=l==="mounted"?u:"none"},[l]),An(()=>{const u=n.current,f=s.current;if(f!==e){const h=o.current,g=Po(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),An(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=g=>{const y=Po(n.current).includes(g.animationName);if(g.target===t&&y&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=g=>{g.target===t&&(o.current=Po(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Po(e){return(e==null?void 0:e.animationName)||"none"}function Qw(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Yw({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=Jw({defaultProp:t,onChange:r}),o=e!==void 0,a=o?e:n,l=Yt(r),c=v.useCallback(u=>{if(o){const d=typeof u=="function"?u(e):u;d!==e&&l(d)}else s(u)},[o,e,s,l]);return[a,c]}function Jw({defaultProp:e,onChange:t}){const r=v.useState(e),[n]=r,s=v.useRef(n),o=Yt(t);return v.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}var Zw="VisuallyHidden",Ja=v.forwardRef((e,t)=>i.jsx(tt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ja.displayName=Zw;var Xw=Ja,_d="ToastProvider",[Sd,eb,tb]=Lw("Toast"),[Fg,Xk]=Lg("Toast",[tb]),[rb,Za]=Fg(_d),zg=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=e,[l,c]=v.useState(null),[u,f]=v.useState(0),d=v.useRef(!1),h=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${_d}\`. Expected non-empty \`string\`.`),i.jsx(Sd.Provider,{scope:t,children:i.jsx(rb,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>f(g=>g+1),[]),onToastRemove:v.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:a})})};zg.displayName=_d;var Bg="ToastViewport",nb=["F8"],su="toast.viewportPause",iu="toast.viewportResume",qg=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=nb,label:s="Notifications ({hotkey})",...o}=e,a=Za(Bg,r),l=eb(r),c=v.useRef(null),u=v.useRef(null),f=v.useRef(null),d=v.useRef(null),h=Mt(t,d,a.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=a.toastCount>0;v.useEffect(()=>{const w=p=>{var b;n.length!==0&&n.every(j=>p[j]||p.code===j)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),v.useEffect(()=>{const w=c.current,p=d.current;if(m&&w&&p){const x=()=>{if(!a.isClosePausedRef.current){const _=new CustomEvent(su);p.dispatchEvent(_),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const _=new CustomEvent(iu);p.dispatchEvent(_),a.isClosePausedRef.current=!1}},j=_=>{!w.contains(_.relatedTarget)&&b()},N=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",x),w.addEventListener("focusout",j),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[m,a.isClosePausedRef]);const y=v.useCallback(({tabbingDirection:w})=>{const x=l().map(b=>{const j=b.ref.current,N=[j,...gb(j)];return w==="forwards"?N:N.reverse()});return(w==="forwards"?x.reverse():x).flat()},[l]);return v.useEffect(()=>{const w=d.current;if(w){const p=x=>{var N,_,S;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const k=document.activeElement,I=x.shiftKey;if(x.target===w&&I){(N=u.current)==null||N.focus();return}const U=y({tabbingDirection:I?"backwards":"forwards"}),W=U.findIndex(M=>M===k);Xl(U.slice(W+1))?x.preventDefault():I?(_=u.current)==null||_.focus():(S=f.current)==null||S.focus()}};return w.addEventListener("keydown",p),()=>w.removeEventListener("keydown",p)}},[l,y]),i.jsxs(Vw,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&i.jsx(ou,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});Xl(w)}}),i.jsx(Sd.Slot,{scope:r,children:i.jsx(tt.ol,{tabIndex:-1,...o,ref:h})}),m&&i.jsx(ou,{ref:f,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});Xl(w)}})]})});qg.displayName=Bg;var Hg="ToastFocusProxy",ou=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=Za(Hg,r);return i.jsx(Ja,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&n()}})});ou.displayName=Hg;var Xa="Toast",sb="toast.swipeStart",ib="toast.swipeMove",ob="toast.swipeCancel",ab="toast.swipeEnd",Vg=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...a}=e,[l=!0,c]=Yw({prop:n,defaultProp:s,onChange:o});return i.jsx(Nd,{present:r||l,children:i.jsx(ub,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:Yt(e.onPause),onResume:Yt(e.onResume),onSwipeStart:Ne(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ne(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});Vg.displayName=Xa;var[lb,cb]=Fg(Xa,{onClose(){}}),ub=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:g,...m}=e,y=Za(Xa,r),[w,p]=v.useState(null),x=Mt(t,M=>p(M)),b=v.useRef(null),j=v.useRef(null),N=s||y.duration,_=v.useRef(0),S=v.useRef(N),k=v.useRef(0),{onToastAdd:I,onToastRemove:L}=y,q=Yt(()=>{var A;(w==null?void 0:w.contains(document.activeElement))&&((A=y.viewport)==null||A.focus()),a()}),U=v.useCallback(M=>{!M||M===1/0||(window.clearTimeout(k.current),_.current=new Date().getTime(),k.current=window.setTimeout(q,M))},[q]);v.useEffect(()=>{const M=y.viewport;if(M){const A=()=>{U(S.current),u==null||u()},F=()=>{const V=new Date().getTime()-_.current;S.current=S.current-V,window.clearTimeout(k.current),c==null||c()};return M.addEventListener(su,F),M.addEventListener(iu,A),()=>{M.removeEventListener(su,F),M.removeEventListener(iu,A)}}},[y.viewport,N,c,u,U]),v.useEffect(()=>{o&&!y.isClosePausedRef.current&&U(N)},[o,N,y.isClosePausedRef,U]),v.useEffect(()=>(I(),()=>L()),[I,L]);const W=v.useMemo(()=>w?Zg(w):null,[w]);return y.viewport?i.jsxs(i.Fragment,{children:[W&&i.jsx(db,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),i.jsx(lb,{scope:r,onClose:q,children:ro.createPortal(i.jsx(Sd.ItemSlot,{scope:r,children:i.jsx(Hw,{asChild:!0,onEscapeKeyDown:Ne(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||q(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(tt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...m,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ne(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,q()))}),onPointerDown:Ne(e.onPointerDown,M=>{M.button===0&&(b.current={x:M.clientX,y:M.clientY})}),onPointerMove:Ne(e.onPointerMove,M=>{if(!b.current)return;const A=M.clientX-b.current.x,F=M.clientY-b.current.y,V=!!j.current,E=["left","right"].includes(y.swipeDirection),R=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,z=E?R(0,A):0,D=E?0:R(0,F),H=M.pointerType==="touch"?10:2,X={x:z,y:D},fe={originalEvent:M,delta:X};V?(j.current=X,Ro(ib,d,fe,{discrete:!1})):ff(X,y.swipeDirection,H)?(j.current=X,Ro(sb,f,fe,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(A)>H||Math.abs(F)>H)&&(b.current=null)}),onPointerUp:Ne(e.onPointerUp,M=>{const A=j.current,F=M.target;if(F.hasPointerCapture(M.pointerId)&&F.releasePointerCapture(M.pointerId),j.current=null,b.current=null,A){const V=M.currentTarget,E={originalEvent:M,delta:A};ff(A,y.swipeDirection,y.swipeThreshold)?Ro(ab,g,E,{discrete:!0}):Ro(ob,h,E,{discrete:!0}),V.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),db=e=>{const{__scopeToast:t,children:r,...n}=e,s=Za(Xa,t),[o,a]=v.useState(!1),[l,c]=v.useState(!1);return mb(()=>a(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Ug,{asChild:!0,children:i.jsx(Ja,{...n,children:o&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},hb="ToastTitle",Wg=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(tt.div,{...n,ref:t})});Wg.displayName=hb;var fb="ToastDescription",Gg=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(tt.div,{...n,ref:t})});Gg.displayName=fb;var Kg="ToastAction",Qg=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(Jg,{altText:r,asChild:!0,children:i.jsx(kd,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Kg}\`. Expected non-empty \`string\`.`),null)});Qg.displayName=Kg;var Yg="ToastClose",kd=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=cb(Yg,r);return i.jsx(Jg,{asChild:!0,children:i.jsx(tt.button,{type:"button",...n,ref:t,onClick:Ne(e.onClick,s.onClose)})})});kd.displayName=Yg;var Jg=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(tt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function Zg(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),pb(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...Zg(n))}}),t}function Ro(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Ig(s,o):s.dispatchEvent(o)}var ff=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function mb(e=()=>{}){const t=Yt(e);An(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function pb(e){return e.nodeType===e.ELEMENT_NODE}function gb(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Xl(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var yb=zg,Xg=qg,e0=Vg,t0=Wg,r0=Gg,n0=Qg,s0=kd;function i0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=i0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function o0(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=i0(e))&&(n&&(n+=" "),n+=t);return n}const mf=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,pf=o0,xb=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return pf(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,a=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],d=o==null?void 0:o[u];if(f===null)return null;const h=mf(f)||mf(d);return s[u][h]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:h,...g}=f;return Object.entries(g).every(m=>{let[y,w]=m;return Array.isArray(w)?w.includes({...o,...l}[y]):{...o,...l}[y]===w})?[...u,d,h]:u},[]);return pf(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a0=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:a,...l},c)=>v.createElement("svg",{ref:c,...wb,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:a0("lucide",s),...l},[...a.map(([u,f])=>v.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=(e,t)=>{const r=v.forwardRef(({className:n,...s},o)=>v.createElement(bb,{ref:o,iconNode:t,className:a0(`lucide-${vb(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=B("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=B("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=B("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=B("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=B("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=B("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=B("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=B("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=B("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=B("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=B("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=B("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=B("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=B("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=B("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=B("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=B("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=B("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=B("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=B("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=B("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=B("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=B("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=B("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=B("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=B("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=B("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=B("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=B("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=B("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=B("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=B("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=B("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=B("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=B("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=B("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=B("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=B("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=B("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=B("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=B("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=B("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=B("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Rd="-",Db=e=>{const t=Fb(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(Rd);return l[0]===""&&l.length!==1&&l.shift(),y0(l,t)||Ub(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},y0=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?y0(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Rd);return(a=t.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},vf=/^\[(.+)\]$/,Ub=e=>{if(vf.test(e)){const t=vf.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Fb=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Bb(Object.entries(e.classGroups),r).forEach(([o,a])=>{lu(a,n,o,t)}),n},lu=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:wf(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(zb(s)){lu(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,a])=>{lu(a,wf(t,o),r,n)})})},wf=(e,t)=>{let r=e;return t.split(Rd).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},zb=e=>e.isThemeGetter,Bb=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,l])=>[t+a,l])):o);return[r,s]}):e,qb=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,a)=>{r.set(o,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return s(o,a),a},set(o,a){r.has(o)?r.set(o,a):s(o,a)}}},x0="!",Hb=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,a=l=>{const c=[];let u=0,f=0,d;for(let w=0;w<l.length;w++){let p=l[w];if(u===0){if(p===s&&(n||l.slice(w,w+o)===t)){c.push(l.slice(f,w)),f=w+o;continue}if(p==="/"){d=w;continue}}p==="["?u++:p==="]"&&u--}const h=c.length===0?l:l.substring(f),g=h.startsWith(x0),m=g?h.substring(1):h,y=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:a}):a},Vb=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Wb=e=>({cache:qb(e.cacheSize),parseClassName:Hb(e),...Db(e)}),Gb=/\s+/,Kb=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],a=e.trim().split(Gb);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:g}=r(u);let m=!!g,y=n(m?h.substring(0,g):h);if(!y){if(!m){l=u+(l.length>0?" "+l:l);continue}if(y=n(h),!y){l=u+(l.length>0?" "+l:l);continue}m=!1}const w=Vb(f).join(":"),p=d?w+x0:w,x=p+y;if(o.includes(x))continue;o.push(x);const b=s(y,m);for(let j=0;j<b.length;++j){const N=b[j];o.push(p+N)}l=u+(l.length>0?" "+l:l)}return l};function Qb(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=v0(t))&&(n&&(n+=" "),n+=r);return n}const v0=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=v0(e[n]))&&(r&&(r+=" "),r+=t);return r};function Yb(e,...t){let r,n,s,o=a;function a(c){const u=t.reduce((f,d)=>d(f),e());return r=Wb(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=Kb(c,r);return s(c,f),f}return function(){return o(Qb.apply(null,arguments))}}const ce=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},w0=/^\[(?:([a-z-]+):)?(.+)\]$/i,Jb=/^\d+\/\d+$/,Zb=new Set(["px","full","screen"]),Xb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,e1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,t1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,r1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tr=e=>ds(e)||Zb.has(e)||Jb.test(e),_r=e=>Bs(e,"length",d1),ds=e=>!!e&&!Number.isNaN(Number(e)),ec=e=>Bs(e,"number",ds),ri=e=>!!e&&Number.isInteger(Number(e)),s1=e=>e.endsWith("%")&&ds(e.slice(0,-1)),K=e=>w0.test(e),Sr=e=>Xb.test(e),i1=new Set(["length","size","percentage"]),o1=e=>Bs(e,i1,b0),a1=e=>Bs(e,"position",b0),l1=new Set(["image","url"]),c1=e=>Bs(e,l1,f1),u1=e=>Bs(e,"",h1),ni=()=>!0,Bs=(e,t,r)=>{const n=w0.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},d1=e=>e1.test(e)&&!t1.test(e),b0=()=>!1,h1=e=>r1.test(e),f1=e=>n1.test(e),m1=()=>{const e=ce("colors"),t=ce("spacing"),r=ce("blur"),n=ce("brightness"),s=ce("borderColor"),o=ce("borderRadius"),a=ce("borderSpacing"),l=ce("borderWidth"),c=ce("contrast"),u=ce("grayscale"),f=ce("hueRotate"),d=ce("invert"),h=ce("gap"),g=ce("gradientColorStops"),m=ce("gradientColorStopPositions"),y=ce("inset"),w=ce("margin"),p=ce("opacity"),x=ce("padding"),b=ce("saturate"),j=ce("scale"),N=ce("sepia"),_=ce("skew"),S=ce("space"),k=ce("translate"),I=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",K,t],U=()=>[K,t],W=()=>["",tr,_r],M=()=>["auto",ds,K],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",K],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[ds,K];return{cacheSize:500,separator:":",theme:{colors:[ni],spacing:[tr,_r],blur:["none","",Sr,K],brightness:D(),borderColor:[e],borderRadius:["none","","full",Sr,K],borderSpacing:U(),borderWidth:W(),contrast:D(),grayscale:R(),hueRotate:D(),invert:R(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[s1,_r],inset:q(),margin:q(),opacity:D(),padding:U(),saturate:D(),scale:D(),sepia:R(),skew:D(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",K]}],container:["container"],columns:[{columns:[Sr]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),K]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ri,K]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",K]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",ri,K]}],"grid-cols":[{"grid-cols":[ni]}],"col-start-end":[{col:["auto",{span:["full",ri,K]},K]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[ni]}],"row-start-end":[{row:["auto",{span:[ri,K]},K]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",K]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",K]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",K,t]}],"min-w":[{"min-w":[K,t,"min","max","fit"]}],"max-w":[{"max-w":[K,t,"none","full","min","max","fit","prose",{screen:[Sr]},Sr]}],h:[{h:[K,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[K,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[K,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[K,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Sr,_r]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ec]}],"font-family":[{font:[ni]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",K]}],"line-clamp":[{"line-clamp":["none",ds,ec]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tr,K]}],"list-image":[{"list-image":["none",K]}],"list-style-type":[{list:["none","disc","decimal",K]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tr,_r]}],"underline-offset":[{"underline-offset":["auto",tr,K]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",K]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",K]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),a1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",o1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},c1]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[tr,K]}],"outline-w":[{outline:[tr,_r]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[tr,_r]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Sr,u1]}],"shadow-color":[{shadow:[ni]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Sr,K]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",K]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",K]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",K]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[ri,K]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",K]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",K]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",K]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[tr,_r,ec]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},p1=Yb(m1);function Mn(...e){return p1(o0(e))}const g1=yb,j0=v.forwardRef(({className:e,...t},r)=>i.jsx(Xg,{ref:r,className:Mn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));j0.displayName=Xg.displayName;const y1=xb("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),N0=v.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(e0,{ref:n,className:Mn(y1({variant:t}),e),...r}));N0.displayName=e0.displayName;const x1=v.forwardRef(({className:e,...t},r)=>i.jsx(n0,{ref:r,className:Mn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));x1.displayName=n0.displayName;const _0=v.forwardRef(({className:e,...t},r)=>i.jsx(s0,{ref:r,className:Mn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(g0,{className:"h-4 w-4"})}));_0.displayName=s0.displayName;const S0=v.forwardRef(({className:e,...t},r)=>i.jsx(t0,{ref:r,className:Mn("text-sm font-semibold",e),...t}));S0.displayName=t0.displayName;const k0=v.forwardRef(({className:e,...t},r)=>i.jsx(r0,{ref:r,className:Mn("text-sm opacity-90",e),...t}));k0.displayName=r0.displayName;function v1(){const{toasts:e}=te();return i.jsxs(g1,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return i.jsxs(N0,{...o,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(S0,{children:r}),n&&i.jsx(k0,{children:n})]}),s,i.jsx(_0,{})]},t)}),i.jsx(j0,{})]})}var bf=["light","dark"],w1="(prefers-color-scheme: dark)",b1=v.createContext(void 0),j1={setTheme:e=>{},themes:[]},N1=()=>{var e;return(e=v.useContext(b1))!=null?e:j1};v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:a,attrs:l,nonce:c})=>{let u=o==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=s?bf.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(m,y=!1,w=!0)=>{let p=a?a[m]:m,x=y?m+"|| ''":`'${p}'`,b="";return s&&w&&!y&&bf.includes(m)&&(b+=`d.style.colorScheme = '${m}';`),r==="class"?y||p?b+=`c.add(${x})`:b+="null":p&&(b+=`d[s](n,${x})`),b},g=e?`!function(){${f}${h(e)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${w1}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${u?"":"else{"+h(o,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${d}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var _1=e=>{switch(e){case"success":return E1;case"info":return T1;case"warning":return C1;case"error":return P1;default:return null}},S1=Array(12).fill(0),k1=({visible:e})=>O.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},O.createElement("div",{className:"sonner-spinner"},S1.map((t,r)=>O.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),E1=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),C1=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),T1=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),P1=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),R1=()=>{let[e,t]=O.useState(document.hidden);return O.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},cu=1,A1=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:cu++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...n,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async o=>{if(L1(o)&&!o.ok){s=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:r,type:"error",message:a,description:l})}else if(t.success!==void 0){s=!1;let a=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(t.error!==void 0){s=!1;let a=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=t.finally)==null||o.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||cu++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},ot=new A1,O1=(e,t)=>{let r=(t==null?void 0:t.id)||cu++;return ot.addToast({title:e,...t,id:r}),r},L1=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",I1=O1,M1=()=>ot.toasts;Object.assign(I1,{success:ot.success,info:ot.info,warning:ot.warning,error:ot.error,custom:ot.custom,message:ot.message,promise:ot.promise,dismiss:ot.dismiss,loading:ot.loading},{getHistory:M1});function $1(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}$1(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ao(e){return e.label!==void 0}var D1=3,U1="32px",F1=4e3,z1=356,B1=14,q1=20,H1=200;function V1(...e){return e.filter(Boolean).join(" ")}var W1=e=>{var t,r,n,s,o,a,l,c,u,f;let{invert:d,toast:h,unstyled:g,interacting:m,setHeights:y,visibleToasts:w,heights:p,index:x,toasts:b,expanded:j,removeToast:N,defaultRichColors:_,closeButton:S,style:k,cancelButtonStyle:I,actionButtonStyle:L,className:q="",descriptionClassName:U="",duration:W,position:M,gap:A,loadingIcon:F,expandByDefault:V,classNames:E,icons:R,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:D,cn:H}=e,[X,fe]=O.useState(!1),[nt,ne]=O.useState(!1),[St,xr]=O.useState(!1),[vr,wr]=O.useState(!1),[ao,Dn]=O.useState(0),[dn,Gs]=O.useState(0),lo=O.useRef(null),br=O.useRef(null),wl=x===0,bl=x+1<=w,Te=h.type,Un=h.dismissible!==!1,By=h.className||"",qy=h.descriptionClassName||"",co=O.useMemo(()=>p.findIndex(G=>G.toastId===h.id)||0,[p,h.id]),Hy=O.useMemo(()=>{var G;return(G=h.closeButton)!=null?G:S},[h.closeButton,S]),Kd=O.useMemo(()=>h.duration||W||F1,[h.duration,W]),jl=O.useRef(0),Fn=O.useRef(0),Qd=O.useRef(0),zn=O.useRef(null),[Yd,Vy]=M.split("-"),Jd=O.useMemo(()=>p.reduce((G,le,ie)=>ie>=co?G:G+le.height,0),[p,co]),Zd=R1(),Wy=h.invert||d,Nl=Te==="loading";Fn.current=O.useMemo(()=>co*A+Jd,[co,Jd]),O.useEffect(()=>{fe(!0)},[]),O.useLayoutEffect(()=>{if(!X)return;let G=br.current,le=G.style.height;G.style.height="auto";let ie=G.getBoundingClientRect().height;G.style.height=le,Gs(ie),y(Ut=>Ut.find(Ft=>Ft.toastId===h.id)?Ut.map(Ft=>Ft.toastId===h.id?{...Ft,height:ie}:Ft):[{toastId:h.id,height:ie,position:h.position},...Ut])},[X,h.title,h.description,y,h.id]);let jr=O.useCallback(()=>{ne(!0),Dn(Fn.current),y(G=>G.filter(le=>le.toastId!==h.id)),setTimeout(()=>{N(h)},H1)},[h,N,y,Fn]);O.useEffect(()=>{if(h.promise&&Te==="loading"||h.duration===1/0||h.type==="loading")return;let G,le=Kd;return j||m||D&&Zd?(()=>{if(Qd.current<jl.current){let ie=new Date().getTime()-jl.current;le=le-ie}Qd.current=new Date().getTime()})():le!==1/0&&(jl.current=new Date().getTime(),G=setTimeout(()=>{var ie;(ie=h.onAutoClose)==null||ie.call(h,h),jr()},le)),()=>clearTimeout(G)},[j,m,V,h,Kd,jr,h.promise,Te,D,Zd]),O.useEffect(()=>{let G=br.current;if(G){let le=G.getBoundingClientRect().height;return Gs(le),y(ie=>[{toastId:h.id,height:le,position:h.position},...ie]),()=>y(ie=>ie.filter(Ut=>Ut.toastId!==h.id))}},[y,h.id]),O.useEffect(()=>{h.delete&&jr()},[jr,h.delete]);function Gy(){return R!=null&&R.loading?O.createElement("div",{className:"sonner-loader","data-visible":Te==="loading"},R.loading):F?O.createElement("div",{className:"sonner-loader","data-visible":Te==="loading"},F):O.createElement(k1,{visible:Te==="loading"})}return O.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:br,className:H(q,By,E==null?void 0:E.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,E==null?void 0:E.default,E==null?void 0:E[Te],(r=h==null?void 0:h.classNames)==null?void 0:r[Te]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:_,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":X,"data-promise":!!h.promise,"data-removed":nt,"data-visible":bl,"data-y-position":Yd,"data-x-position":Vy,"data-index":x,"data-front":wl,"data-swiping":St,"data-dismissible":Un,"data-type":Te,"data-invert":Wy,"data-swipe-out":vr,"data-expanded":!!(j||V&&X),style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${nt?ao:Fn.current}px`,"--initial-height":V?"auto":`${dn}px`,...k,...h.style},onPointerDown:G=>{Nl||!Un||(lo.current=new Date,Dn(Fn.current),G.target.setPointerCapture(G.pointerId),G.target.tagName!=="BUTTON"&&(xr(!0),zn.current={x:G.clientX,y:G.clientY}))},onPointerUp:()=>{var G,le,ie,Ut;if(vr||!Un)return;zn.current=null;let Ft=Number(((G=br.current)==null?void 0:G.style.getPropertyValue("--swipe-amount").replace("px",""))||0),uo=new Date().getTime()-((le=lo.current)==null?void 0:le.getTime()),Ky=Math.abs(Ft)/uo;if(Math.abs(Ft)>=q1||Ky>.11){Dn(Fn.current),(ie=h.onDismiss)==null||ie.call(h,h),jr(),wr(!0);return}(Ut=br.current)==null||Ut.style.setProperty("--swipe-amount","0px"),xr(!1)},onPointerMove:G=>{var le;if(!zn.current||!Un)return;let ie=G.clientY-zn.current.y,Ut=G.clientX-zn.current.x,Ft=(Yd==="top"?Math.min:Math.max)(0,ie),uo=G.pointerType==="touch"?10:2;Math.abs(Ft)>uo?(le=br.current)==null||le.style.setProperty("--swipe-amount",`${ie}px`):Math.abs(Ut)>uo&&(zn.current=null)}},Hy&&!h.jsx?O.createElement("button",{"aria-label":z,"data-disabled":Nl,"data-close-button":!0,onClick:Nl||!Un?()=>{}:()=>{var G;jr(),(G=h.onDismiss)==null||G.call(h,h)},className:H(E==null?void 0:E.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},O.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),O.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||O.isValidElement(h.title)?h.jsx||h.title:O.createElement(O.Fragment,null,Te||h.icon||h.promise?O.createElement("div",{"data-icon":"",className:H(E==null?void 0:E.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Gy():null,h.type!=="loading"?h.icon||(R==null?void 0:R[Te])||_1(Te):null):null,O.createElement("div",{"data-content":"",className:H(E==null?void 0:E.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},O.createElement("div",{"data-title":"",className:H(E==null?void 0:E.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?O.createElement("div",{"data-description":"",className:H(U,qy,E==null?void 0:E.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),O.isValidElement(h.cancel)?h.cancel:h.cancel&&Ao(h.cancel)?O.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||I,onClick:G=>{var le,ie;Ao(h.cancel)&&Un&&((ie=(le=h.cancel).onClick)==null||ie.call(le,G),jr())},className:H(E==null?void 0:E.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,O.isValidElement(h.action)?h.action:h.action&&Ao(h.action)?O.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||L,onClick:G=>{var le,ie;Ao(h.action)&&(G.defaultPrevented||((ie=(le=h.action).onClick)==null||ie.call(le,G),jr()))},className:H(E==null?void 0:E.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function jf(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var G1=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,theme:c="light",richColors:u,duration:f,style:d,visibleToasts:h=D1,toastOptions:g,dir:m=jf(),gap:y=B1,loadingIcon:w,icons:p,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:b,cn:j=V1}=e,[N,_]=O.useState([]),S=O.useMemo(()=>Array.from(new Set([r].concat(N.filter(D=>D.position).map(D=>D.position)))),[N,r]),[k,I]=O.useState([]),[L,q]=O.useState(!1),[U,W]=O.useState(!1),[M,A]=O.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=O.useRef(null),V=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=O.useRef(null),R=O.useRef(!1),z=O.useCallback(D=>{var H;(H=N.find(X=>X.id===D.id))!=null&&H.delete||ot.dismiss(D.id),_(X=>X.filter(({id:fe})=>fe!==D.id))},[N]);return O.useEffect(()=>ot.subscribe(D=>{if(D.dismiss){_(H=>H.map(X=>X.id===D.id?{...X,delete:!0}:X));return}setTimeout(()=>{Pg.flushSync(()=>{_(H=>{let X=H.findIndex(fe=>fe.id===D.id);return X!==-1?[...H.slice(0,X),{...H[X],...D},...H.slice(X+1)]:[D,...H]})})})}),[]),O.useEffect(()=>{if(c!=="system"){A(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:D})=>{A(D?"dark":"light")})},[c]),O.useEffect(()=>{N.length<=1&&q(!1)},[N]),O.useEffect(()=>{let D=H=>{var X,fe;n.every(nt=>H[nt]||H.code===nt)&&(q(!0),(X=F.current)==null||X.focus()),H.code==="Escape"&&(document.activeElement===F.current||(fe=F.current)!=null&&fe.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[n]),O.useEffect(()=>{if(F.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,R.current=!1)}},[F.current]),N.length?O.createElement("section",{"aria-label":`${x} ${V}`,tabIndex:-1},S.map((D,H)=>{var X;let[fe,nt]=D.split("-");return O.createElement("ol",{key:D,dir:m==="auto"?jf():m,tabIndex:-1,ref:F,className:a,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":fe,"data-x-position":nt,style:{"--front-toast-height":`${((X=k[0])==null?void 0:X.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||U1,"--width":`${z1}px`,"--gap":`${y}px`,...d},onBlur:ne=>{R.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(R.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||R.current||(R.current=!0,E.current=ne.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{U||q(!1)},onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},N.filter(ne=>!ne.position&&H===0||ne.position===D).map((ne,St)=>{var xr,vr;return O.createElement(W1,{key:ne.id,icons:p,index:St,toast:ne,defaultRichColors:u,duration:(xr=g==null?void 0:g.duration)!=null?xr:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:h,closeButton:(vr=g==null?void 0:g.closeButton)!=null?vr:o,interacting:U,position:D,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:z,toasts:N.filter(wr=>wr.position==ne.position),heights:k.filter(wr=>wr.position==ne.position),setHeights:I,expandByDefault:s,gap:y,loadingIcon:w,expanded:L,pauseWhenPageIsHidden:b,cn:j})}))})):null};const K1=({...e})=>{const{theme:t="system"}=N1();return i.jsx(G1,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},Q1=["top","right","bottom","left"],tn=Math.min,lt=Math.max,Ea=Math.round,Oo=Math.floor,rn=e=>({x:e,y:e}),Y1={left:"right",right:"left",bottom:"top",top:"bottom"},J1={start:"end",end:"start"};function uu(e,t,r){return lt(e,tn(t,r))}function mr(e,t){return typeof e=="function"?e(t):e}function pr(e){return e.split("-")[0]}function qs(e){return e.split("-")[1]}function Ad(e){return e==="x"?"y":"x"}function Od(e){return e==="y"?"height":"width"}function nn(e){return["top","bottom"].includes(pr(e))?"y":"x"}function Ld(e){return Ad(nn(e))}function Z1(e,t,r){r===void 0&&(r=!1);const n=qs(e),s=Ld(e),o=Od(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Ca(a)),[a,Ca(a)]}function X1(e){const t=Ca(e);return[du(e),t,du(t)]}function du(e){return e.replace(/start|end/g,t=>J1[t])}function ej(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:a;default:return[]}}function tj(e,t,r,n){const s=qs(e);let o=ej(pr(e),r==="start",n);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(du)))),o}function Ca(e){return e.replace(/left|right|bottom|top/g,t=>Y1[t])}function rj(e){return{top:0,right:0,bottom:0,left:0,...e}}function E0(e){return typeof e!="number"?rj(e):{top:e,right:e,bottom:e,left:e}}function Ta(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Nf(e,t,r){let{reference:n,floating:s}=e;const o=nn(t),a=Ld(t),l=Od(a),c=pr(t),u=o==="y",f=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:f,y:n.y-s.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:d};break;case"left":g={x:n.x-s.width,y:d};break;default:g={x:n.x,y:n.y}}switch(qs(t)){case"start":g[a]-=h*(r&&u?-1:1);break;case"end":g[a]+=h*(r&&u?-1:1);break}return g}const nj=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:a}=r,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:d}=Nf(u,n,c),h=n,g={},m=0;for(let y=0;y<l.length;y++){const{name:w,fn:p}=l[y],{x,y:b,data:j,reset:N}=await p({x:f,y:d,initialPlacement:n,placement:h,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:e,floating:t}});f=x??f,d=b??d,g={...g,[w]:{...g[w],...j}},N&&m<=50&&(m++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:f,y:d}=Nf(u,h,c)),y=-1)}return{x:f,y:d,placement:h,strategy:s,middlewareData:g}};async function Hi(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:g=0}=mr(t,e),m=E0(g),w=l[h?d==="floating"?"reference":"floating":d],p=Ta(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),x=d==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},N=Ta(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(p.top-N.top+m.top)/j.y,bottom:(N.bottom-p.bottom+m.bottom)/j.y,left:(p.left-N.left+m.left)/j.x,right:(N.right-p.right+m.right)/j.x}}const sj=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=mr(e,t)||{};if(u==null)return{};const d=E0(f),h={x:r,y:n},g=Ld(s),m=Od(g),y=await a.getDimensions(u),w=g==="y",p=w?"top":"left",x=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=o.reference[m]+o.reference[g]-h[g]-o.floating[m],N=h[g]-o.reference[g],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=_?_[b]:0;(!S||!await(a.isElement==null?void 0:a.isElement(_)))&&(S=l.floating[b]||o.floating[m]);const k=j/2-N/2,I=S/2-y[m]/2-1,L=tn(d[p],I),q=tn(d[x],I),U=L,W=S-y[m]-q,M=S/2-y[m]/2+k,A=uu(U,M,W),F=!c.arrow&&qs(s)!=null&&M!==A&&o.reference[m]/2-(M<U?L:q)-y[m]/2<0,V=F?M<U?M-U:M-W:0;return{[g]:h[g]+V,data:{[g]:A,centerOffset:M-A-V,...F&&{alignmentOffset:V}},reset:F}}}),ij=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:y=!0,...w}=mr(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const p=pr(s),x=nn(l),b=pr(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(b||!y?[Ca(l)]:X1(l)),_=m!=="none";!h&&_&&N.push(...tj(l,y,m,j));const S=[l,...N],k=await Hi(t,w),I=[];let L=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&I.push(k[p]),d){const M=Z1(s,a,j);I.push(k[M[0]],k[M[1]])}if(L=[...L,{placement:s,overflows:I}],!I.every(M=>M<=0)){var q,U;const M=(((q=o.flip)==null?void 0:q.index)||0)+1,A=S[M];if(A)return{data:{index:M,overflows:L},reset:{placement:A}};let F=(U=L.filter(V=>V.overflows[0]<=0).sort((V,E)=>V.overflows[1]-E.overflows[1])[0])==null?void 0:U.placement;if(!F)switch(g){case"bestFit":{var W;const V=(W=L.filter(E=>{if(_){const R=nn(E.placement);return R===x||R==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(R=>R>0).reduce((R,z)=>R+z,0)]).sort((E,R)=>E[1]-R[1])[0])==null?void 0:W[0];V&&(F=V);break}case"initialPlacement":F=l;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function _f(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Sf(e){return Q1.some(t=>e[t]>=0)}const oj=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=mr(e,t);switch(n){case"referenceHidden":{const o=await Hi(t,{...s,elementContext:"reference"}),a=_f(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Sf(a)}}}case"escaped":{const o=await Hi(t,{...s,altBoundary:!0}),a=_f(o,r.floating);return{data:{escapedOffsets:a,escaped:Sf(a)}}}default:return{}}}}};async function aj(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=pr(r),l=qs(r),c=nn(r)==="y",u=["left","top"].includes(a)?-1:1,f=o&&c?-1:1,d=mr(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof m=="number"&&(g=l==="end"?m*-1:m),c?{x:g*f,y:h*u}:{x:h*u,y:g*f}}const lj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:a,middlewareData:l}=t,c=await aj(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},cj=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:w=>{let{x:p,y:x}=w;return{x:p,y:x}}},...c}=mr(e,t),u={x:r,y:n},f=await Hi(t,c),d=nn(pr(s)),h=Ad(d);let g=u[h],m=u[d];if(o){const w=h==="y"?"top":"left",p=h==="y"?"bottom":"right",x=g+f[w],b=g-f[p];g=uu(x,g,b)}if(a){const w=d==="y"?"top":"left",p=d==="y"?"bottom":"right",x=m+f[w],b=m-f[p];m=uu(x,m,b)}const y=l.fn({...t,[h]:g,[d]:m});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[h]:o,[d]:a}}}}}},uj=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=mr(e,t),f={x:r,y:n},d=nn(s),h=Ad(d);let g=f[h],m=f[d];const y=mr(l,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const b=h==="y"?"height":"width",j=o.reference[h]-o.floating[b]+w.mainAxis,N=o.reference[h]+o.reference[b]-w.mainAxis;g<j?g=j:g>N&&(g=N)}if(u){var p,x;const b=h==="y"?"width":"height",j=["top","left"].includes(pr(s)),N=o.reference[d]-o.floating[b]+(j&&((p=a.offset)==null?void 0:p[d])||0)+(j?0:w.crossAxis),_=o.reference[d]+o.reference[b]+(j?0:((x=a.offset)==null?void 0:x[d])||0)-(j?w.crossAxis:0);m<N?m=N:m>_&&(m=_)}return{[h]:g,[d]:m}}}},dj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:a,elements:l}=t,{apply:c=()=>{},...u}=mr(e,t),f=await Hi(t,u),d=pr(s),h=qs(s),g=nn(s)==="y",{width:m,height:y}=o.floating;let w,p;d==="top"||d==="bottom"?(w=d,p=h===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(p=d,w=h==="end"?"top":"bottom");const x=y-f.top-f.bottom,b=m-f.left-f.right,j=tn(y-f[w],x),N=tn(m-f[p],b),_=!t.middlewareData.shift;let S=j,k=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=x),_&&!h){const L=lt(f.left,0),q=lt(f.right,0),U=lt(f.top,0),W=lt(f.bottom,0);g?k=m-2*(L!==0||q!==0?L+q:lt(f.left,f.right)):S=y-2*(U!==0||W!==0?U+W:lt(f.top,f.bottom))}await c({...t,availableWidth:k,availableHeight:S});const I=await a.getDimensions(l.floating);return m!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function nl(){return typeof window<"u"}function Hs(e){return C0(e)?(e.nodeName||"").toLowerCase():"#document"}function ft(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xt(e){var t;return(t=(C0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function C0(e){return nl()?e instanceof Node||e instanceof ft(e).Node:!1}function $t(e){return nl()?e instanceof Element||e instanceof ft(e).Element:!1}function Zt(e){return nl()?e instanceof HTMLElement||e instanceof ft(e).HTMLElement:!1}function kf(e){return!nl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ft(e).ShadowRoot}function so(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Dt(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function hj(e){return["table","td","th"].includes(Hs(e))}function sl(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Id(e){const t=Md(),r=$t(e)?Dt(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function fj(e){let t=sn(e);for(;Zt(t)&&!Is(t);){if(Id(t))return t;if(sl(t))return null;t=sn(t)}return null}function Md(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Is(e){return["html","body","#document"].includes(Hs(e))}function Dt(e){return ft(e).getComputedStyle(e)}function il(e){return $t(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function sn(e){if(Hs(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kf(e)&&e.host||Xt(e);return kf(t)?t.host:t}function T0(e){const t=sn(e);return Is(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zt(t)&&so(t)?t:T0(t)}function Vi(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=T0(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),a=ft(s);if(o){const l=hu(a);return t.concat(a,a.visualViewport||[],so(s)?s:[],l&&r?Vi(l):[])}return t.concat(s,Vi(s,[],r))}function hu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function P0(e){const t=Dt(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Zt(e),o=s?e.offsetWidth:r,a=s?e.offsetHeight:n,l=Ea(r)!==o||Ea(n)!==a;return l&&(r=o,n=a),{width:r,height:n,$:l}}function $d(e){return $t(e)?e:e.contextElement}function hs(e){const t=$d(e);if(!Zt(t))return rn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=P0(t);let a=(o?Ea(r.width):r.width)/n,l=(o?Ea(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const mj=rn(0);function R0(e){const t=ft(e);return!Md()||!t.visualViewport?mj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function pj(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ft(e)?!1:t}function On(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=$d(e);let a=rn(1);t&&(n?$t(n)&&(a=hs(n)):a=hs(e));const l=pj(o,r,n)?R0(o):rn(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,f=s.width/a.x,d=s.height/a.y;if(o){const h=ft(o),g=n&&$t(n)?ft(n):n;let m=h,y=hu(m);for(;y&&n&&g!==m;){const w=hs(y),p=y.getBoundingClientRect(),x=Dt(y),b=p.left+(y.clientLeft+parseFloat(x.paddingLeft))*w.x,j=p.top+(y.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,u*=w.y,f*=w.x,d*=w.y,c+=b,u+=j,m=ft(y),y=hu(m)}}return Ta({width:f,height:d,x:c,y:u})}function gj(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",a=Xt(n),l=t?sl(t.floating):!1;if(n===a||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=rn(1);const f=rn(0),d=Zt(n);if((d||!d&&!o)&&((Hs(n)!=="body"||so(a))&&(c=il(n)),Zt(n))){const h=On(n);u=hs(n),f.x=h.x+n.clientLeft,f.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x,y:r.y*u.y-c.scrollTop*u.y+f.y}}function yj(e){return Array.from(e.getClientRects())}function fu(e,t){const r=il(e).scrollLeft;return t?t.left+r:On(Xt(e)).left+r}function xj(e){const t=Xt(e),r=il(e),n=e.ownerDocument.body,s=lt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=lt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+fu(e);const l=-r.scrollTop;return Dt(n).direction==="rtl"&&(a+=lt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:a,y:l}}function vj(e,t){const r=ft(e),n=Xt(e),s=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const u=Md();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:l,y:c}}function wj(e,t){const r=On(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Zt(e)?hs(e):rn(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:a,height:l,x:c,y:u}}function Ef(e,t,r){let n;if(t==="viewport")n=vj(e,r);else if(t==="document")n=xj(Xt(e));else if($t(t))n=wj(t,r);else{const s=R0(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Ta(n)}function A0(e,t){const r=sn(e);return r===t||!$t(r)||Is(r)?!1:Dt(r).position==="fixed"||A0(r,t)}function bj(e,t){const r=t.get(e);if(r)return r;let n=Vi(e,[],!1).filter(l=>$t(l)&&Hs(l)!=="body"),s=null;const o=Dt(e).position==="fixed";let a=o?sn(e):e;for(;$t(a)&&!Is(a);){const l=Dt(a),c=Id(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||so(a)&&!c&&A0(e,a))?n=n.filter(f=>f!==a):s=l,a=sn(a)}return t.set(e,n),n}function jj(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?sl(t)?[]:bj(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,f)=>{const d=Ef(t,f,s);return u.top=lt(d.top,u.top),u.right=tn(d.right,u.right),u.bottom=tn(d.bottom,u.bottom),u.left=lt(d.left,u.left),u},Ef(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Nj(e){const{width:t,height:r}=P0(e);return{width:t,height:r}}function _j(e,t,r){const n=Zt(t),s=Xt(t),o=r==="fixed",a=On(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=rn(0);if(n||!n&&!o)if((Hs(t)!=="body"||so(s))&&(l=il(t)),n){const g=On(t,!0,o,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&(c.x=fu(s));let u=0,f=0;if(s&&!n&&!o){const g=s.getBoundingClientRect();f=g.top+l.scrollTop,u=g.left+l.scrollLeft-fu(s,g)}const d=a.left+l.scrollLeft-c.x-u,h=a.top+l.scrollTop-c.y-f;return{x:d,y:h,width:a.width,height:a.height}}function tc(e){return Dt(e).position==="static"}function Cf(e,t){if(!Zt(e)||Dt(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Xt(e)===r&&(r=r.ownerDocument.body),r}function O0(e,t){const r=ft(e);if(sl(e))return r;if(!Zt(e)){let s=sn(e);for(;s&&!Is(s);){if($t(s)&&!tc(s))return s;s=sn(s)}return r}let n=Cf(e,t);for(;n&&hj(n)&&tc(n);)n=Cf(n,t);return n&&Is(n)&&tc(n)&&!Id(n)?r:n||fj(e)||r}const Sj=async function(e){const t=this.getOffsetParent||O0,r=this.getDimensions,n=await r(e.floating);return{reference:_j(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function kj(e){return Dt(e).direction==="rtl"}const Ej={convertOffsetParentRelativeRectToViewportRelativeRect:gj,getDocumentElement:Xt,getClippingRect:jj,getOffsetParent:O0,getElementRects:Sj,getClientRects:yj,getDimensions:Nj,getScale:hs,isElement:$t,isRTL:kj};function Cj(e,t){let r=null,n;const s=Xt(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:u,top:f,width:d,height:h}=e.getBoundingClientRect();if(l||t(),!d||!h)return;const g=Oo(f),m=Oo(s.clientWidth-(u+d)),y=Oo(s.clientHeight-(f+h)),w=Oo(u),x={rootMargin:-g+"px "+-m+"px "+-y+"px "+-w+"px",threshold:lt(0,tn(1,c))||1};let b=!0;function j(N){const _=N[0].intersectionRatio;if(_!==c){if(!b)return a();_?a(!1,_):n=setTimeout(()=>{a(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(j,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,x)}r.observe(e)}return a(!0),o}function Tj(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=$d(e),f=s||o?[...u?Vi(u):[],...Vi(t)]:[];f.forEach(p=>{s&&p.addEventListener("scroll",r,{passive:!0}),o&&p.addEventListener("resize",r)});const d=u&&l?Cj(u,r):null;let h=-1,g=null;a&&(g=new ResizeObserver(p=>{let[x]=p;x&&x.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let m,y=c?On(e):null;c&&w();function w(){const p=On(e);y&&(p.x!==y.x||p.y!==y.y||p.width!==y.width||p.height!==y.height)&&r(),y=p,m=requestAnimationFrame(w)}return r(),()=>{var p;f.forEach(x=>{s&&x.removeEventListener("scroll",r),o&&x.removeEventListener("resize",r)}),d==null||d(),(p=g)==null||p.disconnect(),g=null,c&&cancelAnimationFrame(m)}}const Pj=lj,Rj=cj,Aj=ij,Oj=dj,Lj=oj,Tf=sj,Ij=uj,Mj=(e,t,r)=>{const n=new Map,s={platform:Ej,...r},o={...s.platform,_c:n};return nj(e,t,{...s,platform:o})};var Xo=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Pa(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Pa(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!Pa(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function L0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Pf(e,t){const r=L0(e);return Math.round(t*r)/r}function rc(e){const t=v.useRef(e);return Xo(()=>{t.current=e}),t}function $j(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=v.useState(n);Pa(h,n)||g(n);const[m,y]=v.useState(null),[w,p]=v.useState(null),x=v.useCallback(E=>{E!==_.current&&(_.current=E,y(E))},[]),b=v.useCallback(E=>{E!==S.current&&(S.current=E,p(E))},[]),j=o||m,N=a||w,_=v.useRef(null),S=v.useRef(null),k=v.useRef(f),I=c!=null,L=rc(c),q=rc(s),U=rc(u),W=v.useCallback(()=>{if(!_.current||!S.current)return;const E={placement:t,strategy:r,middleware:h};q.current&&(E.platform=q.current),Mj(_.current,S.current,E).then(R=>{const z={...R,isPositioned:U.current!==!1};M.current&&!Pa(k.current,z)&&(k.current=z,ro.flushSync(()=>{d(z)}))})},[h,t,r,q,U]);Xo(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(E=>({...E,isPositioned:!1})))},[u]);const M=v.useRef(!1);Xo(()=>(M.current=!0,()=>{M.current=!1}),[]),Xo(()=>{if(j&&(_.current=j),N&&(S.current=N),j&&N){if(L.current)return L.current(j,N,W);W()}},[j,N,W,L,I]);const A=v.useMemo(()=>({reference:_,floating:S,setReference:x,setFloating:b}),[x,b]),F=v.useMemo(()=>({reference:j,floating:N}),[j,N]),V=v.useMemo(()=>{const E={position:r,left:0,top:0};if(!F.floating)return E;const R=Pf(F.floating,f.x),z=Pf(F.floating,f.y);return l?{...E,transform:"translate("+R+"px, "+z+"px)",...L0(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:z}},[r,l,F.floating,f.x,f.y]);return v.useMemo(()=>({...f,update:W,refs:A,elements:F,floatingStyles:V}),[f,W,A,F,V])}const Dj=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Tf({element:n.current,padding:s}).fn(r):{}:n?Tf({element:n,padding:s}).fn(r):{}}}},Uj=(e,t)=>({...Pj(e),options:[e,t]}),Fj=(e,t)=>({...Rj(e),options:[e,t]}),zj=(e,t)=>({...Ij(e),options:[e,t]}),Bj=(e,t)=>({...Aj(e),options:[e,t]}),qj=(e,t)=>({...Oj(e),options:[e,t]}),Hj=(e,t)=>({...Lj(e),options:[e,t]}),Vj=(e,t)=>({...Dj(e),options:[e,t]});var Wj="Arrow",I0=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return i.jsx(tt.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});I0.displayName=Wj;var Gj=I0;function Kj(e,t=[]){let r=[];function n(o,a){const l=v.createContext(a),c=r.length;r=[...r,a];function u(d){const{scope:h,children:g,...m}=d,y=(h==null?void 0:h[e][c])||l,w=v.useMemo(()=>m,Object.values(m));return i.jsx(y.Provider,{value:w,children:g})}function f(d,h){const g=(h==null?void 0:h[e][c])||l,m=v.useContext(g);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(a=>v.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Qj(s,...t)]}function Qj(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function Yj(e){const[t,r]=v.useState(void 0);return An(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var M0="Popper",[$0,D0]=Kj(M0),[eE,U0]=$0(M0),F0="PopperAnchor",z0=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=U0(F0,r),a=v.useRef(null),l=Mt(t,a);return v.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:i.jsx(tt.div,{...s,ref:l})});z0.displayName=F0;var Dd="PopperContent",[Jj,Zj]=$0(Dd),B0=v.forwardRef((e,t)=>{var St,xr,vr,wr,ao,Dn;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:m,...y}=e,w=U0(Dd,r),[p,x]=v.useState(null),b=Mt(t,dn=>x(dn)),[j,N]=v.useState(null),_=Yj(j),S=(_==null?void 0:_.width)??0,k=(_==null?void 0:_.height)??0,I=n+(o!=="center"?"-"+o:""),L=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},q=Array.isArray(u)?u:[u],U=q.length>0,W={padding:L,boundary:q.filter(eN),altBoundary:U},{refs:M,floatingStyles:A,placement:F,isPositioned:V,middlewareData:E}=$j({strategy:"fixed",placement:I,whileElementsMounted:(...dn)=>Tj(...dn,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[Uj({mainAxis:s+k,alignmentAxis:a}),c&&Fj({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?zj():void 0,...W}),c&&Bj({...W}),qj({...W,apply:({elements:dn,rects:Gs,availableWidth:lo,availableHeight:br})=>{const{width:wl,height:bl}=Gs.reference,Te=dn.floating.style;Te.setProperty("--radix-popper-available-width",`${lo}px`),Te.setProperty("--radix-popper-available-height",`${br}px`),Te.setProperty("--radix-popper-anchor-width",`${wl}px`),Te.setProperty("--radix-popper-anchor-height",`${bl}px`)}}),j&&Vj({element:j,padding:l}),tN({arrowWidth:S,arrowHeight:k}),h&&Hj({strategy:"referenceHidden",...W})]}),[R,z]=V0(F),D=Yt(m);An(()=>{V&&(D==null||D())},[V,D]);const H=(St=E.arrow)==null?void 0:St.x,X=(xr=E.arrow)==null?void 0:xr.y,fe=((vr=E.arrow)==null?void 0:vr.centerOffset)!==0,[nt,ne]=v.useState();return An(()=>{p&&ne(window.getComputedStyle(p).zIndex)},[p]),i.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:V?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:nt,"--radix-popper-transform-origin":[(wr=E.transformOrigin)==null?void 0:wr.x,(ao=E.transformOrigin)==null?void 0:ao.y].join(" "),...((Dn=E.hide)==null?void 0:Dn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Jj,{scope:r,placedSide:R,onArrowChange:N,arrowX:H,arrowY:X,shouldHideArrow:fe,children:i.jsx(tt.div,{"data-side":R,"data-align":z,...y,ref:b,style:{...y.style,animation:V?void 0:"none"}})})})});B0.displayName=Dd;var q0="PopperArrow",Xj={top:"bottom",right:"left",bottom:"top",left:"right"},H0=v.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=Zj(q0,n),a=Xj[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(Gj,{...s,ref:r,style:{...s.style,display:"block"}})})});H0.displayName=q0;function eN(e){return e!==null}var tN=e=>({name:"transformOrigin",options:e,fn(t){var w,p,x;const{placement:r,rects:n,middlewareData:s}=t,a=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,f]=V0(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((p=s.arrow)==null?void 0:p.x)??0)+l/2,g=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let m="",y="";return u==="bottom"?(m=a?d:`${h}px`,y=`${-c}px`):u==="top"?(m=a?d:`${h}px`,y=`${n.floating.height+c}px`):u==="right"?(m=`${-c}px`,y=a?d:`${g}px`):u==="left"&&(m=`${n.floating.width+c}px`,y=a?d:`${g}px`),{data:{x:m,y}}}});function V0(e){const[t,r="center"]=e.split("-");return[t,r]}var rN=z0,nN=B0,sN=H0,[ol,tE]=Lg("Tooltip",[D0]),Ud=D0(),W0="TooltipProvider",iN=700,Rf="tooltip.open",[oN,G0]=ol(W0),K0=e=>{const{__scopeTooltip:t,delayDuration:r=iN,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,[a,l]=v.useState(!0),c=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),i.jsx(oN,{scope:t,isOpenDelayed:a,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(f=>{c.current=f},[]),disableHoverableContent:s,children:o})};K0.displayName=W0;var Q0="Tooltip",[rE,al]=ol(Q0),mu="TooltipTrigger",aN=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=al(mu,r),o=G0(mu,r),a=Ud(r),l=v.useRef(null),c=Mt(t,l,s.onTriggerChange),u=v.useRef(!1),f=v.useRef(!1),d=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),i.jsx(rN,{asChild:!0,...a,children:i.jsx(tt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Ne(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ne(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:Ne(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ne(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ne(e.onBlur,s.onClose),onClick:Ne(e.onClick,s.onClose)})})});aN.displayName=mu;var lN="TooltipPortal",[nE,cN]=ol(lN,{forceMount:void 0}),Ms="TooltipContent",Y0=v.forwardRef((e,t)=>{const r=cN(Ms,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,a=al(Ms,e.__scopeTooltip);return i.jsx(Nd,{present:n||a.open,children:a.disableHoverableContent?i.jsx(J0,{side:s,...o,ref:t}):i.jsx(uN,{side:s,...o,ref:t})})}),uN=v.forwardRef((e,t)=>{const r=al(Ms,e.__scopeTooltip),n=G0(Ms,e.__scopeTooltip),s=v.useRef(null),o=Mt(t,s),[a,l]=v.useState(null),{trigger:c,onClose:u}=r,f=s.current,{onPointerInTransitChange:d}=n,h=v.useCallback(()=>{l(null),d(!1)},[d]),g=v.useCallback((m,y)=>{const w=m.currentTarget,p={x:m.clientX,y:m.clientY},x=mN(p,w.getBoundingClientRect()),b=pN(p,x),j=gN(y.getBoundingClientRect()),N=xN([...b,...j]);l(N),d(!0)},[d]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&f){const m=w=>g(w,f),y=w=>g(w,c);return c.addEventListener("pointerleave",m),f.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",m),f.removeEventListener("pointerleave",y)}}},[c,f,g,h]),v.useEffect(()=>{if(a){const m=y=>{const w=y.target,p={x:y.clientX,y:y.clientY},x=(c==null?void 0:c.contains(w))||(f==null?void 0:f.contains(w)),b=!yN(p,a);x?h():b&&(h(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[c,f,a,u,h]),i.jsx(J0,{...e,ref:o})}),[dN,hN]=ol(Q0,{isInside:!1}),J0=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:a,...l}=e,c=al(Ms,r),u=Ud(r),{onClose:f}=c;return v.useEffect(()=>(document.addEventListener(Rf,f),()=>document.removeEventListener(Rf,f)),[f]),v.useEffect(()=>{if(c.trigger){const d=h=>{const g=h.target;g!=null&&g.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),i.jsx(jd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:i.jsxs(nN,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Og,{children:n}),i.jsx(dN,{scope:r,isInside:!0,children:i.jsx(Xw,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Y0.displayName=Ms;var Z0="TooltipArrow",fN=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Ud(r);return hN(Z0,r).isInside?null:i.jsx(sN,{...s,...n,ref:t})});fN.displayName=Z0;function mN(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function pN(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function gN(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function yN(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const l=t[o].x,c=t[o].y,u=t[a].x,f=t[a].y;c>n!=f>n&&r<(u-l)*(n-c)/(f-c)+l&&(s=!s)}return s}function xN(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),vN(t)}function vN(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],a=r[r.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var wN=K0,X0=Y0;const bN=wN,jN=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(X0,{ref:n,sideOffset:t,className:Mn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));jN.displayName=X0.displayName;var ll=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cl=typeof window>"u"||"Deno"in globalThis;function Ct(){}function NN(e,t){return typeof e=="function"?e(t):e}function _N(e){return typeof e=="number"&&e>=0&&e!==1/0}function SN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Af(e,t){return typeof e=="function"?e(t):e}function kN(e,t){return typeof e=="function"?e(t):e}function Of(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==Fd(a,t.options))return!1}else if(!Gi(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function Lf(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Wi(t.options.mutationKey)!==Wi(o))return!1}else if(!Gi(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Fd(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wi)(e)}function Wi(e){return JSON.stringify(e,(t,r)=>pu(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Gi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Gi(e[r],t[r])):!1}function ey(e,t){if(e===t)return e;const r=If(e)&&If(t);if(r||pu(e)&&pu(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),a=o.length,l=r?[]:{};let c=0;for(let u=0;u<a;u++){const f=r?u:o[u];(!r&&n.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=ey(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return s===a&&c===s?e:l}return t}function If(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pu(e){if(!Mf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Mf(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Mf(e){return Object.prototype.toString.call(e)==="[object Object]"}function EN(e){return new Promise(t=>{setTimeout(t,e)})}function CN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ey(e,t):t}function TN(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function PN(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var zd=Symbol();function ty(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===zd?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var wn,Ir,ps,cm,RN=(cm=class extends ll{constructor(){super();re(this,wn);re(this,Ir);re(this,ps);Y(this,ps,t=>{if(!cl&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,Ir)||this.setEventListener(C(this,ps))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Ir))==null||t.call(this),Y(this,Ir,void 0))}setEventListener(t){var r;Y(this,ps,t),(r=C(this,Ir))==null||r.call(this),Y(this,Ir,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){C(this,wn)!==t&&(Y(this,wn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof C(this,wn)=="boolean"?C(this,wn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},wn=new WeakMap,Ir=new WeakMap,ps=new WeakMap,cm),ry=new RN,gs,Mr,ys,um,AN=(um=class extends ll{constructor(){super();re(this,gs,!0);re(this,Mr);re(this,ys);Y(this,ys,t=>{if(!cl&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,Mr)||this.setEventListener(C(this,ys))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Mr))==null||t.call(this),Y(this,Mr,void 0))}setEventListener(t){var r;Y(this,ys,t),(r=C(this,Mr))==null||r.call(this),Y(this,Mr,t(this.setOnline.bind(this)))}setOnline(t){C(this,gs)!==t&&(Y(this,gs,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return C(this,gs)}},gs=new WeakMap,Mr=new WeakMap,ys=new WeakMap,um),Ra=new AN;function ON(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function LN(e){return Math.min(1e3*2**e,3e4)}function ny(e){return(e??"online")==="online"?Ra.isOnline():!0}var sy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function nc(e){return e instanceof sy}function iy(e){let t=!1,r=0,n=!1,s;const o=ON(),a=y=>{var w;n||(h(new sy(y)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>ry.isFocused()&&(e.networkMode==="always"||Ra.isOnline())&&e.canRun(),f=()=>ny(e.networkMode)&&e.canRun(),d=y=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,y),s==null||s(),o.resolve(y))},h=y=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,y),s==null||s(),o.reject(y))},g=()=>new Promise(y=>{var w;s=p=>{(n||u())&&y(p)},(w=e.onPause)==null||w.call(e)}).then(()=>{var y;s=void 0,n||(y=e.onContinue)==null||y.call(e)}),m=()=>{if(n)return;let y;const w=r===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(p){y=Promise.reject(p)}Promise.resolve(y).then(d).catch(p=>{var _;if(n)return;const x=e.retry??(cl?0:3),b=e.retryDelay??LN,j=typeof b=="function"?b(r,p):b,N=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,p);if(t||!N){h(p);return}r++,(_=e.onFail)==null||_.call(e,r,p),EN(j).then(()=>u()?void 0:g()).then(()=>{t?h(p):m()})})};return{promise:o,cancel:a,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?m():g().then(m),o)}}function IN(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const o=l=>{t?e.push(l):s(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var ze=IN(),bn,dm,oy=(dm=class{constructor(){re(this,bn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_N(this.gcTime)&&Y(this,bn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(cl?1/0:5*60*1e3))}clearGcTimeout(){C(this,bn)&&(clearTimeout(C(this,bn)),Y(this,bn,void 0))}},bn=new WeakMap,dm),xs,vs,yt,Me,Qi,jn,Tt,rr,hm,MN=(hm=class extends oy{constructor(t){super();re(this,Tt);re(this,xs);re(this,vs);re(this,yt);re(this,Me);re(this,Qi);re(this,jn);Y(this,jn,!1),Y(this,Qi,t.defaultOptions),this.setOptions(t.options),this.observers=[],Y(this,yt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Y(this,xs,DN(this.options)),this.state=t.state??C(this,xs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,Me))==null?void 0:t.promise}setOptions(t){this.options={...C(this,Qi),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,yt).remove(this)}setData(t,r){const n=CN(this.state.data,t,this.options);return Oe(this,Tt,rr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Oe(this,Tt,rr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=C(this,Me))==null?void 0:n.promise;return(s=C(this,Me))==null||s.cancel(t),r?r.then(Ct).catch(Ct):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,xs))}isActive(){return this.observers.some(t=>kN(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!SN(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Me))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Me))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,yt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(C(this,Me)&&(C(this,jn)?C(this,Me).cancel({revert:!0}):C(this,Me).cancelRetry()),this.scheduleGc()),C(this,yt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Oe(this,Tt,rr).call(this,{type:"invalidate"})}fetch(t,r){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,Me))return C(this,Me).continueRetry(),C(this,Me).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Y(this,jn,!0),n.signal)})},o=()=>{const d=ty(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),Y(this,jn,!1),this.options.persister?this.options.persister(d,h,this):d(h)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),Y(this,vs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Oe(this,Tt,rr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=d=>{var h,g,m,y;nc(d)&&d.silent||Oe(this,Tt,rr).call(this,{type:"error",error:d}),nc(d)||((g=(h=C(this,yt).config).onError)==null||g.call(h,d,this),(y=(m=C(this,yt).config).onSettled)==null||y.call(m,this.state.data,d,this)),this.scheduleGc()};return Y(this,Me,iy({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var h,g,m,y;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(w){l(w);return}(g=(h=C(this,yt).config).onSuccess)==null||g.call(h,d,this),(y=(m=C(this,yt).config).onSettled)==null||y.call(m,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,h)=>{Oe(this,Tt,rr).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{Oe(this,Tt,rr).call(this,{type:"pause"})},onContinue:()=>{Oe(this,Tt,rr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),C(this,Me).start()}},xs=new WeakMap,vs=new WeakMap,yt=new WeakMap,Me=new WeakMap,Qi=new WeakMap,jn=new WeakMap,Tt=new WeakSet,rr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...$N(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return nc(s)&&s.revert&&C(this,vs)?{...C(this,vs),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ze.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,yt).notify({query:this,type:"updated",action:t})})},hm);function $N(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ny(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function DN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ht,fm,UN=(fm=class extends ll{constructor(t={}){super();re(this,Ht);this.config=t,Y(this,Ht,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??Fd(s,r);let a=this.get(o);return a||(a=new MN({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){C(this,Ht).has(t.queryHash)||(C(this,Ht).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=C(this,Ht).get(t.queryHash);r&&(t.destroy(),r===t&&C(this,Ht).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ze.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,Ht).get(t)}getAll(){return[...C(this,Ht).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Of(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Of(t,n)):r}notify(t){ze.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ze.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ze.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ht=new WeakMap,fm),Vt,Ue,Nn,Wt,kr,mm,FN=(mm=class extends oy{constructor(t){super();re(this,Wt);re(this,Vt);re(this,Ue);re(this,Nn);this.mutationId=t.mutationId,Y(this,Ue,t.mutationCache),Y(this,Vt,[]),this.state=t.state||zN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,Vt).includes(t)||(C(this,Vt).push(t),this.clearGcTimeout(),C(this,Ue).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Y(this,Vt,C(this,Vt).filter(r=>r!==t)),this.scheduleGc(),C(this,Ue).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,Vt).length||(this.state.status==="pending"?this.scheduleGc():C(this,Ue).remove(this))}continue(){var t;return((t=C(this,Nn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,a,l,c,u,f,d,h,g,m,y,w,p,x,b,j,N,_,S;Y(this,Nn,iy({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,I)=>{Oe(this,Wt,kr).call(this,{type:"failed",failureCount:k,error:I})},onPause:()=>{Oe(this,Wt,kr).call(this,{type:"pause"})},onContinue:()=>{Oe(this,Wt,kr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,Ue).canRun(this)}));const r=this.state.status==="pending",n=!C(this,Nn).canStart();try{if(!r){Oe(this,Wt,kr).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(s=C(this,Ue).config).onMutate)==null?void 0:o.call(s,t,this));const I=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));I!==this.state.context&&Oe(this,Wt,kr).call(this,{type:"pending",context:I,variables:t,isPaused:n})}const k=await C(this,Nn).start();return await((u=(c=C(this,Ue).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,k,t,this.state.context)),await((g=(h=C(this,Ue).config).onSettled)==null?void 0:g.call(h,k,null,this.state.variables,this.state.context,this)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,k,null,t,this.state.context)),Oe(this,Wt,kr).call(this,{type:"success",data:k}),k}catch(k){try{throw await((p=(w=C(this,Ue).config).onError)==null?void 0:p.call(w,k,t,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,k,t,this.state.context)),await((N=(j=C(this,Ue).config).onSettled)==null?void 0:N.call(j,void 0,k,this.state.variables,this.state.context,this)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,void 0,k,t,this.state.context)),k}finally{Oe(this,Wt,kr).call(this,{type:"error",error:k})}}finally{C(this,Ue).runNext(this)}}},Vt=new WeakMap,Ue=new WeakMap,Nn=new WeakMap,Wt=new WeakSet,kr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ze.batch(()=>{C(this,Vt).forEach(n=>{n.onMutationUpdate(t)}),C(this,Ue).notify({mutation:this,type:"updated",action:t})})},mm);function zN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var it,Yi,pm,BN=(pm=class extends ll{constructor(t={}){super();re(this,it);re(this,Yi);this.config=t,Y(this,it,new Map),Y(this,Yi,Date.now())}build(t,r,n){const s=new FN({mutationCache:this,mutationId:++ho(this,Yi)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Lo(t),n=C(this,it).get(r)??[];n.push(t),C(this,it).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Lo(t);if(C(this,it).has(r)){const s=(n=C(this,it).get(r))==null?void 0:n.filter(o=>o!==t);s&&(s.length===0?C(this,it).delete(r):C(this,it).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=C(this,it).get(Lo(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=C(this,it).get(Lo(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ze.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...C(this,it).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Lf(r,n))}findAll(t={}){return this.getAll().filter(r=>Lf(t,r))}notify(t){ze.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ze.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ct))))}},it=new WeakMap,Yi=new WeakMap,pm);function Lo(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function $f(e){return{onFetch:(t,r)=>{var f,d,h,g,m;const n=t.options,s=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,o=((g=t.state.data)==null?void 0:g.pages)||[],a=((m=t.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},p=ty(t.options,t.fetchOptions),x=async(b,j,N)=>{if(y)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const _={queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};w(_);const S=await p(_),{maxPages:k}=t.options,I=N?PN:TN;return{pages:I(b.pages,S,k),pageParams:I(b.pageParams,j,k)}};if(s&&o.length){const b=s==="backward",j=b?qN:Df,N={pages:o,pageParams:a},_=j(n,N);l=await x(N,_,b)}else{const b=e??o.length;do{const j=c===0?a[0]??n.initialPageParam:Df(n,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var y,w;return(w=(y=t.options).persister)==null?void 0:w.call(y,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Df(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function qN(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var xe,$r,Dr,ws,bs,Ur,js,Ns,gm,HN=(gm=class{constructor(e={}){re(this,xe);re(this,$r);re(this,Dr);re(this,ws);re(this,bs);re(this,Ur);re(this,js);re(this,Ns);Y(this,xe,e.queryCache||new UN),Y(this,$r,e.mutationCache||new BN),Y(this,Dr,e.defaultOptions||{}),Y(this,ws,new Map),Y(this,bs,new Map),Y(this,Ur,0)}mount(){ho(this,Ur)._++,C(this,Ur)===1&&(Y(this,js,ry.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,xe).onFocus())})),Y(this,Ns,Ra.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,xe).onOnline())})))}unmount(){var e,t;ho(this,Ur)._--,C(this,Ur)===0&&((e=C(this,js))==null||e.call(this),Y(this,js,void 0),(t=C(this,Ns))==null||t.call(this),Y(this,Ns,void 0))}isFetching(e){return C(this,xe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,$r).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,xe).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=C(this,xe).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Af(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return C(this,xe).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=C(this,xe).get(n.queryHash),o=s==null?void 0:s.state.data,a=NN(t,o);if(a!==void 0)return C(this,xe).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return ze.batch(()=>C(this,xe).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,xe).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=C(this,xe);ze.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=C(this,xe),n={type:"active",...e};return ze.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=ze.batch(()=>C(this,xe).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ct).catch(Ct)}invalidateQueries(e={},t={}){return ze.batch(()=>{if(C(this,xe).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=ze.batch(()=>C(this,xe).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Ct)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Ct)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=C(this,xe).build(this,t);return r.isStaleByTime(Af(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ct).catch(Ct)}fetchInfiniteQuery(e){return e.behavior=$f(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ct).catch(Ct)}ensureInfiniteQueryData(e){return e.behavior=$f(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ra.isOnline()?C(this,$r).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,xe)}getMutationCache(){return C(this,$r)}getDefaultOptions(){return C(this,Dr)}setDefaultOptions(e){Y(this,Dr,e)}setQueryDefaults(e,t){C(this,ws).set(Wi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,ws).values()];let r={};return t.forEach(n=>{Gi(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){C(this,bs).set(Wi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,bs).values()];let r={};return t.forEach(n=>{Gi(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,Dr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Fd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===zd&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,Dr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,xe).clear(),C(this,$r).clear()}},xe=new WeakMap,$r=new WeakMap,Dr=new WeakMap,ws=new WeakMap,bs=new WeakMap,Ur=new WeakMap,js=new WeakMap,Ns=new WeakMap,gm),VN=v.createContext(void 0),WN=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(VN.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aa.apply(this,arguments)}var qr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qr||(qr={}));const Uf="popstate";function GN(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:a,hash:l}=n.location;return gu("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ly(s)}return QN(t,r,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ay(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KN(){return Math.random().toString(36).substr(2,8)}function Ff(e,t){return{usr:e.state,key:e.key,idx:t}}function gu(e,t,r,n){return r===void 0&&(r=null),Aa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ul(t):t,{state:r,key:t&&t.key||n||KN()})}function ly(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ul(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function QN(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,a=s.history,l=qr.Pop,c=null,u=f();u==null&&(u=0,a.replaceState(Aa({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function d(){l=qr.Pop;let w=f(),p=w==null?null:w-u;u=w,c&&c({action:l,location:y.location,delta:p})}function h(w,p){l=qr.Push;let x=gu(y.location,w,p);u=f()+1;let b=Ff(x,u),j=y.createHref(x);try{a.pushState(b,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}o&&c&&c({action:l,location:y.location,delta:1})}function g(w,p){l=qr.Replace;let x=gu(y.location,w,p);u=f();let b=Ff(x,u),j=y.createHref(x);a.replaceState(b,"",j),o&&c&&c({action:l,location:y.location,delta:0})}function m(w){let p=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:ly(w);return x=x.replace(/ $/,"%20"),et(p,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,p)}let y={get action(){return l},get location(){return e(s,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Uf,d),c=w,()=>{s.removeEventListener(Uf,d),c=null}},createHref(w){return t(s,w)},createURL:m,encodeLocation(w){let p=m(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:g,go(w){return a.go(w)}};return y}var zf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zf||(zf={}));function YN(e,t,r){return r===void 0&&(r="/"),JN(e,t,r,!1)}function JN(e,t,r,n){let s=typeof t=="string"?ul(t):t,o=dy(s.pathname||"/",r);if(o==null)return null;let a=cy(e);ZN(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=c2(o);l=a2(a[c],u,n)}return l}function cy(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(et(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=fs([n,c.relativePath]),f=r.concat(c);o.children&&o.children.length>0&&(et(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cy(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:i2(u,o.index),routesMeta:f})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of uy(o.path))s(o,a,c)}),t}function uy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let a=uy(n.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function ZN(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:o2(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const XN=/^:[\w-]+$/,e2=3,t2=2,r2=1,n2=10,s2=-2,Bf=e=>e==="*";function i2(e,t){let r=e.split("/"),n=r.length;return r.some(Bf)&&(n+=s2),t&&(n+=t2),r.filter(s=>!Bf(s)).reduce((s,o)=>s+(XN.test(o)?e2:o===""?r2:n2),n)}function o2(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function a2(e,t,r){let{routesMeta:n}=e,s={},o="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=o==="/"?t:t.slice(o.length)||"/",d=qf({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=qf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:fs([o,d.pathname]),pathnameBase:u2(fs([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=fs([o,d.pathnameBase]))}return a}function qf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=l2(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:g}=f;if(h==="*"){let y=l[d]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const m=l[d];return g&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function l2(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ay(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function c2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ay(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const fs=e=>e.join("/").replace(/\/\/+/g,"/"),u2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function d2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hy=["post","put","patch","delete"];new Set(hy);const h2=["get",...hy];new Set(h2);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oa(){return Oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oa.apply(this,arguments)}const f2=v.createContext(null),m2=v.createContext(null),fy=v.createContext(null),dl=v.createContext(null),hl=v.createContext({outlet:null,matches:[],isDataRoute:!1}),my=v.createContext(null);function Bd(){return v.useContext(dl)!=null}function py(){return Bd()||et(!1),v.useContext(dl).location}function p2(e,t){return g2(e,t)}function g2(e,t,r,n){Bd()||et(!1);let{navigator:s}=v.useContext(fy),{matches:o}=v.useContext(hl),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=py(),f;if(t){var d;let w=typeof t=="string"?ul(t):t;c==="/"||(d=w.pathname)!=null&&d.startsWith(c)||et(!1),f=w}else f=u;let h=f.pathname||"/",g=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let m=YN(e,{pathname:g}),y=b2(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:fs([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:fs([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return t&&y?v.createElement(dl.Provider,{value:{location:Oa({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:qr.Pop}},y):y}function y2(){let e=S2(),t=d2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,null)}const x2=v.createElement(y2,null);class v2 extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(hl.Provider,{value:this.props.routeContext},v.createElement(my.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w2(e){let{routeContext:t,match:r,children:n}=e,s=v.useContext(f2);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(hl.Provider,{value:t},n)}function b2(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||et(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:g}=r,m=d.route.loader&&h[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||m){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,d,h)=>{let g,m=!1,y=null,w=null;r&&(g=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||x2,c&&(u<0&&h===0?(m=!0,w=null):u===h&&(m=!0,w=d.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,h+1)),x=()=>{let b;return g?b=y:m?b=w:d.route.Component?b=v.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=f,v.createElement(w2,{match:d,routeContext:{outlet:f,matches:p,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?v.createElement(v2,{location:r.location,revalidation:r.revalidation,component:y,error:g,children:x(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):x()},null)}var yu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yu||{});function j2(e){let t=v.useContext(m2);return t||et(!1),t}function N2(e){let t=v.useContext(hl);return t||et(!1),t}function _2(e){let t=N2(),r=t.matches[t.matches.length-1];return r.route.id||et(!1),r.route.id}function S2(){var e;let t=v.useContext(my),r=j2(yu.UseRouteError),n=_2(yu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function xu(e){et(!1)}function k2(e){let{basename:t="/",children:r=null,location:n,navigationType:s=qr.Pop,navigator:o,static:a=!1,future:l}=e;Bd()&&et(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:o,static:a,future:Oa({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof n=="string"&&(n=ul(n));let{pathname:f="/",search:d="",hash:h="",state:g=null,key:m="default"}=n,y=v.useMemo(()=>{let w=dy(f,c);return w==null?null:{location:{pathname:w,search:d,hash:h,state:g,key:m},navigationType:s}},[c,f,d,h,g,m,s]);return y==null?null:v.createElement(fy.Provider,{value:u},v.createElement(dl.Provider,{children:r,value:y}))}function E2(e){let{children:t,location:r}=e;return p2(vu(t),r)}new Promise(()=>{});function vu(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let o=[...t,s];if(n.type===v.Fragment){r.push.apply(r,vu(n.props.children,o));return}n.type!==xu&&et(!1),!n.props.index||!n.props.children||et(!1);let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=vu(n.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const C2="6";try{window.__reactRouterVersion=C2}catch{}const T2="startTransition",Hf=hx[T2];function P2(e){let{basename:t,children:r,future:n,window:s}=e,o=v.useRef();o.current==null&&(o.current=GN({window:s,v5Compat:!0}));let a=o.current,[l,c]=v.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},f=v.useCallback(d=>{u&&Hf?Hf(()=>c(d)):c(d)},[c,u]);return v.useLayoutEffect(()=>a.listen(f),[a,f]),v.createElement(k2,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}var Vf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vf||(Vf={}));var Wf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wf||(Wf={}));const R2="modulepreload",A2=function(e){return"/"+e},Gf={},$s=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=A2(c),c in Gf)return;Gf[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":R2,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,g)=>{d.addEventListener("load",h),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},O2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$s(async()=>{const{default:n}=await Promise.resolve().then(()=>Vs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class qd extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class L2 extends qd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class I2 extends qd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class M2 extends qd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wu||(wu={}));var $2=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class D2{constructor(t,{headers:r={},customFetch:n,region:s=wu.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=O2(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return $2(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:a}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(l["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(l["Content-Type"]="application/json",u=JSON.stringify(a)));const f=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(m=>{throw new L2(m)}),d=f.headers.get("x-relay-error");if(d&&d==="true")throw new I2(f);if(!f.ok)throw new M2(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield f.json():h==="application/octet-stream"?g=yield f.blob():h==="text/event-stream"?g=f:h==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Ke={},Hd={},fl={},io={},ml={},pl={},U2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ds=U2();const F2=Ds.fetch,gy=Ds.fetch.bind(Ds),yy=Ds.Headers,z2=Ds.Request,B2=Ds.Response,Vs=Object.freeze(Object.defineProperty({__proto__:null,Headers:yy,Request:z2,Response:B2,default:gy,fetch:F2},Symbol.toStringTag,{value:"Module"})),q2=Yy(Vs);var gl={};Object.defineProperty(gl,"__esModule",{value:!0});let H2=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};gl.default=H2;var xy=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pl,"__esModule",{value:!0});const V2=xy(q2),W2=xy(gl);let G2=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=V2.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,l,c;let u=null,f=null,d=null,h=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){const p=await o.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=p:f=JSON.parse(p))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await o.text();try{u=JSON.parse(y),Array.isArray(u)&&o.status===404&&(f=[],u=null,h=200,g="OK")}catch{o.status===404&&y===""?(h=204,g="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw new W2.default(u)}return{error:u,data:f,count:d,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var a,l,c;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};pl.default=G2;var K2=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ml,"__esModule",{value:!0});const Q2=K2(pl);let Y2=class extends Q2.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ml.default=Y2;var J2=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(io,"__esModule",{value:!0});const Z2=J2(ml);let X2=class extends Z2.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};io.default=X2;var e_=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fl,"__esModule",{value:!0});const si=e_(io);let t_=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new si.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new si.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new si.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new si.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new si.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};fl.default=t_;var yl={},xl={};Object.defineProperty(xl,"__esModule",{value:!0});xl.version=void 0;xl.version="0.0.0-automated";Object.defineProperty(yl,"__esModule",{value:!0});yl.DEFAULT_HEADERS=void 0;const r_=xl;yl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r_.version}`};var vy=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hd,"__esModule",{value:!0});const n_=vy(fl),s_=vy(io),i_=yl;let o_=class wy{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},i_.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new n_.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new wy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(a="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new s_.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Hd.default=o_;var Ws=jt&&jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.PostgrestError=Ke.PostgrestBuilder=Ke.PostgrestTransformBuilder=Ke.PostgrestFilterBuilder=Ke.PostgrestQueryBuilder=Ke.PostgrestClient=void 0;const by=Ws(Hd);Ke.PostgrestClient=by.default;const jy=Ws(fl);Ke.PostgrestQueryBuilder=jy.default;const Ny=Ws(io);Ke.PostgrestFilterBuilder=Ny.default;const _y=Ws(ml);Ke.PostgrestTransformBuilder=_y.default;const Sy=Ws(pl);Ke.PostgrestBuilder=Sy.default;const ky=Ws(gl);Ke.PostgrestError=ky.default;var a_=Ke.default={PostgrestClient:by.default,PostgrestQueryBuilder:jy.default,PostgrestFilterBuilder:Ny.default,PostgrestTransformBuilder:_y.default,PostgrestBuilder:Sy.default,PostgrestError:ky.default};const{PostgrestClient:l_,PostgrestQueryBuilder:cE,PostgrestFilterBuilder:uE,PostgrestTransformBuilder:dE,PostgrestBuilder:hE,PostgrestError:fE}=a_,c_="2.11.2",u_={"X-Client-Info":`realtime-js/${c_}`},d_="1.0.0",Ey=1e4,h_=1e3;var ms;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ms||(ms={}));var st;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(st||(st={}));var Rt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Rt||(Rt={}));var bu;(function(e){e.websocket="websocket"})(bu||(bu={}));var gn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gn||(gn={}));class f_{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+o));a=a+o;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Cy{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(oe||(oe={}));const Kf=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,a)=>(o[a]=m_(a,e,t,s),o),{})},m_=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,a=r[e];return o&&!n.includes(o)?Ty(o,a):ju(a)},Ty=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return x_(t,r)}switch(e){case oe.bool:return p_(t);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return g_(t);case oe.json:case oe.jsonb:return y_(t);case oe.timestamp:return v_(t);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return ju(t);default:return ju(t)}},ju=e=>e,p_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},g_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},y_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},x_=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const a=e.slice(1,r);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(l=>Ty(t,l))}return e},v_=e=>typeof e=="string"?e.replace(" ","T"):e,Py=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class sc{constructor(t,r,n={},s=Ey){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Qf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Qf||(Qf={}));class bi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bi.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=bi.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=bi.syncDiff(this.state,s,o,a),l())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(o,(u,f)=>{a[u]||(c[u]=f)}),this.map(a,(u,f)=>{const d=o[u];if(d){const h=f.map(w=>w.presence_ref),g=d.map(w=>w.presence_ref),m=f.filter(w=>g.indexOf(w.presence_ref)<0),y=d.filter(w=>h.indexOf(w.presence_ref)<0);m.length>0&&(l[u]=m),y.length>0&&(c[u]=y)}else l[u]=f}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(g=>g.presence_ref),h=f.filter(g=>d.indexOf(g.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Yf||(Yf={}));var Jf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jf||(Jf={}));var sr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(sr||(sr={}));class Vd{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sc(this,Rt.join,this.params,this.timeout),this.rejoinTimer=new Cy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rt.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new bi(this),this.broadcastEndpointURL=Py(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:a,private:l}}=this.params;this._onError(f=>t==null?void 0:t(sr.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(sr.CLOSED));const c={},u={broadcast:o,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(sr.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,m=[];for(let y=0;y<g;y++){const w=h[y],{filter:{event:p,schema:x,table:b,filter:j}}=w,N=f&&f[y];if(N&&N.event===p&&N.schema===x&&N.table===b&&N.filter===j)m.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),t==null||t(sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(sr.SUBSCRIBED);return}}).receive("error",f=>{t==null||t(sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=st.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new sc(this,Rt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new sc(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Rt;if(n&&[l,c,u,f].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var m,y,w;return((m=g.filter)===null||m===void 0?void 0:m.event)==="*"||((w=(y=g.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(g=>g.callback(h,n)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var m,y,w,p,x,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const j=g.id,N=(m=g.filter)===null||m===void 0?void 0:m.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(x=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:y,table:w,commit_timestamp:p,type:x,errors:b}=m;h=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:p,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(m))}g.callback(h,n)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Vd.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Rt.close,{},t)}_onError(t){this._on(Rt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Kf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Kf(t.columns,t.old_record)),r}}const w_=()=>{},b_=typeof WebSocket<"u",j_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class N_{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=u_,this.params={},this.timeout=Ey,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=w_,this.conn=null,this.sendBuffer=[],this.serializer=new f_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...l)=>$s(async()=>{const{default:c}=await Promise.resolve().then(()=>Vs);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${bu.websocket}`,this.httpEndpoint=Py(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,a)=>a(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Cy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(b_){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new __(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),$s(async()=>{const{default:t}=await import("./browser-DQmF62v9.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:d_}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ms.connecting:return gn.Connecting;case ms.open:return gn.Open;case ms.closing:return gn.Closing;default:return gn.Closed}}isConnected(){return this.connectionState()===gn.Open}channel(t,r={config:{}}){const n=new Vd(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:o}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Rt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(h_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,o),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,o,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Rt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([j_],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class __{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ms.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Wd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Se(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class S_ extends Wd{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Nu extends Wd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var k_=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Ry=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$s(async()=>{const{default:n}=await Promise.resolve().then(()=>Vs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},E_=()=>k_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $s(()=>Promise.resolve().then(()=>Vs),void 0)).Response:Response}),_u=e=>{if(Array.isArray(e))return e.map(r=>_u(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=_u(n)}),t};var $n=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ic=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),C_=(e,t,r)=>$n(void 0,void 0,void 0,function*(){const n=yield E_();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new S_(ic(s),e.status||500))}).catch(s=>{t(new Nu(ic(s),s))}):t(new Nu(ic(e),e))}),T_=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function oo(e,t,r,n,s,o){return $n(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,T_(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>C_(c,l,n))})})}function La(e,t,r,n){return $n(this,void 0,void 0,function*(){return oo(e,"GET",t,r,n)})}function Rr(e,t,r,n,s){return $n(this,void 0,void 0,function*(){return oo(e,"POST",t,n,s,r)})}function P_(e,t,r,n,s){return $n(this,void 0,void 0,function*(){return oo(e,"PUT",t,n,s,r)})}function R_(e,t,r,n){return $n(this,void 0,void 0,function*(){return oo(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ay(e,t,r,n,s){return $n(this,void 0,void 0,function*(){return oo(e,"DELETE",t,n,s,r)})}var We=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const A_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class O_{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Ry(s)}uploadOrUpdate(t,r,n,s){return We(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Zf),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:o,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(Se(o))return{data:null,error:o};throw o}})}upload(t,r,n){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return We(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Zf.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:f}),h=yield d.json();return d.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Se(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return We(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Rr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+o.url),l=a.searchParams.get("token");if(!l)throw new Wd("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}})}update(t,r,n){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return We(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Se(s))return{data:null,error:s};throw s}})}copy(t,r,n){return We(this,void 0,void 0,function*(){try{return{data:{path:(yield Rr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Se(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return We(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Rr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(Se(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return We(this,void 0,void 0,function*(){try{const s=yield Rr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(Se(s))return{data:null,error:s};throw s}})}download(t,r){return We(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield La(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Se(l))return{data:null,error:l};throw l}})}info(t){return We(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield La(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:_u(n),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}})}exists(t){return We(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield R_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Se(n)&&n instanceof Nu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return We(this,void 0,void 0,function*(){try{return{data:yield Ay(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}})}list(t,r,n){return We(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},A_),r),{prefix:t||""});return{data:yield Rr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Se(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const L_="2.7.1",I_={"X-Client-Info":`storage-js/${L_}`};var qn=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class M_{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},I_),r),this.fetch=Ry(n)}listBuckets(){return qn(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Se(t))return{data:null,error:t};throw t}})}getBucket(t){return qn(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return qn(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return qn(this,void 0,void 0,function*(){try{return{data:yield P_(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}})}emptyBucket(t){return qn(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}})}deleteBucket(t){return qn(this,void 0,void 0,function*(){try{return{data:yield Ay(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}})}}class $_ extends M_{constructor(t,r={},n){super(t,r,n)}from(t){return new O_(this.url,this.headers,t,this.fetch)}}const D_="2.49.8";let ui="";typeof Deno<"u"?ui="deno":typeof document<"u"?ui="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ui="react-native":ui="node";const U_={"X-Client-Info":`supabase-js-${ui}/${D_}`},F_={headers:U_},z_={schema:"public"},B_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},q_={};var H_=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const V_=e=>{let t;return e?t=e:typeof fetch>"u"?t=gy:t=fetch,(...r)=>t(...r)},W_=()=>typeof Headers>"u"?yy:Headers,G_=(e,t,r)=>{const n=V_(r),s=W_();return(o,a)=>H_(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},a),{headers:u}))})};var K_=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Q_(e){return e.endsWith("/")?e:e+"/"}function Y_(e,t){var r,n;const{db:s,auth:o,realtime:a,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},f),a),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>K_(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Oy="2.69.1",Wn=30*1e3,Su=3,oc=Su*Wn,J_="http://localhost:9999",Z_="supabase.auth.token",X_={"X-Client-Info":`gotrue-js/${Oy}`},ku="X-Supabase-Api-Version",Ly={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tS=6e5;class Gd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class rS extends Gd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function nS(e){return Q(e)&&e.name==="AuthApiError"}class Iy extends Gd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class cn extends Gd{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Er extends cn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sS(e){return Q(e)&&e.name==="AuthSessionMissingError"}class ac extends cn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Io extends cn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mo extends cn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iS(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xf extends cn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Eu extends cn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function lc(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class em extends cn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ji extends cn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const tm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rm=` 	
\r=`.split(""),oS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<rm.length;t+=1)e[rm[t].charCodeAt(0)]=-2;for(let t=0;t<tm.length;t+=1)e[tm[t].charCodeAt(0)]=t;return e})();function My(e,t,r){const n=oS[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function nm(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{cS(a,n,r)};for(let a=0;a<e.length;a+=1)My(e.charCodeAt(a),s,o);return t.join("")}function aS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function lS(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}aS(n,t)}}function cS(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function uS(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)My(e.charCodeAt(s),r,n);return new Uint8Array(t)}function dS(e){const t=[];return lS(e,r=>t.push(r)),new Uint8Array(t)}function hS(e){return Math.round(Date.now()/1e3)+e}function fS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Bt=()=>typeof window<"u"&&typeof document<"u",hn={tested:!1,writable:!1},Ni=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hn.tested)return hn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),hn.tested=!0,hn.writable=!0}catch{hn.tested=!0,hn.writable=!1}return hn.writable};function mS(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const $y=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$s(async()=>{const{default:n}=await Promise.resolve().then(()=>Vs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},pS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Dy=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},$o=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Do=async(e,t)=>{await e.removeItem(t)};class vl{constructor(){this.promise=new vl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}vl.promiseConstructor=Promise;function cc(e){const t=e.split(".");if(t.length!==3)throw new ji("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!eS.test(t[n]))throw new ji("JWT not in base64url format");return{header:JSON.parse(nm(t[0])),payload:JSON.parse(nm(t[1])),signature:uS(t[2]),raw:{header:t[0],payload:t[1]}}}async function gS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function yS(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){n(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function xS(e){return("0"+e.toString(16)).substr(-2)}function vS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,xS).join("")}async function wS(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function bS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await wS(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hn(e,t,r=!1){const n=vS();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Dy(e,`${t}-code-verifier`,s);const o=await bS(n);return[o,n===o?"plain":"s256"]}const jS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NS(e){const t=e.headers.get(ku);if(!t||!t.match(jS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _S(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function SS(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var kS=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const pn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ES=[502,503,504];async function sm(e){var t;if(!pS(e))throw new Eu(pn(e),0);if(ES.includes(e.status))throw new Eu(pn(e),e.status);let r;try{r=await e.json()}catch(o){throw new Iy(pn(o),o)}let n;const s=NS(e);if(s&&s.getTime()>=Ly["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new em(pn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Er}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new em(pn(r),e.status,r.weak_password.reasons);throw new rS(pn(r),e.status||500,n)}const CS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Z(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[ku]||(o[ku]=Ly["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await TS(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function TS(e,t,r,n,s,o){const a=CS(t,n,s,o);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new Eu(pn(c),0)}if(l.ok||await sm(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await sm(c)}}function Cr(e){var t;let r=null;OS(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=hS(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function im(e){const t=Cr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Lr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function PS(e){return{data:e,error:null}}function RS(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,a=kS(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function AS(e){return e}function OS(e){return e.access_token&&e.refresh_token&&e.expires_in}var LS=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class IS{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=$y(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Lr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=LS(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:RS,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Lr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:AS});if(f.error)throw f.error;const d=await f.json(),h=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(m.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Lr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Lr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Lr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}}const MS={getItem:e=>Ni()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ni()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ni()&&globalThis.localStorage.removeItem(e)}};function om(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function $S(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vn={debug:!!(globalThis&&Ni()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class DS extends Uy{}async function US(e,t,r){Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new DS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}$S();const FS={url:J_,storageKey:Z_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:X_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function am(e,t,r){return await r()}class Ki{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ki.nextInstanceID,Ki.nextInstanceID+=1,this.instanceID>0&&Bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},FS),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new IS({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=$y(s.fetch),this.lock=s.lock||am,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Bt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=US:this.lock=am,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ni()?this.storage=MS:(this.memoryStorage={},this.storage=om(this.memoryStorage)):(this.memoryStorage={},this.storage=om(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Oy}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=mS(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Bt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),iS(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Q(r)?{error:r}:{error:new Iy("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Cr}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Q(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:f,password:d,options:h}=t;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await Hn(this.storage,this.storageKey)),o=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:m},xform:Cr})}else if("phone"in t){const{phone:f,password:d,options:h}=t;o=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Cr})}else throw new Io("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Q(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:a,options:l}=t;r=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:im})}else if("phone"in t){const{phone:o,password:a,options:l}=t;r=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:im})}else throw new Io("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ac}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await $o(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:a}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Cr});if(await Do(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ac}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(Q(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:a}=t,l=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Cr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ac}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Hn(this.storage,this.storageKey));const{error:d}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new Io("You must provide either an email or phone number.")}catch(l){if(Q(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Cr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await Hn(this.storage,this.storageKey)),await Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:PS})}catch(o){if(Q(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Er;const{error:s}=await Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:a}=await Z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:a,error:l}=await Z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Io("You must provide either an email or phone number and a type")}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await $o(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<oc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Lr}):await this._useSession(async r=>{var n,s,o;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Er}:await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Lr})})}catch(r){if(Q(r))return sS(r)&&(await this._removeSession(),await Do(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Er;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Hn(this.storage,this.storageKey));const{data:u,error:f}=await Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Lr});if(f)throw f;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Er;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:a}=cc(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Er;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Bt())throw new Mo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xf("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!a||!u)throw new Mo("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const g=h-f;g*1e3<=Wn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const m=h-d;f-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,f):f-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,f);const{data:y,error:w}=await this._getUser(o);if(w)throw w;const p={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(Q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await $o(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(nS(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Do(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=fS(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Hn(this.storage,this.storageKey,!0));try{return await Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Q(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var a,l,c,u,f;const{data:d,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Z(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Bt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Q(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)throw a;return await Z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await yS(async s=>(s>0&&await gS(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cr})),(s,o)=>{const a=200*Math.pow(2,s);return o&&lc(o)&&Date.now()+a-n<Wn})}catch(n){if(this._debug(r,"error",n),Q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Bt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await $o(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<oc;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${oc}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),lc(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Er;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new vl;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new Er;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),Q(o)){const a={session:null,error:o};return lc(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Dy(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Do(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Wn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Wn}ms, refresh threshold is ${Su} ticks`),s<=Su&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Uy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await Hn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await Z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:a,error:l}=await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=cc(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n||(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+tS>Date.now()))return n;const{data:s,error:o}=await Z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new ji("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===t),!n)throw new ji("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:g,error:m}=await this.getSession();if(m||!g.session)return{data:null,error:m};n=g.session.access_token}const{header:s,payload:o,signature:a,raw:{header:l,payload:c}}=cc(n);if(_S(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:o,header:s,signature:a},error:null}}const u=SS(s.alg),f=await this.fetchJwk(s.kid,r),d=await crypto.subtle.importKey("jwk",f,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,a,dS(`${l}.${c}`)))throw new ji("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}Ki.nextInstanceID=0;const zS=Ki;class BS extends zS{constructor(t){super(t)}}var qS=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class HS{constructor(t,r,n){var s,o,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Q_(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:z_,realtime:q_,auth:Object.assign(Object.assign({},B_),{storageKey:u}),global:F_},d=Y_(n??{},f);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=G_(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new l_(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new D2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $_(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return qS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:a,lock:l,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BS({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new N_(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const VS=(e,t,r)=>new HS(e,t,r),WS="https://hfogbmlwlecbocsojkoj.supabase.co",GS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhmb2dibWx3bGVjYm9jc29qa29qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMDkwNjAsImV4cCI6MjA2MzU4NTA2MH0.4KdSoMQJxuo4eTad_cHTARfjXeAuNFyEUALL04MYxkE",P=VS(WS,GS),rt=()=>{const[e,t]=v.useState(null),[r,n]=v.useState(null),[s,o]=v.useState(!0);return v.useEffect(()=>{const{data:{subscription:l}}=P.auth.onAuthStateChange((c,u)=>{n(u),t((u==null?void 0:u.user)??null),o(!1)});return P.auth.getSession().then(({data:{session:c}})=>{n(c),t((c==null?void 0:c.user)??null),o(!1)}),()=>l.unsubscribe()},[]),{user:e,session:r,loading:s,signOut:async()=>{await P.auth.signOut()}}},er=e=>{const[t,r]=v.useState(null),[n,s]=v.useState(!0);return v.useEffect(()=>{if(!e){r(null),s(!1);return}(async()=>{var l,c,u;try{const{data:f,error:d}=await P.from("profiles").select("*").eq("id",e.id).single();if(d&&d.code!=="PGRST116"){console.error("Error fetching profile:",d);return}if(f)r(f);else{const{data:h,error:g}=await P.from("profiles").insert({id:e.id,full_name:((l=e.user_metadata)==null?void 0:l.full_name)||null,phone_number:((c=e.user_metadata)==null?void 0:c.phone_number)||null,role:((u=e.user_metadata)==null?void 0:u.role)||"user"}).select().single();g?console.error("Error creating profile:",g):r(h)}}catch(f){console.error("Profile fetch error:",f)}finally{s(!1)}})()},[e]),{profile:t,loading:n,updateProfile:async a=>{if(!e||!t)return!1;try{const{data:l,error:c}=await P.from("profiles").update({...a,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();return c?(console.error("Error updating profile:",c),!1):(r(l),!0)}catch(l){return console.error("Profile update error:",l),!1}}}},KS=({onAuthSuccess:e})=>{const[t,r]=v.useState(!0),[n,s]=v.useState(""),[o,a]=v.useState(""),[l,c]=v.useState(""),[u,f]=v.useState(""),[d,h]=v.useState("user"),[g,m]=v.useState(!1),[y,w]=v.useState(!1),{toast:p}=te(),x=[{value:"user",label:"User",icon:yr,description:"Regular safety app user"},{value:"admin",label:"Admin",icon:ka,description:"Safety administrator (requires approval)"},{value:"govt_admin",label:"Government Admin",icon:u0,description:"Government official (requires approval)"}],b=async j=>{j.preventDefault(),m(!0);try{if(t){const{error:N}=await P.auth.signInWithPassword({email:n,password:o});if(N)throw N;p({title:"Welcome back!",description:"You've been signed in successfully."}),e()}else if(d!=="user"){const{data:N,error:_}=await P.auth.signUp({email:n,password:o,options:{data:{full_name:l,phone_number:u,requested_role:d}}});if(_)throw _;if(N.user){const{error:S}=await P.from("admin_approvals").insert({user_id:N.user.id,requested_role:d,requested_by_email:n});S&&console.error("Error creating approval request:",S);const{error:k}=await P.from("profiles").insert({id:N.user.id,full_name:l,phone_number:u,role:"user"});k&&console.error("Error creating profile:",k)}p({title:"Account created - Pending Approval",description:`Your ${d} account has been created and is pending admin approval.`}),await P.auth.signOut();return}else{const{data:N,error:_}=await P.auth.signUp({email:n,password:o,options:{data:{full_name:l,phone_number:u}}});if(_)throw _;if(N.user){const{error:S}=await P.from("profiles").insert({id:N.user.id,full_name:l,phone_number:u,role:"user"});S&&console.error("Error creating profile:",S)}p({title:"Account created!",description:"Your SafeGuard account has been created successfully."}),e()}}catch(N){p({title:"Authentication Error",description:N.message,variant:"destructive"})}finally{m(!1)}};return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[i.jsx(pe,{className:"w-8 h-8 text-emergency-600"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SafeGuard"})]}),i.jsx("p",{className:"text-gray-600",children:t?"Sign in to your account":"Create your safety account"})]}),i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[!t&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",value:l,onChange:j=>c(j.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emergency-500 focus:border-emergency-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),i.jsx("input",{type:"tel",value:u,onChange:j=>f(j.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emergency-500 focus:border-emergency-500",placeholder:"+1 (555) 123-4567"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:x.map(j=>{const N=j.icon;return i.jsxs("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer transition-all ${d===j.value?"border-emergency-500 bg-emergency-50":"border-gray-200 hover:border-gray-300"}`,children:[i.jsx("input",{type:"radio",name:"role",value:j.value,checked:d===j.value,onChange:_=>h(_.target.value),className:"sr-only"}),i.jsx(N,{className:"w-5 h-5 text-gray-600 mr-3"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:j.label}),i.jsx("div",{className:"text-sm text-gray-600",children:j.description})]})]},j.value)})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("input",{type:"email",value:n,onChange:j=>s(j.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emergency-500 focus:border-emergency-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:y?"text":"password",value:o,onChange:j=>a(j.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 pr-10 focus:ring-2 focus:ring-emergency-500 focus:border-emergency-500",required:!0}),i.jsx("button",{type:"button",onClick:()=>w(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:y?i.jsx(kb,{className:"w-4 h-4"}):i.jsx(tl,{className:"w-4 h-4"})})]})]}),i.jsx("button",{type:"submit",disabled:g,className:"w-full bg-emergency-600 hover:bg-emergency-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 disabled:opacity-50",children:g?"Please wait...":t?"Sign In":"Sign Up"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{onClick:()=>r(!t),className:"text-emergency-600 hover:text-emergency-700 font-medium",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})},Fy=e=>{switch(e){case"user":return[{id:"home",label:"Home",icon:ci},{id:"incident-report",label:"Report",icon:qe},{id:"chatbot",label:"Chatbot",icon:rl},{id:"community",label:"Community",icon:Xe}];case"admin":return[{id:"home",label:"Home",icon:ci},{id:"incident-report",label:"Report",icon:qe},{id:"user-info",label:"User Info",icon:ka},{id:"admin-requests",label:"Requests",icon:Bi}];case"govt_admin":return[{id:"home",label:"Home",icon:ci},{id:"incident-report",label:"Report",icon:qe},{id:"review-requests",label:"Review Requests",icon:Bi},{id:"safezones",label:"Manage Zones",icon:pe}];default:return[{id:"home",label:"Home",icon:ci}]}},QS=({userRole:e,activeTab:t,onTabChange:r})=>{const n=Fy(e);return i.jsx("div",{className:"hidden lg:flex items-center space-x-1",children:n.map(s=>{const o=s.icon;return i.jsxs("button",{onClick:()=>r(s.id),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t===s.id?"bg-emergency-100 text-emergency-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[i.jsx(o,{className:"w-4 h-4"}),i.jsx("span",{children:s.label})]},s.id)})})},YS=({profile:e,userRole:t,showProfileMenu:r,setShowProfileMenu:n,onTabChange:s})=>{const o=async()=>{await P.auth.signOut(),window.location.reload()};return i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>n(!r),className:"flex items-center space-x-2 p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:[i.jsx("div",{className:"w-8 h-8 bg-emergency-600 rounded-full flex items-center justify-center",children:i.jsx(yr,{className:"w-4 h-4 text-white"})}),i.jsx("span",{className:"hidden md:block text-sm font-medium",children:(e==null?void 0:e.full_name)||"User"})]}),r&&i.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border z-50",children:[i.jsxs("div",{className:"p-3 border-b",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:(e==null?void 0:e.full_name)||"User"}),i.jsx("p",{className:"text-xs text-gray-500 capitalize",children:t.replace("_"," ")})]}),i.jsxs("div",{className:"p-1",children:[i.jsxs("button",{onClick:()=>{s("settings"),n(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg",children:[i.jsx(Pd,{className:"w-4 h-4"}),i.jsx("span",{children:"Settings"})]}),i.jsxs("button",{onClick:()=>{s("activity-log"),n(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg",children:[i.jsx(zi,{className:"w-4 h-4"}),i.jsx("span",{children:"Activity Log"})]}),i.jsxs("button",{onClick:o,className:"flex items-center space-x-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg",children:[i.jsx(Rb,{className:"w-4 h-4"}),i.jsx("span",{children:"Sign Out"})]})]})]})]})},JS=({userRole:e,activeTab:t,isMobileMenuOpen:r,onTabChange:n,setIsMobileMenuOpen:s})=>{const o=Fy(e);return r?i.jsx("div",{className:"lg:hidden border-t bg-white",children:i.jsx("div",{className:"grid grid-cols-2 gap-2 p-4",children:o.map(a=>{const l=a.icon;return i.jsxs("button",{onClick:()=>{n(a.id),s(!1)},className:`flex items-center space-x-2 p-3 rounded-lg text-sm font-medium transition-colors ${t===a.id?"bg-emergency-100 text-emergency-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[i.jsx(l,{className:"w-4 h-4"}),i.jsx("span",{children:a.label})]},a.id)})})}):null},ZS=({activeTab:e,onTabChange:t})=>{const{user:r}=rt(),{profile:n}=er(r),[s,o]=v.useState(!1),[a,l]=v.useState(!1),c=(n==null?void 0:n.role)||"user";return i.jsxs("nav",{className:"bg-white shadow-lg border-b",children:[i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(pe,{className:"w-8 h-8 text-emergency-600"}),i.jsx("span",{className:"text-xl font-bold text-gray-900",children:"SafeGuard"})]}),i.jsx(QS,{userRole:c,activeTab:e,onTabChange:t}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("button",{onClick:()=>o(!s),className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:s?i.jsx(g0,{className:"w-6 h-6"}):i.jsx(Ab,{className:"w-6 h-6"})}),i.jsx(YS,{profile:n,userRole:c,showProfileMenu:a,setShowProfileMenu:l,onTabChange:t})]})]}),i.jsx(JS,{userRole:c,activeTab:e,isMobileMenuOpen:s,onTabChange:t,setIsMobileMenuOpen:o})]}),a&&i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)})]})},XS=({onGetStarted:e})=>{const t=[{id:"location",title:"Location Sharing",description:"Share your real-time location with emergency contacts",icon:Ce,color:"bg-blue-500"},{id:"contacts",title:"Emergency Contacts",description:"Manage trusted contacts for emergency situations",icon:Xe,color:"bg-green-500"},{id:"recording",title:"Evidence Recording",description:"Record audio and video evidence securely",icon:no,color:"bg-purple-500"},{id:"fakecall",title:"Fake Call",description:"Schedule fake calls to exit uncomfortable situations",icon:ht,color:"bg-orange-500"},{id:"safezones",title:"Safe Zones",description:"Discover and navigate to verified safe locations",icon:ci,color:"bg-teal-500"},{id:"resources",title:"Safety Resources",description:"Access comprehensive safety guides and resources",icon:el,color:"bg-red-500"}];return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emergency-50 to-emergency-100",children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsxs("div",{className:"flex items-center justify-center mb-6",children:[i.jsx(pe,{className:"w-16 h-16 text-emergency-600 mr-4"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"SafeGuard"}),i.jsx("p",{className:"text-xl text-gray-600",children:"Your Personal Safety Companion"})]})]}),i.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto mb-8",children:"Stay protected with our comprehensive safety platform. Access emergency features, connect with trusted contacts, and get help when you need it most."}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-8",children:[i.jsxs("button",{className:"flex items-center space-x-2 bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:[i.jsx(gf,{className:"w-5 h-5"}),i.jsx("span",{children:"Download for iOS"})]}),i.jsxs("button",{className:"flex items-center space-x-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(gf,{className:"w-5 h-5"}),i.jsx("span",{children:"Download for Android"})]})]}),i.jsxs("button",{onClick:e,className:"inline-flex items-center space-x-2 bg-emergency-600 text-white px-8 py-4 rounded-lg hover:bg-emergency-700 transition-colors text-lg font-semibold",children:[i.jsx("span",{children:"Get Started Now"}),i.jsx(jb,{className:"w-5 h-5"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:t.map(r=>{const n=r.icon;return i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[i.jsx("div",{className:`w-12 h-12 ${r.color} rounded-lg flex items-center justify-center mb-4`,children:i.jsx(n,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),i.jsx("p",{className:"text-gray-600",children:r.description})]},r.id)})}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-emergency-600 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(pe,{className:"w-8 h-8 text-white"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Emergency Alert System"}),i.jsx("p",{className:"text-gray-700 mb-6",children:"Instant emergency alerts with automatic location sharing and contact notification. Your safety is our priority."}),i.jsx("button",{onClick:e,className:"bg-emergency-600 text-white px-6 py-3 rounded-lg hover:bg-emergency-700 transition-colors",children:"Access Emergency Features"})]})]})})},ek=({onFeatureSelect:e})=>{const t=[{id:"sos",title:"Emergency SOS",description:"Instant emergency alert with location sharing",icon:pe,color:"bg-red-500",priority:1},{id:"contacts",title:"Emergency Contacts",description:"Manage trusted contacts for emergencies",icon:Xe,color:"bg-blue-500",priority:2},{id:"location",title:"Location Sharing",description:"Share your real-time location",icon:Ce,color:"bg-green-500",priority:3},{id:"recording",title:"Evidence Recording",description:"Record audio and video evidence",icon:no,color:"bg-purple-500",priority:4},{id:"fakecall",title:"Fake Call",description:"Schedule fake calls to exit situations",icon:ht,color:"bg-orange-500",priority:5},{id:"safezones",title:"Safe Zones",description:"Find verified safe locations nearby",icon:pe,color:"bg-teal-500",priority:6},{id:"resources",title:"Safety Resources",description:"Access safety guides and resources",icon:el,color:"bg-indigo-500",priority:7},{id:"alerts",title:"Safety Alerts",description:"Receive and manage safety notifications",icon:kn,color:"bg-yellow-500",priority:8}];return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(r=>{const n=r.icon;return i.jsxs("button",{onClick:()=>e(r.id),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all duration-200 transform hover:scale-105 text-left",children:[i.jsx("div",{className:`w-12 h-12 ${r.color} rounded-lg flex items-center justify-center mb-4`,children:i.jsx(n,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r.title}),i.jsx("p",{className:"text-gray-600 text-sm",children:r.description})]},r.id)})})},tk=({onFeatureSelect:e})=>{const t=[{id:"activity-log",title:"Activity Monitoring",description:"Monitor system and user activities",icon:zi,color:"bg-blue-500",category:"primary"},{id:"govt-requests",title:"Government Requests",description:"Handle government data requests",icon:qe,color:"bg-red-500",category:"primary"},{id:"review-requests",title:"Review Requests",description:"Review and approve admin requests",icon:pe,color:"bg-purple-500",category:"primary"},{id:"chatbot",title:"AI Assistant",description:"Access administrative chatbot support",icon:rl,color:"bg-green-500",category:"secondary"},{id:"community",title:"Community Management",description:"Moderate community content and users",icon:Xe,color:"bg-orange-500",category:"secondary"},{id:"resources",title:"Resource Management",description:"Edit and manage safety resources",icon:el,color:"bg-teal-500",category:"secondary"},{id:"alerts",title:"Alert System",description:"Manage system-wide alerts and notifications",icon:kn,color:"bg-yellow-500",category:"secondary"},{id:"request",title:"Data Analytics",description:"Generate reports and analytics",icon:c0,color:"bg-indigo-500",category:"secondary"}],r=t.filter(s=>s.category==="primary"),n=t.filter(s=>s.category==="secondary");return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),i.jsx("p",{className:"text-gray-600",children:"Manage users, content, and system operations"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Core Administration"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(s=>{const o=s.icon;return i.jsxs("button",{onClick:()=>e(s.id),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all duration-200 transform hover:scale-105 text-left",children:[i.jsx("div",{className:`w-12 h-12 ${s.color} rounded-lg flex items-center justify-center mb-4`,children:i.jsx(o,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.title}),i.jsx("p",{className:"text-gray-600 text-sm",children:s.description})]},s.id)})})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Additional Tools"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map(s=>{const o=s.icon;return i.jsxs("button",{onClick:()=>e(s.id),className:"bg-white rounded-xl shadow-md p-4 hover:shadow-lg transition-all duration-200 transform hover:scale-105 text-left",children:[i.jsx("div",{className:`w-10 h-10 ${s.color} rounded-lg flex items-center justify-center mb-3`,children:i.jsx(o,{className:"w-5 h-5 text-white"})}),i.jsx("h3",{className:"text-md font-semibold text-gray-900 mb-1",children:s.title}),i.jsx("p",{className:"text-gray-600 text-xs",children:s.description})]},s.id)})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"System Overview"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"247"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Active Users"})]}),i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"15"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Pending Requests"})]}),i.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"8"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Active Alerts"})]}),i.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"99.2%"}),i.jsx("div",{className:"text-sm text-gray-600",children:"System Uptime"})]})]})]})]})},rk=({onFeatureSelect:e})=>{const t=[{id:"activity-log",title:"System Monitoring",description:"Monitor all system activities and user interactions",icon:zi,color:"bg-blue-600",category:"primary"},{id:"govt-requests",title:"Data Requests",description:"Submit and track government data requests",icon:Bi,color:"bg-red-600",category:"primary"},{id:"user-info",title:"User Information",description:"Access comprehensive user data and profiles",icon:Xe,color:"bg-purple-600",category:"primary"},{id:"chatbot",title:"AI Assistant",description:"Government-level AI support and assistance",icon:rl,color:"bg-green-600",category:"secondary"},{id:"community",title:"Community Oversight",description:"Monitor community activities and content",icon:Xe,color:"bg-orange-600",category:"secondary"},{id:"request",title:"Data Analytics",description:"Generate comprehensive system reports",icon:c0,color:"bg-indigo-600",category:"secondary"},{id:"alerts",title:"Alert Management",description:"Manage system-wide alerts and notifications",icon:kn,color:"bg-yellow-600",category:"secondary"},{id:"resources",title:"Resource Management",description:"Manage public safety resources and content",icon:el,color:"bg-teal-600",category:"secondary"}],r=t.filter(s=>s.category==="primary"),n=t.filter(s=>s.category==="secondary");return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Government Admin Dashboard"}),i.jsx("p",{className:"text-gray-600",children:"Comprehensive oversight and data management tools"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Core Government Operations"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:r.map(s=>{const o=s.icon;return i.jsxs("button",{onClick:()=>e(s.id),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all duration-200 transform hover:scale-105 text-left",children:[i.jsx("div",{className:`w-12 h-12 ${s.color} rounded-lg flex items-center justify-center mb-4`,children:i.jsx(o,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.title}),i.jsx("p",{className:"text-gray-600 text-sm",children:s.description})]},s.id)})})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Additional Tools"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map(s=>{const o=s.icon;return i.jsxs("button",{onClick:()=>e(s.id),className:"bg-white rounded-xl shadow-md p-4 hover:shadow-lg transition-all duration-200 transform hover:scale-105 text-left",children:[i.jsx("div",{className:`w-10 h-10 ${s.color} rounded-lg flex items-center justify-center mb-3`,children:i.jsx(o,{className:"w-5 h-5 text-white"})}),i.jsx("h3",{className:"text-md font-semibold text-gray-900 mb-1",children:s.title}),i.jsx("p",{className:"text-gray-600 text-xs",children:s.description})]},s.id)})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Government Oversight Statistics"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"1,247"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total Users"})]}),i.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:"23"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Active Incidents"})]}),i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"156"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Safe Zones"})]}),i.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"12"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Pending Requests"})]})]})]})]})},lm=()=>{const[e,t]=v.useState("crisis"),r=[{id:"crisis",title:"Crisis Support",description:"Immediate help for crisis situations",resources:[{name:"National Suicide Prevention Lifeline",phone:"988",available:"24/7"},{name:"Crisis Text Line",phone:"Text HOME to 741741",available:"24/7"},{name:"National Domestic Violence Hotline",phone:"1-800-799-7233",available:"24/7"}]},{id:"counseling",title:"Professional Counseling",description:"Access to mental health professionals",resources:[{name:"BetterHelp Online Therapy",phone:"Visit betterhelp.com",available:"Online"},{name:"NAMI Helpline",phone:"1-800-950-6264",available:"Mon-Fri 10am-10pm ET"},{name:"Psychology Today Directory",phone:"Visit psychologytoday.com",available:"Online"}]},{id:"support",title:"Support Groups",description:"Connect with others who understand",resources:[{name:"SMART Recovery",phone:"Visit smartrecovery.org",available:"Various times"},{name:"Al-Anon Family Groups",phone:"1-888-425-2666",available:"Various times"},{name:"NAMI Support Groups",phone:"Visit nami.org",available:"Various times"}]}],n=r.find(s=>s.id===e);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(As,{className:"w-6 h-6 text-pink-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Emotional Support Resources"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:r.map(s=>i.jsx("button",{onClick:()=>t(s.id),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e===s.id?"bg-pink-100 text-pink-700 border-2 border-pink-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s.title},s.id))}),n&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n.title}),i.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),i.jsx("div",{className:"grid gap-4",children:n.resources.map((s,o)=>i.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:s.name}),i.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[i.jsx(ht,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"text-sm text-gray-600",children:s.phone})]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Available: ",s.available]})]}),i.jsx(Sb,{className:"w-4 h-4 text-gray-400"})]})},o))})]})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(h0,{className:"w-5 h-5 text-red-600"}),i.jsx("h3",{className:"font-semibold text-red-900",children:"Emergency Notice"})]}),i.jsx("p",{className:"text-red-700 mt-2 text-sm",children:"If you're experiencing a mental health emergency, please call 911 or go to your nearest emergency room immediately."})]})]})},nk=()=>{var N;const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,o]=v.useState("all"),[a,l]=v.useState(null),[c,u]=v.useState(null),[f,d]=v.useState(!1),{toast:h}=te(),g=["all","breathing","mindfulness","sleep","anxiety"];v.useEffect(()=>{m()},[]),v.useEffect(()=>{let _=null;return f&&c&&c>0?_=setInterval(()=>{u(S=>S&&S<=1?(d(!1),l(null),h({title:"Session Complete",description:"Your meditation session has finished. Well done!"}),null):S?S-1:null)},1e3):!f&&_&&clearInterval(_),()=>{_&&clearInterval(_)}},[f,c,h]);const m=async()=>{try{const{data:_,error:S}=await P.from("meditation_sessions").select("*").order("is_featured",{ascending:!1}).order("duration_minutes");if(S)throw S;t(_||[])}catch(_){console.error("Error fetching sessions:",_),h({title:"Error",description:"Failed to load meditation sessions. Please try again.",variant:"destructive"})}finally{n(!1)}},y=_=>{l(_.id),u(_.duration_minutes*60),d(!0),h({title:"Session Started",description:`Starting ${_.title} - ${_.duration_minutes} minutes`})},w=()=>{d(!1)},p=()=>{d(!0)},x=()=>{d(!1),l(null),u(null)},b=_=>{const S=Math.floor(_/60),k=_%60;return`${S}:${k.toString().padStart(2,"0")}`},j=s==="all"?e:e.filter(_=>_.category===s);return r?i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]})}):i.jsxs("div",{className:"space-y-6",children:[a&&c&&i.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl shadow-lg p-6 text-white",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-xl font-bold mb-2",children:(N=e.find(_=>_.id===a))==null?void 0:N.title}),i.jsx("div",{className:"text-4xl font-mono font-bold mb-4",children:b(c)}),i.jsxs("div",{className:"flex justify-center space-x-4",children:[f?i.jsxs("button",{onClick:w,className:"flex items-center space-x-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-6 py-3 rounded-lg transition-colors",children:[i.jsx(Td,{className:"w-5 h-5"}),i.jsx("span",{children:"Pause"})]}):i.jsxs("button",{onClick:p,className:"flex items-center space-x-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-6 py-3 rounded-lg transition-colors",children:[i.jsx(qi,{className:"w-5 h-5"}),i.jsx("span",{children:"Resume"})]}),i.jsxs("button",{onClick:x,className:"flex items-center space-x-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-6 py-3 rounded-lg transition-colors",children:[i.jsx(Lb,{className:"w-5 h-5"}),i.jsx("span",{children:"Reset"})]})]})]})}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Categories"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(_=>i.jsx("button",{onClick:()=>o(_),className:`px-4 py-2 rounded-lg font-medium transition-colors capitalize ${s===_?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:_},_))})]}),i.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:j.map(_=>i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[_.is_featured&&i.jsx(Mb,{className:"w-5 h-5 text-yellow-500 fill-current"}),i.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:_.category})]}),i.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-sm",children:_.difficulty_level})]}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:_.title}),i.jsx("p",{className:"text-gray-600 mb-4",children:_.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[i.jsx(ut,{className:"w-4 h-4 mr-1"}),i.jsxs("span",{children:[_.duration_minutes," minutes"]})]}),i.jsxs("button",{onClick:()=>y(_),disabled:a===_.id,className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${a===_.id?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"}`,children:[i.jsx(qi,{className:"w-4 h-4"}),i.jsx("span",{children:a===_.id?"Playing":"Start"})]})]})]},_.id))}),j.length===0&&i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[i.jsx("div",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",children:"🧘‍♀️"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Sessions Found"}),i.jsx("p",{className:"text-gray-600",children:s==="all"?"No meditation sessions are available at the moment.":`No sessions found in the ${s} category.`})]})]})},sk=({onStorySubmitted:e})=>{const[t,r]=v.useState({title:"",content:"",story_type:"healing",is_anonymous:!1,author_name:""}),[n,s]=v.useState(!1),{toast:o}=te(),{user:a}=rt(),l=["survival","healing","empowerment","warning","hope"],c=async u=>{if(u.preventDefault(),!!a){s(!0);try{const f={title:t.title,content:t.content,story_type:t.story_type,is_anonymous:t.is_anonymous,author_name:t.is_anonymous?t.author_name:null,user_id:a.id,status:"pending"},{error:d}=await P.from("personal_stories").insert(f);if(d)throw d;o({title:"Story Submitted!",description:"Your story has been submitted for review. Thank you for sharing your experience!"}),r({title:"",content:"",story_type:"healing",is_anonymous:!1,author_name:""}),e&&e()}catch(f){o({title:"Error",description:f.message||"Failed to submit story. Please try again.",variant:"destructive"})}finally{s(!1)}}};return i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx("div",{className:"bg-purple-100 rounded-lg p-2",children:i.jsx(Br,{className:"w-5 h-5 text-purple-600"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Share Your Story"})]}),i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Story Title"}),i.jsx("input",{type:"text",value:t.title,onChange:u=>r({...t,title:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Give your story a meaningful title",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Story Type"}),i.jsx("select",{value:t.story_type,onChange:u=>r({...t,story_type:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:l.map(u=>i.jsx("option",{value:u,className:"capitalize",children:u},u))})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("input",{type:"checkbox",id:"anonymous",checked:t.is_anonymous,onChange:u=>r({...t,is_anonymous:u.target.checked}),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),i.jsx("label",{htmlFor:"anonymous",className:"text-sm font-medium text-gray-700",children:"Share anonymously"})]}),t.is_anonymous&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Anonymous Name (optional)"}),i.jsx("input",{type:"text",value:t.author_name,onChange:u=>r({...t,author_name:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., 'A Survivor', 'Someone Strong'"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Story"}),i.jsx("textarea",{value:t.content,onChange:u=>r({...t,content:u.target.value}),rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Share your experience, your journey, what you've learned...",required:!0})]}),i.jsx("div",{className:"flex space-x-3",children:i.jsxs("button",{type:"submit",disabled:!t.title.trim()||!t.content.trim()||n,className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:[i.jsx(fr,{className:"w-4 h-4"}),i.jsx("span",{children:n?"Submitting...":"Submit Story"})]})})]}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Before you share:"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:"• Your story will be reviewed before being published"}),i.jsx("li",{children:"• Only share what you're comfortable with"}),i.jsx("li",{children:"• Your story can help and inspire others"}),i.jsx("li",{children:"• You can choose to remain anonymous"})]})]})]})},ik=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,o]=v.useState(!0),[a,l]=v.useState(null),[c,u]=v.useState("read"),[f,d]=v.useState({title:"",content:"",story_type:"healing",tags:[]}),{toast:h}=te(),{user:g}=rt(),{profile:m}=er(g),y=(m==null?void 0:m.role)||"user",w=["survival","healing","empowerment","warning","hope"];v.useEffect(()=>{p(),x()},[]);const p=async()=>{try{const{data:N,error:_}=await P.from("personal_stories").select("*").eq("status","approved").order("created_at",{ascending:!1});if(_)throw _;t(N||[])}catch(N){console.error("Error fetching stories:",N),h({title:"Error",description:"Failed to load stories. Please try again.",variant:"destructive"})}finally{o(!1)}},x=async()=>{try{const{data:{user:N}}=await P.auth.getUser();if(!N)return;const{data:_,error:S}=await P.from("story_likes").select("story_id").eq("user_id",N.id);if(S)throw S;n(_||[])}catch(N){console.error("Error fetching user likes:",N)}},b=async()=>{try{const{data:{user:N}}=await P.auth.getUser();if(!N)throw new Error("No user found");const _={title:f.title,content:f.content,story_type:f.story_type,is_anonymous:!1,author_name:null,tags:f.tags,user_id:N.id,status:"approved"},{error:S}=await P.from("personal_stories").insert(_);if(S)throw S;h({title:"Story Published",description:"Your story has been published successfully!"}),d({title:"",content:"",story_type:"healing",tags:[]}),u("read"),p()}catch(N){console.error("Error submitting story:",N),h({title:"Error",description:"Failed to submit story. Please try again.",variant:"destructive"})}},j=async N=>{try{const{data:{user:_}}=await P.auth.getUser();if(!_)return;const S=r.some(k=>k.story_id===N);if(S){const{error:k}=await P.from("story_likes").delete().eq("user_id",_.id).eq("story_id",N);if(k)throw k;n(r.filter(I=>I.story_id!==N))}else{const{error:k}=await P.from("story_likes").insert({user_id:_.id,story_id:N});if(k)throw k;n([...r,{story_id:N}])}t(e.map(k=>k.id===N?{...k,likes_count:k.likes_count+(S?-1:1)}:k))}catch(_){console.error("Error toggling like:",_),h({title:"Error",description:"Failed to update like. Please try again.",variant:"destructive"})}};return s&&c==="read"?i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]})}):c==="admin-create"&&(y==="admin"||y==="govt_admin")?i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Create Support Story"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),i.jsx("input",{type:"text",value:f.title,onChange:N=>d({...f,title:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Give your story a meaningful title",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Story Type"}),i.jsx("select",{value:f.story_type,onChange:N=>d({...f,story_type:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:w.map(N=>i.jsx("option",{value:N,className:"capitalize",children:N},N))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Story"}),i.jsx("textarea",{value:f.content,onChange:N=>d({...f,content:N.target.value}),rows:10,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Create supportive content to help and inspire users...",required:!0})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:b,disabled:!f.title.trim()||!f.content.trim(),className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:[i.jsx(fr,{className:"w-4 h-4"}),i.jsx("span",{children:"Publish Story"})]}),i.jsxs("button",{onClick:()=>u("read"),className:"flex items-center space-x-2 bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:[i.jsx(en,{className:"w-4 h-4"}),i.jsx("span",{children:"Cancel"})]})]})]})]}):c==="write"&&y==="user"?i.jsx(sk,{onStorySubmitted:()=>u("read")}):a?i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("button",{onClick:()=>l(null),className:"text-purple-600 hover:text-purple-700 mb-4 flex items-center",children:"← Back to Stories"}),i.jsxs("article",{className:"prose max-w-none",children:[i.jsx("div",{className:"flex items-center space-x-2 mb-4",children:i.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium capitalize",children:a.story_type})}),i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:a.title}),i.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-6",children:[i.jsxs("span",{children:["By ",a.is_anonymous?a.author_name||"Anonymous":"Community Member"]}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx(ut,{className:"w-4 h-4 mr-1"}),i.jsx("span",{children:new Date(a.created_at).toLocaleDateString()})]}),i.jsx("div",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed mb-6",children:a.content}),i.jsx("div",{className:"flex items-center space-x-4 pt-6 border-t border-gray-200",children:i.jsxs("button",{onClick:()=>j(a.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${r.some(N=>N.story_id===a.id)?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(As,{className:`w-4 h-4 ${r.some(N=>N.story_id===a.id)?"fill-current":""}`}),i.jsxs("span",{children:[a.likes_count," likes"]})]})})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex space-x-4 mb-4",children:[i.jsxs("button",{onClick:()=>u("read"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${c==="read"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(tl,{className:"w-4 h-4 inline mr-2"}),"Read Stories"]}),y==="user"&&i.jsxs("button",{onClick:()=>u("write"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${c==="write"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(Br,{className:"w-4 h-4 inline mr-2"}),"Share Story"]}),(y==="admin"||y==="govt_admin")&&i.jsxs("button",{onClick:()=>u("admin-create"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${c==="admin-create"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(Br,{className:"w-4 h-4 inline mr-2"}),"Create Story"]})]}),i.jsx("p",{className:"text-gray-600",children:c==="read"?"Read inspiring stories from our community members who have overcome challenges.":y==="user"?"Share your experience to inspire and help others in their journey.":"Create supportive content to help users in their emotional journey."})]}),c==="read"&&i.jsx("div",{className:"space-y-4",children:e.map(N=>i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 cursor-pointer hover:shadow-xl transition-shadow",onClick:()=>l(N),children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium capitalize",children:N.story_type}),i.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[i.jsx(ut,{className:"w-4 h-4 mr-1"}),new Date(N.created_at).toLocaleDateString()]})]}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:N.title}),i.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:N.content.length>200?`${N.content.substring(0,200)}...`:N.content}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm text-gray-500",children:["By ",N.is_anonymous?N.author_name||"Anonymous":"Community Member"]}),i.jsxs("div",{className:"flex items-center space-x-2 text-gray-500 text-sm",children:[i.jsx(As,{className:"w-4 h-4"}),i.jsx("span",{children:N.likes_count})]})]})]},N.id))}),e.length===0&&c==="read"&&i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[i.jsx(Xe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Stories Yet"}),i.jsx("p",{className:"text-gray-600 mb-4",children:y==="user"?"Be the first to share your story and inspire others in our community.":"Create the first supportive story for your community."}),y==="user"?i.jsxs("button",{onClick:()=>u("write"),className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors mx-auto",children:[i.jsx(Br,{className:"w-4 h-4"}),i.jsx("span",{children:"Share Your Story"})]}):i.jsxs("button",{onClick:()=>u("admin-create"),className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors mx-auto",children:[i.jsx(Br,{className:"w-4 h-4"}),i.jsx("span",{children:"Create Story"})]})]})]})},ok=()=>{var s;const[e,t]=v.useState("support"),r=[{id:"support",title:"Emotional Support",icon:As,description:"Get emotional support and counseling resources"},{id:"meditation",title:"Meditation & Wellness",icon:Xe,description:"Access guided meditation and wellness sessions"},{id:"stories",title:"Share Your Story",icon:h0,description:"Share experiences and connect with others"}],n=()=>{switch(e){case"support":return i.jsx(lm,{});case"meditation":return i.jsx(nk,{});case"stories":return i.jsx(ik,{});default:return i.jsx(lm,{})}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx(Xe,{className:"w-8 h-8 text-purple-600"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Community Support"}),i.jsx("p",{className:"text-gray-600",children:"Connect, heal, and grow with our supportive community"})]})]}),i.jsx("div",{className:"flex flex-wrap gap-3",children:r.map(o=>{const a=o.icon;return i.jsxs("button",{onClick:()=>t(o.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${e===o.id?"bg-purple-100 text-purple-700 border-2 border-purple-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(a,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:o.title})]},o.id)})}),i.jsx("div",{className:"mt-4 p-4 bg-purple-50 rounded-lg",children:i.jsx("p",{className:"text-purple-700",children:(s=r.find(o=>o.id===e))==null?void 0:s.description})})]}),i.jsx("div",{children:n()})]})},ak=()=>{const[e,t]=v.useState(null),[r,n]=v.useState(!1),[s,o]=v.useState(null),[a,l]=v.useState(null),{toast:c}=te();v.useEffect(()=>(u(),()=>{a!==null&&navigator.geolocation.clearWatch(a)}),[a]);const u=()=>{if(!navigator.geolocation){c({title:"Location Not Supported",description:"Your browser doesn't support location services.",variant:"destructive"});return}navigator.geolocation.getCurrentPosition(m=>{t({lat:m.coords.latitude,lng:m.coords.longitude}),o(m.coords.accuracy)},m=>{c({title:"Location Error",description:"Unable to get your current location. Please enable location services.",variant:"destructive"})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},f=async(m,y,w)=>{try{const{data:p}=await P.auth.getUser();if(!p.user)return;await P.from("location_history").insert({user_id:p.user.id,lat:m,lng:y,accuracy:w})}catch(p){console.error("Failed to save location:",p)}},d=()=>{if(!navigator.geolocation)return;const m=navigator.geolocation.watchPosition(y=>{const w={lat:y.coords.latitude,lng:y.coords.longitude};t(w),o(y.coords.accuracy),f(y.coords.latitude,y.coords.longitude,y.coords.accuracy)},y=>{c({title:"Location Sharing Error",description:"Unable to track location continuously.",variant:"destructive"})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e4});l(m),n(!0),c({title:"Location Sharing Started",description:"Your location is now being shared with your emergency contacts."})},h=()=>{a!==null&&(navigator.geolocation.clearWatch(a),l(null)),n(!1),c({title:"Location Sharing Stopped",description:"Your location is no longer being shared."})},g=()=>{if(e){const m=`https://www.google.com/maps?q=${e.lat},${e.lng}`;window.open(m,"_blank")}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx(Ce,{className:"w-6 h-6 text-emergency-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Location Sharing"})]}),e?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Current Location:"}),i.jsxs("div",{className:"font-mono text-sm",children:[i.jsxs("div",{children:["Lat: ",e.lat.toFixed(6)]}),i.jsxs("div",{children:["Lng: ",e.lng.toFixed(6)]}),s&&i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Accuracy: ±",Math.round(s),"m"]})]})]}),i.jsxs("div",{className:"flex space-x-3",children:[r?i.jsxs("button",{onClick:h,className:"flex-1 bg-emergency-600 hover:bg-emergency-700 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center space-x-2 transition-all duration-200",children:[i.jsx(pe,{className:"w-5 h-5"}),i.jsx("span",{children:"Stop Sharing"})]}):i.jsxs("button",{onClick:d,className:"flex-1 bg-safe-600 hover:bg-safe-700 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center space-x-2 transition-all duration-200",children:[i.jsx(Ib,{className:"w-5 h-5"}),i.jsx("span",{children:"Start Sharing"})]}),i.jsx("button",{onClick:u,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200",children:i.jsx(Ce,{className:"w-5 h-5"})}),i.jsx("button",{onClick:g,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200",children:i.jsx(Ob,{className:"w-5 h-5"})})]}),r&&i.jsxs("div",{className:"bg-safe-50 border border-safe-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-safe-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-safe-800 font-medium",children:"Location sharing active"})]}),i.jsx("p",{className:"text-safe-600 text-sm mt-2",children:"Your emergency contacts can see your real-time location."})]})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ce,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-600",children:"Getting your location..."}),i.jsx("button",{onClick:u,className:"mt-4 bg-emergency-600 hover:bg-emergency-700 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200",children:"Enable Location"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx(Xe,{className:"w-6 h-6 text-blue-600"}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Location History"})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsx("p",{className:"text-blue-800 text-sm",children:"Your location history is automatically saved when sharing is active. This helps emergency services locate you quickly if needed."})})]})]})},lk=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,o]=v.useState(!1),[a,l]=v.useState({name:"",phone:"",email:"",relationship:"",priority:1}),{toast:c}=te();v.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:m,error:y}=await P.from("emergency_contacts").select("*").order("priority",{ascending:!0});if(y)throw y;t(m||[])}catch{c({title:"Error",description:"Failed to load emergency contacts.",variant:"destructive"})}finally{n(!1)}},f=async()=>{if(!a.name||!a.phone){c({title:"Missing Information",description:"Please fill in at least the name and phone number.",variant:"destructive"});return}try{const{data:m}=await P.auth.getUser();if(!m.user)throw new Error("Not authenticated");const{error:y}=await P.from("emergency_contacts").insert({user_id:m.user.id,...a});if(y)throw y;l({name:"",phone:"",email:"",relationship:"",priority:1}),o(!1),u(),c({title:"Contact Added",description:`${a.name} has been added to your emergency contacts.`})}catch(m){c({title:"Error",description:m.message,variant:"destructive"})}},d=async m=>{try{const y=e.find(p=>p.id===m),{error:w}=await P.from("emergency_contacts").delete().eq("id",m);if(w)throw w;u(),c({title:"Contact Removed",description:`${y==null?void 0:y.name} has been removed from your emergency contacts.`})}catch(y){c({title:"Error",description:y.message,variant:"destructive"})}},h=(m,y)=>{c({title:"Calling...",description:`Initiating call to ${y}`}),window.open(`tel:${m}`)},g=async()=>{try{const{data:m}=await P.auth.getUser();if(!m.user)throw new Error("Not authenticated");const{data:y,error:w}=await P.from("emergency_incidents").insert({user_id:m.user.id,status:"active"}).select().single();if(w)throw w;navigator.geolocation&&navigator.geolocation.getCurrentPosition(async p=>{await P.from("emergency_incidents").update({location_lat:p.coords.latitude,location_lng:p.coords.longitude,location_accuracy:p.coords.accuracy}).eq("id",y.id)}),c({title:"Emergency Alert Sent!",description:"All emergency contacts have been notified.",variant:"destructive"})}catch(m){c({title:"Error",description:m.message,variant:"destructive"})}};return r?i.jsx("div",{className:"space-y-6",children:i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-16 bg-gray-200 rounded"}),i.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})})}):i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Emergency Contacts"}),i.jsx("button",{onClick:()=>o(!s),className:"bg-emergency-600 hover:bg-emergency-700 text-white p-2 rounded-lg transition-all duration-200",children:i.jsx(Br,{className:"w-5 h-5"})})]}),s&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 space-y-4",children:[i.jsx("h3",{className:"font-medium text-gray-900",children:"Add New Contact"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("input",{type:"text",placeholder:"Full Name",value:a.name,onChange:m=>l({...a,name:m.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emergency-500 focus:border-emergency-500"}),i.jsx("input",{type:"tel",placeholder:"Phone Number",value:a.phone,onChange:m=>l({...a,phone:m.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emergency-500 focus:border-emergency-500"}),i.jsx("input",{type:"email",placeholder:"Email Address",value:a.email,onChange:m=>l({...a,email:m.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emergency-500 focus:border-emergency-500"}),i.jsxs("select",{value:a.relationship,onChange:m=>l({...a,relationship:m.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emergency-500 focus:border-emergency-500",children:[i.jsx("option",{value:"",children:"Select Relationship"}),i.jsx("option",{value:"Family",children:"Family"}),i.jsx("option",{value:"Friend",children:"Friend"}),i.jsx("option",{value:"Colleague",children:"Colleague"}),i.jsx("option",{value:"Neighbor",children:"Neighbor"}),i.jsx("option",{value:"Emergency Service",children:"Emergency Service"})]})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:f,className:"bg-safe-600 hover:bg-safe-700 text-white px-4 py-2 rounded-lg transition-all duration-200",children:"Add Contact"}),i.jsx("button",{onClick:()=>o(!1),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-all duration-200",children:"Cancel"})]})]}),i.jsxs("div",{className:"space-y-4",children:[e.map(m=>i.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx(yr,{className:"w-5 h-5 text-gray-400"}),i.jsx("h3",{className:"font-bold text-gray-900",children:m.name}),m.relationship&&i.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:m.relationship}),i.jsxs("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:["Priority ",m.priority]})]}),i.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ht,{className:"w-4 h-4"}),i.jsx("span",{children:m.phone})]}),m.email&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Cd,{className:"w-4 h-4"}),i.jsx("span",{children:m.email})]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>h(m.phone,m.name),className:"bg-safe-600 hover:bg-safe-700 text-white p-2 rounded-lg transition-all duration-200",children:i.jsx(ht,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>d(m.id),className:"bg-emergency-600 hover:bg-emergency-700 text-white p-2 rounded-lg transition-all duration-200",children:i.jsx($b,{className:"w-4 h-4"})})]})]})},m.id)),e.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ht,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-600",children:"No emergency contacts added yet."}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Add contacts who should be notified during emergencies."})]})]}),e.length>0&&i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:i.jsx("button",{onClick:g,className:"w-full bg-emergency-600 hover:bg-emergency-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200",children:"Send Emergency Alert to All Contacts"})})]})})},ck=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[s,o]=v.useState(""),[a,l]=v.useState(null),{toast:c}=te(),u=[{phrase:"emergency help",action:"trigger_sos",description:"Trigger SOS alert"},{phrase:"call emergency",action:"trigger_sos",description:"Trigger SOS alert"},{phrase:"send location",action:"share_location",description:"Share current location"},{phrase:"fake call now",action:"fake_call",description:"Start fake call"},{phrase:"start recording",action:"start_recording",description:"Begin evidence recording"},{phrase:"stop recording",action:"stop_recording",description:"Stop evidence recording"},{phrase:"open chat",action:"open_chatbot",description:"Open AI support chat"},{phrase:"help me",action:"open_chatbot",description:"Open AI support chat"},{phrase:"show safe zones",action:"show_safe_zones",description:"Display safe zones map"},{phrase:"contact support",action:"contact_support",description:"Access support resources"}];v.useEffect(()=>{const g=window.SpeechRecognition||window.webkitSpeechRecognition;if(g){n(!0);const m=new g;m.continuous=!0,m.interimResults=!0,m.lang="en-US",m.onresult=y=>{let w="";for(let p=y.resultIndex;p<y.results.length;p++)y.results[p].isFinal&&(w+=y.results[p][0].transcript);w&&(o(w.toLowerCase().trim()),f(w.toLowerCase().trim()))},m.onerror=y=>{console.error("Speech recognition error:",y.error),t(!1),c({title:"Voice Recognition Error",description:"There was an issue with voice recognition. Please try again.",variant:"destructive"})},m.onend=()=>{e&&m.start()},l(m)}else n(!1);return()=>{a&&a.stop()}},[]);const f=g=>{const m=u.find(y=>g.includes(y.phrase));m&&d(m)},d=g=>{switch(console.log("Executing voice command:",g.action),g.action){case"trigger_sos":c({title:"SOS Alert Triggered",description:"Emergency alert has been sent to your contacts.",variant:"destructive"});break;case"share_location":c({title:"Location Shared",description:"Your current location has been shared with emergency contacts."});break;case"fake_call":c({title:"Fake Call Initiated",description:"Starting fake call for safety exit."});break;case"start_recording":c({title:"Recording Started",description:"Evidence recording has begun."});break;case"stop_recording":c({title:"Recording Stopped",description:"Evidence recording has been saved."});break;case"open_chatbot":c({title:"Opening Chat Support",description:"AI support chat is now available."});break;case"show_safe_zones":c({title:"Safe Zones",description:"Displaying safe zones in your area."});break;case"contact_support":c({title:"Support Resources",description:"Opening safety resource directory."});break}},h=()=>{a&&(e?(a.stop(),t(!1),c({title:"Voice Commands Disabled",description:"Voice recognition has been turned off."})):(a.start(),t(!0),c({title:"Voice Commands Enabled",description:"Say a command to interact with the app."})))};return r?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(xf,{className:"w-6 h-6 text-blue-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Voice Commands"})]}),i.jsxs("button",{onClick:h,className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${e?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[e?i.jsx(yf,{className:"w-4 h-4"}):i.jsx(Os,{className:"w-4 h-4"}),i.jsx("span",{children:e?"Stop Listening":"Start Listening"})]})]}),i.jsxs("div",{className:`p-4 rounded-lg border ${e?"bg-green-50 border-green-200 text-green-800":"bg-gray-50 border-gray-200 text-gray-600"}`,children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Os,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:e?"Listening for voice commands...":"Voice commands are disabled"})]}),s&&i.jsxs("div",{className:"mt-2 text-sm",children:[i.jsx("strong",{children:"Last heard:"}),' "',s,'"']})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Available Commands"}),i.jsx("div",{className:"grid gap-3",children:u.map((g,m)=>i.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"font-medium text-blue-600",children:['"',g.phrase,'"']}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.description})]}),i.jsx(xf,{className:"w-4 h-4 text-gray-400"})]})},m))})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(Pd,{className:"w-5 h-5 text-blue-600"}),i.jsx("h4",{className:"font-medium text-blue-900",children:"Usage Tips"})]}),i.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[i.jsx("li",{children:"• Speak clearly and at normal volume"}),i.jsx("li",{children:"• Wait for the system to process before speaking again"}),i.jsx("li",{children:"• Use exact phrases listed above for best results"}),i.jsx("li",{children:"• Make sure your microphone is enabled in browser settings"})]})]})]}):i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(yf,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Voice Commands Not Supported"}),i.jsx("p",{className:"text-gray-600",children:"Your browser doesn't support voice recognition. Please use a modern browser like Chrome or Firefox."})]})})},uk=()=>{const[e,t]=v.useState("general"),[r,n]=v.useState(!1),{user:s}=rt(),{profile:o}=er(s),{toast:a}=te(),l=(o==null?void 0:o.role)||"user",[c,u]=v.useState({autoEmergencyDetection:!0,locationServices:!0,audioRecording:!1,videoRecording:!1,pushNotifications:!0,emergencyAlerts:!0,locationWarnings:!0,contactNotifications:!0,locationHistory:!0,anonymousReporting:!1,dataSharing:!1,voiceMonitoring:(o==null?void 0:o.voice_monitoring_enabled)||!1,sosGesture:(o==null?void 0:o.sos_gesture_enabled)||!0}),f=async(y,w)=>{if(u(p=>({...p,[y]:w})),y==="voiceMonitoring"||y==="sosGesture"){n(!0);try{const p=y==="voiceMonitoring"?{voice_monitoring_enabled:w}:{sos_gesture_enabled:w},{error:x}=await P.from("profiles").update(p).eq("id",s==null?void 0:s.id);if(x)throw x;a({title:"Settings Updated",description:`${y==="voiceMonitoring"?"Voice monitoring":"SOS gesture"} has been ${w?"enabled":"disabled"}.`})}catch(p){console.error("Error updating setting:",p),a({title:"Update Failed",description:"Unable to update setting. Please try again.",variant:"destructive"}),u(x=>({...x,[y]:!w}))}finally{n(!1)}}else a({title:"Setting Updated",description:"Your preference has been saved."})},d=[{title:"Safety & Security",icon:pe,settings:[{key:"autoEmergencyDetection",name:"Auto Emergency Detection",description:"Automatically detect emergencies using AI",value:c.autoEmergencyDetection},{key:"locationServices",name:"Location Services",description:"Share location during emergencies",value:c.locationServices},{key:"audioRecording",name:"Audio Recording",description:"Record audio during SOS activation",value:c.audioRecording},{key:"videoRecording",name:"Video Recording",description:"Record video during SOS activation",value:c.videoRecording},{key:"voiceMonitoring",name:"Voice Monitoring",description:"Enable background voice monitoring for distress",value:c.voiceMonitoring},{key:"sosGesture",name:"SOS Gesture",description:"Enable gesture-based SOS activation",value:c.sosGesture}]},{title:"Notifications",icon:kn,settings:[{key:"pushNotifications",name:"Push Notifications",description:"Receive safety alerts and updates",value:c.pushNotifications},{key:"emergencyAlerts",name:"Emergency Alerts",description:"High priority emergency notifications",value:c.emergencyAlerts},{key:"locationWarnings",name:"Location Warnings",description:"Alerts when entering unsafe areas",value:c.locationWarnings},{key:"contactNotifications",name:"Contact Notifications",description:"Notify when contacts trigger SOS",value:c.contactNotifications}]},{title:"Privacy",icon:yr,settings:[{key:"locationHistory",name:"Location History",description:"Store location history for safety analysis",value:c.locationHistory},{key:"anonymousReporting",name:"Anonymous Reporting",description:"Report incidents anonymously",value:c.anonymousReporting},{key:"dataSharing",name:"Data Sharing",description:"Share safety data for community insights",value:c.dataSharing}]}],g=(y=>y==="admin"||y==="govt_admin"?[{id:"general",label:"General Settings"}]:[{id:"general",label:"General Settings"},{id:"voice",label:"Voice Commands"}])(l),m=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(Pd,{className:"w-6 h-6 text-emergency-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Settings"}),r&&i.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),i.jsx("span",{className:"text-sm",children:"Updating..."})]})]}),i.jsx("div",{className:"space-y-6",children:d.map((y,w)=>{const p=y.icon;return i.jsxs("div",{className:"border-b border-gray-200 last:border-b-0 pb-6 last:pb-0",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[i.jsx(p,{className:"w-5 h-5 text-gray-600"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:y.title})]}),i.jsx("div",{className:"space-y-4",children:y.settings.map((x,b)=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-gray-900",children:x.name}),i.jsx("div",{className:"text-sm text-gray-600",children:x.description})]}),i.jsx("button",{onClick:()=>f(x.key,!x.value),disabled:r,className:`w-12 h-6 rounded-full relative transition-all duration-200 ${x.value?"bg-safe-500":"bg-gray-300"} ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:i.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 shadow transition-all duration-200 ${x.value?"right-0.5":"left-0.5"}`,children:x.value&&i.jsx(_b,{className:"w-3 h-3 text-safe-500 absolute top-1 left-1"})})})]},b))})]},w)})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Account"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("button",{onClick:()=>a({title:"Profile",description:"Profile editing will be available soon."}),className:"w-full text-left p-4 rounded-lg border border-gray-200 hover:bg-gray-50 transition-all duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:"Profile Information"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Update your personal details"})]}),i.jsx("div",{className:"text-gray-400",children:"›"})]})}),l==="user"&&i.jsx("button",{onClick:()=>a({title:"Emergency Plan",description:"Emergency plan setup will be available soon."}),className:"w-full text-left p-4 rounded-lg border border-gray-200 hover:bg-gray-50 transition-all duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:"Emergency Plan"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Set up your emergency response plan"})]}),i.jsx("div",{className:"text-gray-400",children:"›"})]})}),i.jsx("button",{onClick:()=>a({title:"Privacy",description:"Advanced privacy settings will be available soon."}),className:"w-full text-left p-4 rounded-lg border border-gray-200 hover:bg-gray-50 transition-all duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:"Data & Privacy"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Manage your data and privacy settings"})]}),i.jsx("div",{className:"text-gray-400",children:"›"})]})})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Support"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>a({title:"Help Center",description:"Redirecting to help center..."}),className:"w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-all duration-200",children:i.jsx("div",{className:"font-medium text-gray-900",children:"Help Center"})}),i.jsx("button",{onClick:()=>a({title:"Support",description:"Contact support feature coming soon."}),className:"w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-all duration-200",children:i.jsx("div",{className:"font-medium text-gray-900",children:"Contact Support"})}),i.jsx("button",{onClick:()=>a({title:"Bug Report",description:"Bug reporting feature coming soon."}),className:"w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-all duration-200",children:i.jsx("div",{className:"font-medium text-gray-900",children:"Report a Bug"})}),l==="user"&&i.jsx("button",{onClick:()=>a({title:"Emergency Hotlines",description:`Emergency: 911
Crisis Text Line: 741741
National Suicide Prevention: 988`}),className:"w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-all duration-200",children:i.jsx("div",{className:"font-medium text-emergency-600",children:"Emergency Hotlines"})})]})]})]});return i.jsxs("div",{className:"space-y-6",children:[g.length>1&&i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsx("div",{className:"flex space-x-4",children:g.map(y=>i.jsxs("button",{onClick:()=>t(y.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${e===y.id?"bg-emergency-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[y.id==="voice"&&i.jsx(Os,{className:"w-4 h-4"}),i.jsx("span",{children:y.label})]},y.id))})}),e==="general"?m():i.jsx(ck,{})]})},dk=({incidentId:e,onRecordingComplete:t})=>{const[r,n]=v.useState(!1),[s,o]=v.useState(!1),[a,l]=v.useState(null),[c,u]=v.useState(!1),f=v.useRef(null),d=v.useRef(null),h=v.useRef([]),{toast:g}=te(),m=async()=>{try{const x=await navigator.mediaDevices.getUserMedia({audio:!0}),b=new MediaRecorder(x);f.current=b,h.current=[],b.ondataavailable=j=>{j.data.size>0&&h.current.push(j.data)},b.onstop=()=>{const j=new Blob(h.current,{type:"audio/webm"}),N=URL.createObjectURL(j);l(N),x.getTracks().forEach(_=>_.stop())},b.start(),n(!0),g({title:"Recording Started",description:"Audio recording is now active."})}catch{g({title:"Recording Error",description:"Unable to access microphone. Please check permissions.",variant:"destructive"})}},y=()=>{f.current&&r&&(f.current.stop(),n(!1),g({title:"Recording Stopped",description:"Audio recording has been saved."}))},w=()=>{a&&d.current&&(s?(d.current.pause(),o(!1)):(d.current.play(),o(!0)))},p=async()=>{var x;if(!(!a||!e)){u(!0);try{const b=new Blob(h.current,{type:"audio/webm"}),j=`${Date.now()}_audio.webm`,{data:N}=await P.auth.getUser();if(!N.user)throw new Error("Not authenticated");const _=`${N.user.id}/${j}`,{error:S}=await P.storage.from("recordings").upload(_,b);if(S)throw S;const{error:k}=await P.from("recordings").insert({incident_id:e,user_id:N.user.id,file_path:_,file_type:"audio",file_size:b.size,duration_seconds:Math.round(((x=d.current)==null?void 0:x.duration)||0)});if(k)throw k;g({title:"Recording Uploaded",description:"Audio evidence has been saved securely."}),t&&t({type:"audio",path:_})}catch(b){g({title:"Upload Failed",description:b.message,variant:"destructive"})}finally{u(!1)}}};return i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Audio Recording"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[r?i.jsx("button",{onClick:y,className:"bg-gray-600 hover:bg-gray-700 text-white p-4 rounded-full transition-all duration-200 animate-pulse",children:i.jsx(f0,{className:"w-6 h-6"})}):i.jsx("button",{onClick:m,className:"bg-emergency-600 hover:bg-emergency-700 text-white p-4 rounded-full transition-all duration-200",children:i.jsx(Os,{className:"w-6 h-6"})}),a&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:w,className:"bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full transition-all duration-200",children:s?i.jsx(Td,{className:"w-6 h-6"}):i.jsx(qi,{className:"w-6 h-6"})}),e&&i.jsx("button",{onClick:p,disabled:c,className:"bg-safe-600 hover:bg-safe-700 text-white p-4 rounded-full transition-all duration-200 disabled:opacity-50",children:i.jsx(m0,{className:"w-6 h-6"})})]})]}),a&&i.jsx("audio",{ref:d,src:a,onEnded:()=>o(!1),className:"w-full",controls:!0}),r&&i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-emergency-600 font-medium",children:"Recording in progress..."}),i.jsx("div",{className:"w-4 h-4 bg-emergency-500 rounded-full mx-auto mt-2 animate-pulse"})]})]})]})},hk=({incidentId:e,onRecordingComplete:t})=>{const[r,n]=v.useState(!1),[s,o]=v.useState(!1),[a,l]=v.useState(null),[c,u]=v.useState(!1),[f,d]=v.useState(!1),h=v.useRef(null),g=v.useRef(null),m=v.useRef(null),y=v.useRef([]),w=v.useRef(null),{toast:p}=te(),x=async()=>{try{const _=await navigator.mediaDevices.getUserMedia({video:{width:1280,height:720},audio:!0});w.current=_,m.current&&(m.current.srcObject=_,d(!0));const S=new MediaRecorder(_);h.current=S,y.current=[],S.ondataavailable=k=>{k.data.size>0&&y.current.push(k.data)},S.onstop=()=>{const k=new Blob(y.current,{type:"video/webm"}),I=URL.createObjectURL(k);l(I),d(!1),w.current&&w.current.getTracks().forEach(L=>L.stop())},S.start(),n(!0),p({title:"Video Recording Started",description:"Video recording is now active."})}catch{p({title:"Recording Error",description:"Unable to access camera. Please check permissions.",variant:"destructive"})}},b=()=>{h.current&&r&&(h.current.stop(),n(!1),p({title:"Video Recording Stopped",description:"Video recording has been saved."}))},j=()=>{a&&g.current&&(s?(g.current.pause(),o(!1)):(g.current.play(),o(!0)))},N=async()=>{var _;if(!(!a||!e)){u(!0);try{const S=new Blob(y.current,{type:"video/webm"}),k=`${Date.now()}_video.webm`,{data:I}=await P.auth.getUser();if(!I.user)throw new Error("Not authenticated");const L=`${I.user.id}/${k}`,{error:q}=await P.storage.from("recordings").upload(L,S);if(q)throw q;const{error:U}=await P.from("recordings").insert({incident_id:e,user_id:I.user.id,file_path:L,file_type:"video",file_size:S.size,duration_seconds:Math.round(((_=g.current)==null?void 0:_.duration)||0)});if(U)throw U;p({title:"Video Uploaded",description:"Video evidence has been saved securely."}),t&&t({type:"video",path:L})}catch(S){p({title:"Upload Failed",description:S.message,variant:"destructive"})}finally{u(!1)}}};return i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Video Recording"}),i.jsxs("div",{className:"space-y-4",children:[f&&i.jsx("video",{ref:m,autoPlay:!0,muted:!0,className:"w-full rounded-lg bg-black",style:{maxHeight:"300px"}}),a&&!f&&i.jsx("video",{ref:g,src:a,onEnded:()=>o(!1),className:"w-full rounded-lg",style:{maxHeight:"300px"},controls:!0}),i.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[r?i.jsx("button",{onClick:b,className:"bg-gray-600 hover:bg-gray-700 text-white p-4 rounded-full transition-all duration-200 animate-pulse",children:i.jsx(f0,{className:"w-6 h-6"})}):i.jsx("button",{onClick:x,className:"bg-emergency-600 hover:bg-emergency-700 text-white p-4 rounded-full transition-all duration-200",children:i.jsx(no,{className:"w-6 h-6"})}),a&&!f&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:j,className:"bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full transition-all duration-200",children:s?i.jsx(Td,{className:"w-6 h-6"}):i.jsx(qi,{className:"w-6 h-6"})}),e&&i.jsx("button",{onClick:N,disabled:c,className:"bg-safe-600 hover:bg-safe-700 text-white p-4 rounded-full transition-all duration-200 disabled:opacity-50",children:i.jsx(m0,{className:"w-6 h-6"})})]})]}),r&&i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-emergency-600 font-medium",children:"Recording video..."}),i.jsxs("div",{className:"flex items-center justify-center space-x-1 mt-2",children:[i.jsx("div",{className:"w-2 h-2 bg-emergency-500 rounded-full animate-pulse"}),i.jsx("div",{className:"w-2 h-2 bg-emergency-500 rounded-full animate-pulse delay-100"}),i.jsx("div",{className:"w-2 h-2 bg-emergency-500 rounded-full animate-pulse delay-200"})]})]})]})]})},fk=({incidentId:e,onRecordingComplete:t})=>{const[r,n]=v.useState("audio"),s=[{id:"audio",label:"Audio",icon:Os},{id:"video",label:"Video",icon:no}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(qe,{className:"w-6 h-6 text-emergency-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Evidence Recording"})]}),i.jsx("div",{className:"flex space-x-2 mb-6",children:s.map(o=>{const a=o.icon;return i.jsxs("button",{onClick:()=>n(o.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-200 ${r===o.id?"bg-emergency-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(a,{className:"w-4 h-4"}),i.jsx("span",{children:o.label})]},o.id)})}),r==="audio"&&i.jsx(dk,{incidentId:e,onRecordingComplete:t}),r==="video"&&i.jsx(hk,{incidentId:e,onRecordingComplete:t})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Evidence Collection Tips"}),i.jsxs("ul",{className:"text-blue-800 text-sm space-y-1",children:[i.jsx("li",{children:"• Record clear audio/video evidence of the situation"}),i.jsx("li",{children:"• Speak clearly and describe what you're seeing"}),i.jsx("li",{children:"• Keep recordings focused and relevant to the incident"}),i.jsx("li",{children:"• All recordings are encrypted and stored securely"})]})]})]})},mk=()=>{const[e,t]=v.useState(""),[r,n]=v.useState(""),[s,o]=v.useState(""),[a,l]=v.useState({lat:null,lng:null}),[c,u]=v.useState(""),[f,d]=v.useState(!1),[h,g]=v.useState(1),[m,y]=v.useState([]),[w,p]=v.useState([]),[x,b]=v.useState(!1),[j,N]=v.useState(!1),{toast:_}=te(),S=["harassment","theft","violence","suspicious_activity","vandalism","domestic_violence","sexual_assault","stalking","drug_activity","other"],k={1:"Low",2:"Moderate",3:"High",4:"Severe",5:"Critical"};v.useEffect(()=>{I()},[]);const I=()=>{N(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(A=>{l({lat:A.coords.latitude,lng:A.coords.longitude}),N(!1),_({title:"Location captured",description:"Your current location has been tagged to this report."})},A=>{console.error("Error getting location:",A),N(!1),_({title:"Location unavailable",description:"Unable to get your current location. You can manually enter location details.",variant:"destructive"})}):(N(!1),_({title:"Geolocation not supported",description:"Your browser doesn't support geolocation.",variant:"destructive"}))},L=A=>{const F=Array.from(A.target.files);p(V=>[...V,...F]),_({title:"Media attached",description:`${F.length} file(s) added to your report.`})},q=A=>{p(F=>F.filter((V,E)=>E!==A))},U=A=>{m.includes(A)||y(F=>[...F,A])},W=A=>{y(F=>F.filter(V=>V!==A))},M=async A=>{var F;A.preventDefault(),b(!0);try{const{data:V}=await P.auth.getUser(),E={title:e,incident_type:r,description:s,location_lat:a.lat,location_lng:a.lng,location_description:c,is_anonymous:f,severity_level:h,tags:m,media_files:w.map(z=>({name:z.name,size:z.size,type:z.type})),user_id:f?null:(F=V.user)==null?void 0:F.id},{error:R}=await P.from("incident_reports").insert(E);if(R)throw R;_({title:"Report submitted successfully",description:"Your incident report has been submitted and will be reviewed by authorities."}),t(""),n(""),o(""),u(""),d(!1),g(1),y([]),p([])}catch(V){console.error("Error submitting report:",V),_({title:"Error submitting report",description:V.message,variant:"destructive"})}finally{b(!1)}};return i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(qe,{className:"w-6 h-6 text-emergency-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Report an Incident"})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"How to Report"}),i.jsx("p",{className:"text-blue-800 text-sm",children:"Fill out this form to report safety incidents in your area. Your report helps keep the community safe and informed."})]}),i.jsxs("form",{onSubmit:M,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Incident Title *"}),i.jsx("input",{type:"text",value:e,onChange:A=>t(A.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emergency-500 focus:border-emergency-500",placeholder:"Brief description of the incident",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Incident Type *"}),i.jsxs("select",{value:r,onChange:A=>n(A.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emergency-500 focus:border-emergency-500",required:!0,children:[i.jsx("option",{value:"",children:"Select incident type"}),S.map(A=>i.jsx("option",{value:A,children:A.replace("_"," ").replace(/\b\w/g,F=>F.toUpperCase())},A))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Severity Level"}),i.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(A=>i.jsxs("button",{type:"button",onClick:()=>g(A),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${h===A?"bg-emergency-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[A," - ",k[A]]},A))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),i.jsx("textarea",{value:s,onChange:A=>o(A.target.value),rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emergency-500 focus:border-emergency-500",placeholder:"Provide detailed information about the incident..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{type:"button",onClick:I,disabled:j,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-medium",children:[i.jsx(Ce,{className:"w-4 h-4"}),i.jsx("span",{children:j?"Getting location...":"Use current location"})]}),a.lat&&a.lng&&i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:i.jsxs("p",{className:"text-green-800 text-sm",children:["Location captured: ",a.lat.toFixed(6),", ",a.lng.toFixed(6)]})}),i.jsx("input",{type:"text",value:c,onChange:A=>u(A.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emergency-500 focus:border-emergency-500",placeholder:"Describe the location (e.g., Near Central Park entrance, 5th Street)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attach Media (Photos, Videos, Audio)"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*,audio/*",onChange:L,className:"hidden",id:"media-upload"}),i.jsx("label",{htmlFor:"media-upload",className:"flex items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-lg p-6 cursor-pointer hover:border-emergency-500 transition-colors",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex justify-center space-x-2 mb-2",children:[i.jsx(Nb,{className:"w-6 h-6 text-gray-400"}),i.jsx(no,{className:"w-6 h-6 text-gray-400"}),i.jsx(Os,{className:"w-6 h-6 text-gray-400"})]}),i.jsx("span",{className:"text-gray-600",children:"Click to upload media files"})]})}),w.length>0&&i.jsx("div",{className:"space-y-2",children:w.map((A,F)=>i.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-3",children:[i.jsx("span",{className:"text-sm text-gray-700",children:A.name}),i.jsx("button",{type:"button",onClick:()=>q(F),className:"text-red-600 hover:text-red-700",children:"Remove"})]},F))})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("input",{type:"checkbox",id:"anonymous",checked:f,onChange:A=>d(A.target.checked),className:"w-4 h-4 text-emergency-600 border-gray-300 rounded focus:ring-emergency-500"}),i.jsxs("label",{htmlFor:"anonymous",className:"flex items-center space-x-2 text-sm text-gray-700",children:[f?i.jsx(p0,{className:"w-4 h-4"}):i.jsx(yr,{className:"w-4 h-4"}),i.jsx("span",{children:"Submit anonymously"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (Optional)"}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:["night_time","well_lit","crowded_area","isolated","public_transport","parking_lot"].map(A=>i.jsx("button",{type:"button",onClick:()=>U(A),className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors",children:A.replace("_"," ")},A))}),m.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(A=>i.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-emergency-100 text-emergency-800 rounded-full text-sm",children:[A.replace("_"," "),i.jsx("button",{type:"button",onClick:()=>W(A),className:"ml-2 text-emergency-600 hover:text-emergency-700",children:"×"})]},A))})]}),i.jsxs("button",{type:"submit",disabled:x||!e||!r,className:"w-full bg-emergency-600 hover:bg-emergency-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 disabled:opacity-50 flex items-center justify-center space-x-2",children:[i.jsx(Jt,{className:"w-4 h-4"}),i.jsx("span",{children:x?"Submitting Report...":"Submit Incident Report"})]})]})]})},pk=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,o]=v.useState("all"),{toast:a}=te();v.useEffect(()=>{l()},[s]);const l=async()=>{try{let d=P.from("incident_reports").select("*").order("reported_at",{ascending:!1});s!=="all"&&(d=d.eq("incident_type",s));const{data:h,error:g}=await d;if(g)throw g;t(h||[])}catch(d){console.error("Error fetching reports:",d),a({title:"Error loading reports",description:d.message,variant:"destructive"})}finally{n(!1)}},c=d=>{const h={1:"bg-green-100 text-green-800",2:"bg-yellow-100 text-yellow-800",3:"bg-orange-100 text-orange-800",4:"bg-red-100 text-red-800",5:"bg-red-200 text-red-900"};return h[d]||h[1]},u=d=>{const h={submitted:"bg-blue-100 text-blue-800",under_review:"bg-yellow-100 text-yellow-800",resolved:"bg-green-100 text-green-800",dismissed:"bg-gray-100 text-gray-800"};return h[d]||h.submitted},f=d=>new Date(d).toLocaleString();return r?i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emergency-600 mx-auto"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Loading reports..."})]})}):i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(qe,{className:"w-6 h-6 text-emergency-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Incident Reports"})]}),i.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-emergency-500 focus:border-emergency-500",children:[i.jsx("option",{value:"all",children:"All Types"}),i.jsx("option",{value:"harassment",children:"Harassment"}),i.jsx("option",{value:"theft",children:"Theft"}),i.jsx("option",{value:"violence",children:"Violence"}),i.jsx("option",{value:"suspicious_activity",children:"Suspicious Activity"}),i.jsx("option",{value:"vandalism",children:"Vandalism"}),i.jsx("option",{value:"other",children:"Other"})]})]}),e.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"No incident reports found."})]}):i.jsx("div",{className:"space-y-4",children:e.map(d=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d.title}),i.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[i.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c(d.severity_level)}`,children:["Severity ",d.severity_level]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u(d.status)}`,children:d.status.replace("_"," ").toUpperCase()}),i.jsx("span",{className:"text-sm text-gray-600 capitalize",children:d.incident_type.replace("_"," ")})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[d.is_anonymous?i.jsx(p0,{className:"w-4 h-4"}):i.jsx(yr,{className:"w-4 h-4"}),i.jsx("span",{children:d.is_anonymous?"Anonymous":"Identified"})]})]}),d.description&&i.jsx("p",{className:"text-gray-700 mb-3",children:d.description}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(ut,{className:"w-4 h-4"}),i.jsx("span",{children:f(d.reported_at)})]}),d.location_lat&&d.location_lng&&i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Ce,{className:"w-4 h-4"}),i.jsx("span",{children:"Location tagged"})]}),d.location_description&&i.jsx("span",{children:d.location_description})]}),d.tags&&d.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1",children:d.tags.map((h,g)=>i.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:h.replace("_"," ")},g))})]}),d.media_files&&d.media_files.length>0&&i.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(tl,{className:"w-4 h-4"}),i.jsxs("span",{children:[d.media_files.length," media file(s) attached"]})]})})]},d.id))})]})},gk=()=>{const[e,t]=v.useState("form");return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx(qe,{className:"w-6 h-6 text-emergency-600"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Incident Reporting"})]}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("button",{onClick:()=>t("form"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${e==="form"?"bg-emergency-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(Br,{className:"w-4 h-4"}),i.jsx("span",{children:"Report Incident"})]}),i.jsxs("button",{onClick:()=>t("list"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${e==="list"?"bg-emergency-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(Pb,{className:"w-4 h-4"}),i.jsx("span",{children:"View Reports"})]})]})]}),e==="form"?i.jsx(mk,{}):i.jsx(pk,{})]})},yk=()=>{const[e,t]=v.useState(""),[r,n]=v.useState(""),[s,o]=v.useState(""),[a,l]=v.useState(!1),[c,u]=v.useState(!1),{toast:f}=te(),d=()=>{var w,p;new Audio().play().catch(()=>{});const m=document.createElement("div");m.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
      z-index: 9999;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: white;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    `,m.innerHTML=`
      <div style="text-align: center; animation: fadeIn 0.3s ease-in;">
        <div style="width: 120px; height: 120px; border-radius: 50%; background: #4CAF50; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center;">
          <svg width="60" height="60" fill="white" viewBox="0 0 24 24">
            <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
          </svg>
        </div>
        <h2 style="font-size: 24px; margin: 0 0 8px 0;">${e||"Emergency Contact"}</h2>
        <p style="font-size: 18px; margin: 0 0 40px 0; opacity: 0.8;">${r||"+1 (555) 123-4567"}</p>
        <div style="display: flex; gap: 20px;">
          <button id="decline-call" style="width: 70px; height: 70px; border-radius: 50%; background: #f44336; border: none; color: white; font-size: 24px; cursor: pointer;">✕</button>
          <button id="accept-call" style="width: 70px; height: 70px; border-radius: 50%; background: #4CAF50; border: none; color: white; font-size: 24px; cursor: pointer;">✓</button>
        </div>
      </div>
    `,document.body.appendChild(m);const y=()=>{document.body.removeChild(m)};(w=m.querySelector("#decline-call"))==null||w.addEventListener("click",y),(p=m.querySelector("#accept-call"))==null||p.addEventListener("click",()=>{y(),f({title:"Fake call ended",description:"The fake call has been successfully completed."})}),setTimeout(y,3e4)},h=async g=>{g.preventDefault(),u(!0);try{const{data:m}=await P.auth.getUser();if(!m.user)throw new Error("Not authenticated");if(a)d(),f({title:"Fake call triggered!",description:"Your fake call is now active."});else{const{error:y}=await P.from("fake_call_schedules").insert({user_id:m.user.id,contact_name:e,contact_number:r,scheduled_time:s?new Date(s).toISOString():null,is_instant:!1});if(y)throw y;f({title:"Fake call scheduled!",description:`Your fake call has been scheduled for ${new Date(s).toLocaleString()}.`}),t(""),n(""),o("")}}catch(m){f({title:"Error",description:m.message,variant:"destructive"})}finally{u(!1)}};return i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(ht,{className:"w-6 h-6 text-safe-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Fake Call Feature"})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"How Fake Calls Help"}),i.jsx("p",{className:"text-blue-800 text-sm",children:"Fake calls can help you escape uncomfortable or dangerous situations by providing a believable excuse to leave."})]}),i.jsx("div",{className:"flex space-x-4",children:i.jsxs("button",{onClick:()=>{l(!0),d()},className:"flex-1 bg-safe-600 hover:bg-safe-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[i.jsx(ht,{className:"w-4 h-4"}),i.jsx("span",{children:"Instant Fake Call"})]})}),i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name (for display)"}),i.jsx("input",{type:"text",value:e,onChange:g=>t(g.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-safe-500 focus:border-safe-500",placeholder:"Mom, Boss, Friend...",required:!a})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number (for display)"}),i.jsx("input",{type:"tel",value:r,onChange:g=>n(g.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-safe-500 focus:border-safe-500",placeholder:"+1 (555) 123-4567",required:!a})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Schedule Time (optional)"}),i.jsx("input",{type:"datetime-local",value:s,onChange:g=>o(g.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-safe-500 focus:border-safe-500",min:new Date().toISOString().slice(0,16)})]}),i.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-safe-600 hover:bg-safe-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 disabled:opacity-50 flex items-center justify-center space-x-2",children:[i.jsx(Ed,{className:"w-4 h-4"}),i.jsx("span",{children:c?"Scheduling...":"Schedule Fake Call"})]})]})]})},xk=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,o]=v.useState(!1),[a,l]=v.useState({name:"",description:"",center_lat:0,center_lng:0,radius_meters:500,zone_type:"safe"}),{toast:c}=te();v.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:m,error:y}=await P.from("safe_zones").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(y)throw y;t(m||[])}catch{c({title:"Error",description:"Failed to load safe zones",variant:"destructive"})}finally{n(!1)}},f=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(m=>{l(y=>({...y,center_lat:m.coords.latitude,center_lng:m.coords.longitude})),c({title:"Location captured",description:"Your current location has been set for the safe zone."})},m=>{c({title:"Location Error",description:"Unable to get your current location.",variant:"destructive"})})},d=async m=>{m.preventDefault();try{const{data:y}=await P.auth.getUser();if(!y.user)throw new Error("Not authenticated");const{error:w}=await P.from("safe_zones").insert({...a,created_by:y.user.id});if(w)throw w;c({title:"Safe zone added!",description:"The safe zone has been created successfully."}),o(!1),l({name:"",description:"",center_lat:0,center_lng:0,radius_meters:500,zone_type:"safe"}),u()}catch(y){c({title:"Error",description:y.message,variant:"destructive"})}},h=m=>{switch(m){case"safe":return i.jsx(pe,{className:"w-5 h-5 text-safe-600"});case"unsafe":return i.jsx(Jt,{className:"w-5 h-5 text-emergency-600"});case"under_investigation":return i.jsx(Ls,{className:"w-5 h-5 text-warning-600"});default:return i.jsx(Ce,{className:"w-5 h-5 text-gray-600"})}},g=m=>{switch(m){case"safe":return"border-safe-200 bg-safe-50";case"unsafe":return"border-emergency-200 bg-emergency-50";case"under_investigation":return"border-warning-200 bg-warning-50";default:return"border-gray-200 bg-gray-50"}};return r?i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})}):i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Ce,{className:"w-6 h-6 text-safe-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Safe Zones"})]}),i.jsxs("button",{onClick:()=>o(!s),className:"bg-safe-600 hover:bg-safe-700 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200 flex items-center space-x-2",children:[i.jsx(Br,{className:"w-4 h-4"}),i.jsx("span",{children:"Add Zone"})]})]}),s&&i.jsxs("form",{onSubmit:d,className:"bg-gray-50 rounded-lg p-4 mb-6 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zone Name"}),i.jsx("input",{type:"text",value:a.name,onChange:m=>l(y=>({...y,name:m.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-safe-500 focus:border-safe-500",placeholder:"Home, Office, School...",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zone Type"}),i.jsxs("select",{value:a.zone_type,onChange:m=>l(y=>({...y,zone_type:m.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-safe-500 focus:border-safe-500",children:[i.jsx("option",{value:"safe",children:"Safe Zone"}),i.jsx("option",{value:"unsafe",children:"Unsafe Zone"}),i.jsx("option",{value:"under_investigation",children:"Under Investigation"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{value:a.description,onChange:m=>l(y=>({...y,description:m.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-safe-500 focus:border-safe-500",placeholder:"Optional description...",rows:2})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitude"}),i.jsx("input",{type:"number",step:"any",value:a.center_lat,onChange:m=>l(y=>({...y,center_lat:parseFloat(m.target.value)})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-safe-500 focus:border-safe-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitude"}),i.jsx("input",{type:"number",step:"any",value:a.center_lng,onChange:m=>l(y=>({...y,center_lng:parseFloat(m.target.value)})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-safe-500 focus:border-safe-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Radius (meters)"}),i.jsx("input",{type:"number",value:a.radius_meters,onChange:m=>l(y=>({...y,radius_meters:parseInt(m.target.value)})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-safe-500 focus:border-safe-500",min:"50",max:"5000",required:!0})]})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{type:"button",onClick:f,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200",children:"Use Current Location"}),i.jsx("button",{type:"submit",className:"bg-safe-600 hover:bg-safe-700 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200",children:"Create Zone"}),i.jsx("button",{type:"button",onClick:()=>o(!1),className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200",children:"Cancel"})]})]}),i.jsx("div",{className:"space-y-3",children:e.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Ce,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{children:"No safe zones configured yet."}),i.jsx("p",{className:"text-sm",children:"Add your first safe zone to get started!"})]}):e.map(m=>i.jsx("div",{className:`border-2 rounded-lg p-4 ${g(m.zone_type)}`,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[h(m.zone_type),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:m.name}),m.description&&i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description}),i.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[i.jsxs("span",{children:["Radius: ",m.radius_meters,"m"]})," •",i.jsxs("span",{className:"ml-1",children:[m.center_lat.toFixed(4),", ",m.center_lng.toFixed(4)]})]})]})]}),i.jsx("button",{onClick:()=>{const y=`https://maps.google.com/?q=${m.center_lat},${m.center_lng}`;window.open(y,"_blank")},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View on Map"})]})},m.id))})]})})},vk=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),{toast:s}=te();v.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:u,error:f}=await P.from("safe_zones").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(f)throw f;const d=(u==null?void 0:u.map(h=>({...h,zone_type:h.zone_type})))||[];t(d)}catch{s({title:"Error",description:"Failed to load safe zones.",variant:"destructive"})}finally{n(!1)}},a=u=>u==="safe"?pe:Jt,l=u=>u==="safe"?"text-safe-600":"text-emergency-600",c=u=>u==="safe"?"bg-safe-50 border-safe-200":"bg-emergency-50 border-emergency-200";return r?i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-16 bg-gray-200 rounded"}),i.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(pe,{className:"w-6 h-6 text-safe-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Safe & Unsafe Zones"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-safe-50 border border-safe-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(pe,{className:"w-5 h-5 text-safe-600"}),i.jsx("h3",{className:"font-medium text-safe-900",children:"Safe Zones"})]}),i.jsx("p",{className:"text-safe-700 text-sm",children:"Areas designated as safe with security presence or emergency services nearby."})]}),i.jsxs("div",{className:"bg-emergency-50 border border-emergency-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(Jt,{className:"w-5 h-5 text-emergency-600"}),i.jsx("h3",{className:"font-medium text-emergency-900",children:"Unsafe Zones"})]}),i.jsx("p",{className:"text-emergency-700 text-sm",children:"Areas with reported incidents or safety concerns. Exercise caution when nearby."})]})]}),i.jsxs("div",{className:"space-y-4",children:[e.map(u=>{const f=a(u.zone_type);return i.jsx("div",{className:`border rounded-lg p-4 ${c(u.zone_type)}`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(f,{className:`w-6 h-6 ${l(u.zone_type)} mt-1`}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:u.name}),u.description&&i.jsx("p",{className:"text-gray-700 text-sm mb-3",children:u.description}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Location:"}),i.jsxs("div",{children:[u.center_lat.toFixed(4),", ",u.center_lng.toFixed(4)]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Radius:"}),i.jsxs("div",{children:[u.radius_meters,"m"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Type:"}),i.jsxs("div",{className:"capitalize",children:[u.zone_type," Zone"]})]})]})]}),i.jsx("button",{onClick:()=>{const d=`https://www.google.com/maps?q=${u.center_lat},${u.center_lng}`;window.open(d,"_blank")},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-all duration-200",children:i.jsx(Ce,{className:"w-4 h-4"})})]})},u.id)}),e.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(pe,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-600",children:"No safe zones have been created in your area yet."}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Government administrators manage zone creation and updates."})]})]})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(Tb,{className:"w-5 h-5 text-blue-600"}),i.jsx("h4",{className:"font-medium text-blue-900",children:"Zone Information"})]}),i.jsx("p",{className:"text-blue-800 text-sm",children:"Safe and unsafe zones are maintained by government administrators based on current safety data, incident reports, and field assessments. Zones are regularly updated to ensure accuracy."})]})]})},wk=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,o]=v.useState(""),{toast:a}=te();v.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:d,error:h}=await P.from("recordings").select(`
          id,
          file_path,
          file_type,
          file_size,
          duration_seconds,
          recorded_at,
          incident_id,
          user_id
        `).order("recorded_at",{ascending:!1});if(h)throw h;const g=[...new Set((d==null?void 0:d.map(p=>p.user_id))||[])],{data:m}=await P.from("profiles").select("id, full_name, phone_number").in("id",g),y=(m==null?void 0:m.reduce((p,x)=>(p[x.id]=x,p),{}))||{},w=(d==null?void 0:d.map(p=>({...p,file_type:p.file_type,user_profile:y[p.user_id]||{full_name:"Unknown User",phone_number:"Not provided"}})))||[];t(w)}catch{a({title:"Error",description:"Failed to load user recordings.",variant:"destructive"})}finally{n(!1)}},c=e.filter(d=>{var h,g,m,y;return!s||((g=(h=d.user_profile)==null?void 0:h.full_name)==null?void 0:g.toLowerCase().includes(s.toLowerCase()))||((y=(m=d.user_profile)==null?void 0:m.phone_number)==null?void 0:y.includes(s))}),u=d=>`${(d/1048576).toFixed(2)} MB`,f=d=>{const h=Math.floor(d/60),g=d%60;return`${h}:${g.toString().padStart(2,"0")}`};return r?i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-16 bg-gray-200 rounded"}),i.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(qe,{className:"w-6 h-6 text-emergency-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"User Recordings"})]}),i.jsx("div",{className:"mb-4",children:i.jsx("input",{type:"text",placeholder:"Search by user name or phone...",value:s,onChange:d=>o(d.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emergency-500 focus:border-emergency-500"})}),i.jsxs("div",{className:"space-y-4",children:[c.map(d=>{var h,g;return i.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-200",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("div",{className:`p-2 rounded-lg ${d.file_type==="audio"?"bg-blue-100":"bg-purple-100"}`,children:d.file_type==="audio"?i.jsx(qe,{className:"w-4 h-4 text-blue-600"}):i.jsx(qi,{className:"w-4 h-4 text-purple-600"})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-medium text-gray-900 capitalize",children:[d.file_type," Recording"]}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(yr,{className:"w-4 h-4"}),i.jsx("span",{children:((h=d.user_profile)==null?void 0:h.full_name)||"Unknown User"})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Ed,{className:"w-4 h-4"}),i.jsx("span",{children:new Date(d.recorded_at).toLocaleDateString()})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600 mt-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Duration:"}),i.jsx("div",{children:d.duration_seconds?f(d.duration_seconds):"Unknown"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Size:"}),i.jsx("div",{children:d.file_size?u(d.file_size):"Unknown"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Phone:"}),i.jsx("div",{children:((g=d.user_profile)==null?void 0:g.phone_number)||"Not provided"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Incident ID:"}),i.jsxs("div",{className:"font-mono text-xs",children:[d.incident_id.slice(0,8),"..."]})]})]})]}),i.jsx("div",{className:"flex space-x-2",children:i.jsx("button",{onClick:()=>{a({title:"Access Request",description:"Recording access logged for review."})},className:"bg-emergency-600 hover:bg-emergency-700 text-white px-3 py-1 rounded text-sm transition-all duration-200",children:"Request Access"})})]})},d.id)}),c.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-600",children:s?"No recordings found for this search.":"No user recordings available."})]})]})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(pe,{className:"w-5 h-5 text-blue-600"}),i.jsx("h4",{className:"font-medium text-blue-900",children:"Privacy & Access Policy"})]}),i.jsx("p",{className:"text-blue-800 text-sm",children:"All user recordings are protected. Access requests are logged and subject to review. Only access recordings when necessary for emergency response or investigation purposes."})]})]})},bk=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,o]=v.useState(""),{toast:a}=te();v.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:f,error:d}=await P.from("emergency_contacts").select(`
          id,
          name,
          phone,
          email,
          relationship,
          priority,
          user_id,
          created_at
        `).order("created_at",{ascending:!1});if(d)throw d;const h=[...new Set((f==null?void 0:f.map(w=>w.user_id))||[])],{data:g}=await P.from("profiles").select("id, full_name, phone_number").in("id",h),m=(g==null?void 0:g.reduce((w,p)=>(w[p.id]=p,w),{}))||{},y=(f==null?void 0:f.map(w=>({...w,user_profile:m[w.user_id]||{full_name:"Unknown User",phone_number:"Not provided"}})))||[];t(y)}catch{a({title:"Error",description:"Failed to load user emergency contacts.",variant:"destructive"})}finally{n(!1)}},u=e.filter(f=>{var d,h,g,m;return!s||((h=(d=f.user_profile)==null?void 0:d.full_name)==null?void 0:h.toLowerCase().includes(s.toLowerCase()))||((m=(g=f.user_profile)==null?void 0:g.phone_number)==null?void 0:m.includes(s))}).reduce((f,d)=>{const h=d.user_id;return f[h]||(f[h]={user:d.user_profile,contacts:[]}),f[h].contacts.push(d),f},{});return r?i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-20 bg-gray-200 rounded"}),i.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(Xe,{className:"w-6 h-6 text-safe-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"User Emergency Contacts"})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(Ls,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",placeholder:"Search by user name or phone...",value:s,onChange:f=>o(f.target.value),className:"w-full pl-10 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-safe-500 focus:border-safe-500"})]})}),i.jsxs("div",{className:"space-y-6",children:[Object.entries(u).map(([f,{user:d,contacts:h}])=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsxs("div",{className:"mb-4 pb-3 border-b border-gray-100",children:[i.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:(d==null?void 0:d.full_name)||"Unknown User"}),i.jsxs("p",{className:"text-gray-600 text-sm",children:["User Phone: ",(d==null?void 0:d.phone_number)||"Not provided"]}),i.jsxs("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full mt-1",children:[h.length," emergency contact",h.length!==1?"s":""]})]}),i.jsx("div",{className:"grid gap-3",children:h.sort((g,m)=>g.priority-m.priority).map(g=>i.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:g.name}),g.relationship&&i.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:g.relationship}),i.jsxs("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:["Priority ",g.priority]})]}),i.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ht,{className:"w-4 h-4"}),i.jsx("span",{children:g.phone})]}),g.email&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Cd,{className:"w-4 h-4"}),i.jsx("span",{children:g.email})]})]})]}),i.jsx("button",{onClick:()=>{a({title:"Contact Access",description:"Emergency contact access logged for review."})},className:"bg-safe-600 hover:bg-safe-700 text-white px-3 py-1 rounded text-sm transition-all duration-200",children:"Emergency Use"})]})},g.id))})]},f)),Object.keys(u).length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Xe,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-600",children:s?"No users found for this search.":"No user emergency contacts available."})]})]})]}),i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(pe,{className:"w-5 h-5 text-yellow-600"}),i.jsx("h4",{className:"font-medium text-yellow-900",children:"Emergency Access Policy"})]}),i.jsx("p",{className:"text-yellow-800 text-sm",children:"Emergency contacts should only be accessed during active emergency situations or for verification purposes. All access is logged and monitored for compliance."})]})]})},jk=()=>{var n;const[e,t]=v.useState("recordings"),r=[{id:"recordings",label:"User Media",icon:qe,description:"Access user recordings and media files"},{id:"contacts",label:"Emergency Contacts",icon:Xe,description:"View user emergency contact information"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(Ls,{className:"w-8 h-8 text-blue-600"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Information"}),i.jsx("p",{className:"text-gray-600",children:"Consolidated view of user data for moderation and support"})]})]}),i.jsx("div",{className:"flex space-x-4 mb-6",children:r.map(s=>{const o=s.icon;return i.jsxs("button",{onClick:()=>t(s.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${e===s.id?"bg-blue-100 text-blue-700 border-2 border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(o,{className:"w-4 h-4"}),i.jsx("span",{children:s.label})]},s.id)})}),i.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:i.jsx("p",{className:"text-blue-700",children:(n=r.find(s=>s.id===e))==null?void 0:n.description})})]}),i.jsx("div",{children:e==="recordings"?i.jsx(wk,{}):i.jsx(bk,{})})]})},Nk=()=>{const[e,t]=v.useState("zone-request"),[r,n]=v.useState({location:"",reason:"",zoneType:"safe",urgency:"medium",center_lat:"",center_lng:"",radius_meters:"500"}),[s,o]=v.useState({title:"",description:"",urgency:"medium",dataType:"user_locations",timeframe:"30_days",modificationType:"view"}),{toast:a}=te(),{user:l}=rt(),{profile:c}=er(l),u=(c==null?void 0:c.role)||"user",f=async h=>{h.preventDefault(),console.log("Zone Request:",{...r,requestedBy:l==null?void 0:l.id,requestedAt:new Date().toISOString()}),a({title:"Zone Request Submitted",description:"Your request has been sent to Government Officials for review."}),n({location:"",reason:"",zoneType:"safe",urgency:"medium",center_lat:"",center_lng:"",radius_meters:"500"})},d=async h=>{h.preventDefault(),console.log("Data Modification Request:",{...s,requestedBy:l==null?void 0:l.id,requestedAt:new Date().toISOString()}),a({title:"Data Modification Request Submitted",description:"Your request has been sent to Government Officials for approval."}),o({title:"",description:"",urgency:"medium",dataType:"user_locations",timeframe:"30_days",modificationType:"view"})};return u!=="admin"?i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[i.jsx(Rs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Access Restricted"}),i.jsx("p",{className:"text-gray-600",children:"Only administrators can access request features."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Admin Requests"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Submit requests to Government Officials for zone modifications and data access approvals."}),i.jsxs("div",{className:"flex space-x-4 mb-6",children:[i.jsxs("button",{onClick:()=>t("zone-request"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${e==="zone-request"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(Ce,{className:"w-4 h-4"}),i.jsx("span",{children:"Zone Requests"})]}),i.jsxs("button",{onClick:()=>t("data-modification"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${e==="data-modification"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(au,{className:"w-4 h-4"}),i.jsx("span",{children:"Data Modification Access"})]})]}),e==="zone-request"&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Request Zone Creation/Modification"}),i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location/Area Name"}),i.jsx("input",{type:"text",value:r.location,onChange:h=>n({...r,location:h.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Main Street Park, Downtown District",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitude"}),i.jsx("input",{type:"number",step:"any",value:r.center_lat,onChange:h=>n({...r,center_lat:h.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 40.7128",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitude"}),i.jsx("input",{type:"number",step:"any",value:r.center_lng,onChange:h=>n({...r,center_lng:h.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., -74.0060",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Radius (meters)"}),i.jsx("input",{type:"number",value:r.radius_meters,onChange:h=>n({...r,radius_meters:h.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",min:"100",placeholder:"500",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zone Type"}),i.jsxs("select",{value:r.zoneType,onChange:h=>n({...r,zoneType:h.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"safe",children:"Safe Zone"}),i.jsx("option",{value:"unsafe",children:"Unsafe Zone"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Urgency Level"}),i.jsxs("select",{value:r.urgency,onChange:h=>n({...r,urgency:h.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"low",children:"Low - Routine Update"}),i.jsx("option",{value:"medium",children:"Medium - Important Change"}),i.jsx("option",{value:"high",children:"High - Safety Concern"}),i.jsx("option",{value:"urgent",children:"Urgent - Immediate Action Needed"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason/Justification"}),i.jsx("textarea",{value:r.reason,onChange:h=>n({...r,reason:h.target.value}),rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Provide detailed reasoning for this zone request...",required:!0})]}),i.jsxs("button",{type:"submit",className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium",children:[i.jsx(Sa,{className:"w-4 h-4"}),i.jsx("span",{children:"Submit Zone Request"})]})]})]}),e==="data-modification"&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-4",children:"Request Data Modification Access"}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Request Title"}),i.jsx("input",{type:"text",value:s.title,onChange:h=>o({...s,title:h.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., User Data Review for Safety Analysis",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Type"}),i.jsxs("select",{value:s.dataType,onChange:h=>o({...s,dataType:h.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[i.jsx("option",{value:"user_locations",children:"User Location Data"}),i.jsx("option",{value:"incident_reports",children:"Incident Reports"}),i.jsx("option",{value:"emergency_incidents",children:"Emergency Incidents"}),i.jsx("option",{value:"recordings",children:"Audio/Video Recordings"}),i.jsx("option",{value:"aggregated_stats",children:"Aggregated Statistics"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modification Type"}),i.jsxs("select",{value:s.modificationType,onChange:h=>o({...s,modificationType:h.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[i.jsx("option",{value:"view",children:"View Only"}),i.jsx("option",{value:"edit",children:"Edit/Modify"}),i.jsx("option",{value:"delete",children:"Delete"}),i.jsx("option",{value:"export",children:"Export Data"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeframe"}),i.jsxs("select",{value:s.timeframe,onChange:h=>o({...s,timeframe:h.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[i.jsx("option",{value:"7_days",children:"Last 7 days"}),i.jsx("option",{value:"30_days",children:"Last 30 days"}),i.jsx("option",{value:"90_days",children:"Last 90 days"}),i.jsx("option",{value:"6_months",children:"Last 6 months"}),i.jsx("option",{value:"1_year",children:"Last year"}),i.jsx("option",{value:"all_time",children:"All time"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Urgency Level"}),i.jsxs("select",{value:s.urgency,onChange:h=>o({...s,urgency:h.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[i.jsx("option",{value:"low",children:"Low - Research/Analysis"}),i.jsx("option",{value:"medium",children:"Medium - Operational Need"}),i.jsx("option",{value:"high",children:"High - Safety Critical"}),i.jsx("option",{value:"urgent",children:"Urgent - Emergency Response"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purpose & Justification"}),i.jsx("textarea",{value:s.description,onChange:h=>o({...s,description:h.target.value}),rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Explain why you need access to modify this data, how it will be used, and what safety benefits it will provide...",required:!0})]}),i.jsxs("button",{type:"submit",className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium",children:[i.jsx(Sa,{className:"w-4 h-4"}),i.jsx("span",{children:"Submit Data Modification Request"})]})]})]})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(Rs,{className:"w-5 h-5 text-red-600"}),i.jsx("h4",{className:"font-medium text-red-900",children:"Important Notice"})]}),i.jsx("p",{className:"text-red-800 text-sm",children:"All requests are logged and require Government Official authorization. Data modification requests will be reviewed based on privacy requirements, safety needs, and compliance standards."})]})]})},_k=()=>{const[e,t]=v.useState("zone-requests"),[r,n]=v.useState([]),[s,o]=v.useState([]),[a,l]=v.useState(!0),{toast:c}=te(),{user:u}=rt(),{profile:f}=er(u),d=(f==null?void 0:f.role)||"user";v.useEffect(()=>{n([{id:"1",location:"Downtown Safety Zone",reason:"High incident reports in this area require immediate safe zone designation",zoneType:"safe",urgency:"high",center_lat:"40.7128",center_lng:"-74.0060",radius_meters:"500",requestedBy:"admin@safety.org",requestedAt:"2025-06-01T10:30:00Z",status:"pending"},{id:"2",location:"Park Area Warning Zone",reason:"Recent safety concerns reported by multiple users",zoneType:"unsafe",urgency:"medium",center_lat:"40.7589",center_lng:"-73.9851",radius_meters:"300",requestedBy:"admin@safety.org",requestedAt:"2025-06-01T09:15:00Z",status:"pending"}]),o([{id:"1",title:"Safety Analysis for Downtown Area",description:"Need access to user location data to analyze safety patterns and improve emergency response times in the downtown district.",urgency:"high",dataType:"user_locations",timeframe:"30_days",requestedBy:"admin@safety.org",requestedAt:"2025-06-01T11:00:00Z",status:"pending"},{id:"2",title:"Incident Pattern Research",description:"Research project to identify common incident patterns for prevention strategies.",urgency:"medium",dataType:"incident_reports",timeframe:"90_days",requestedBy:"admin@safety.org",requestedAt:"2025-06-01T08:30:00Z",status:"pending"}]),l(!1)},[]);const h=async(m,y)=>{const w=r.find(p=>p.id===m);if(w)try{if(y==="approve"){const{error:p}=await P.from("safe_zones").insert({name:w.location,description:w.reason,center_lat:parseFloat(w.center_lat),center_lng:parseFloat(w.center_lng),radius_meters:parseInt(w.radius_meters),zone_type:w.zoneType,created_by:u==null?void 0:u.id,is_active:!0});if(p)throw p;c({title:"Zone Request Approved",description:`Safe zone "${w.location}" has been created and activated.`})}else c({title:"Zone Request Rejected",description:`Request for "${w.location}" has been rejected.`,variant:"destructive"});n(p=>p.map(x=>x.id===m?{...x,status:y==="approve"?"approved":"rejected"}:x))}catch(p){console.error("Error handling zone request:",p),c({title:"Error",description:"Failed to process request. Please try again.",variant:"destructive"})}},g=async(m,y)=>{try{console.log(`Data request ${m} ${y}ed`),c({title:y==="approve"?"Data Access Approved":"Data Access Denied",description:y==="approve"?"Data access has been granted to the requesting administrator.":"Data access request has been denied.",variant:y==="approve"?"default":"destructive"}),o(w=>w.map(p=>p.id===m?{...p,status:y==="approve"?"approved":"rejected"}:p))}catch(w){console.error("Error handling data request:",w),c({title:"Error",description:"Failed to process request. Please try again.",variant:"destructive"})}};return d!=="govt_admin"?i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[i.jsx(Rs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Access Restricted"}),i.jsx("p",{className:"text-gray-600",children:"Only government officials can access this review system."})]}):a?i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Government Review Dashboard"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Review and approve requests from administrators for zone modifications and data access."}),i.jsxs("div",{className:"flex space-x-4 mb-6",children:[i.jsxs("button",{onClick:()=>t("zone-requests"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${e==="zone-requests"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(Ce,{className:"w-4 h-4"}),i.jsxs("span",{children:["Zone Requests (",r.filter(m=>m.status==="pending").length,")"]})]}),i.jsxs("button",{onClick:()=>t("data-requests"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${e==="data-requests"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(au,{className:"w-4 h-4"}),i.jsxs("span",{children:["Data Requests (",s.filter(m=>m.status==="pending").length,")"]})]})]}),e==="zone-requests"&&i.jsxs("div",{className:"space-y-4",children:[r.map(m=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(pe,{className:`w-6 h-6 ${m.zoneType==="safe"?"text-green-600":"text-red-600"}`}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m.location}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Requested by ",m.requestedBy," • ",new Date(m.requestedAt).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${m.urgency==="high"?"bg-red-100 text-red-700":m.urgency==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:[m.urgency," priority"]}),i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${m.status==="pending"?"bg-blue-100 text-blue-700":m.status==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:m.status})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Zone Type"}),i.jsxs("p",{className:"text-gray-900 capitalize",children:[m.zoneType," Zone"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Coordinates"}),i.jsxs("p",{className:"text-gray-900",children:[m.center_lat,", ",m.center_lng]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Radius"}),i.jsxs("p",{className:"text-gray-900",children:[m.radius_meters," meters"]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Justification"}),i.jsx("p",{className:"text-gray-900 mt-1",children:m.reason})]}),m.status==="pending"&&i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:()=>h(m.id,"approve"),className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium",children:[i.jsx(fr,{className:"w-4 h-4"}),i.jsx("span",{children:"Approve & Create Zone"})]}),i.jsxs("button",{onClick:()=>h(m.id,"reject"),className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium",children:[i.jsx(en,{className:"w-4 h-4"}),i.jsx("span",{children:"Reject"})]})]})]},m.id)),r.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ut,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Zone Requests"}),i.jsx("p",{className:"text-gray-600",children:"All zone requests have been processed."})]})]}),e==="data-requests"&&i.jsxs("div",{className:"space-y-4",children:[s.map(m=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(au,{className:"w-6 h-6 text-blue-600"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m.title}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Requested by ",m.requestedBy," • ",new Date(m.requestedAt).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${m.urgency==="high"?"bg-red-100 text-red-700":m.urgency==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:[m.urgency," priority"]}),i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${m.status==="pending"?"bg-blue-100 text-blue-700":m.status==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:m.status})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data Type"}),i.jsx("p",{className:"text-gray-900 capitalize",children:m.dataType.replace("_"," ")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Timeframe"}),i.jsx("p",{className:"text-gray-900",children:m.timeframe.replace("_"," ")})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Purpose & Justification"}),i.jsx("p",{className:"text-gray-900 mt-1",children:m.description})]}),m.status==="pending"&&i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:()=>g(m.id,"approve"),className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium",children:[i.jsx(fr,{className:"w-4 h-4"}),i.jsx("span",{children:"Grant Access"})]}),i.jsxs("button",{onClick:()=>g(m.id,"reject"),className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium",children:[i.jsx(en,{className:"w-4 h-4"}),i.jsx("span",{children:"Deny Access"})]})]})]},m.id)),s.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ut,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Data Requests"}),i.jsx("p",{className:"text-gray-600",children:"All data access requests have been processed."})]})]})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(Rs,{className:"w-5 h-5 text-blue-600"}),i.jsx("h4",{className:"font-medium text-blue-900",children:"Review Guidelines"})]}),i.jsx("p",{className:"text-blue-800 text-sm",children:"Carefully review each request considering community safety, data privacy, and resource availability. Approved zone requests will immediately create active safe zones. Data access approvals grant temporary access based on the specified timeframe."})]})]})},Sk=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!1),[s,o]=v.useState(""),{toast:a}=te(),{user:l}=rt();v.useEffect(()=>{l&&c()},[l]);const c=async()=>{try{const{data:d,error:h}=await P.from("chat_messages").select("*").eq("user_id",l==null?void 0:l.id).order("created_at",{ascending:!0}).limit(50);if(h)throw h;d&&d.length>0?(t(d),o(d[0].conversation_id||u())):o(u())}catch(d){console.error("Error loading chat history:",d)}},u=()=>`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return{messages:e,isLoading:r,sendMessage:async d=>{if(!d.trim()||!l)return;n(!0);const h={id:`temp_${Date.now()}`,message:d,response:null,created_at:new Date().toISOString(),conversation_id:s};t(g=>[...g,h]);try{const{data:g,error:m}=await P.from("chat_messages").insert({user_id:l.id,message:d,conversation_id:s}).select().single();if(m)throw m;const{data:y,error:w}=await P.functions.invoke("chatbot-support",{body:{message:d,conversation_id:s,user_id:l.id}});if(w)throw new Error("Chatbot service temporarily unavailable. Please try again in a moment.");const p=(y==null?void 0:y.response)||"I apologize, but I encountered an issue processing your request. Please try rephrasing your question.",{error:x}=await P.from("chat_messages").update({response:p}).eq("id",g.id);if(x)throw x;t(b=>b.map(j=>j.id===h.id?{...g,response:p}:j))}catch(g){console.error("Error sending message:",g),t(m=>m.map(y=>y.id===h.id?{...y,response:"I apologize, but I'm experiencing technical difficulties. Please try again in a moment or contact support for assistance."}:y)),a({title:"Connection Issue",description:"There was a problem connecting to the chatbot. Your message has been saved and we'll respond as soon as possible.",variant:"destructive"})}finally{n(!1)}}}},kk=({message:e})=>i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex justify-end",children:i.jsxs("div",{className:"bg-safe-600 text-white rounded-lg px-4 py-2 max-w-[80%]",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx(yr,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"You"})]}),i.jsx("p",{className:"text-sm",children:e.message})]})}),e.response&&i.jsx("div",{className:"flex justify-start",children:i.jsxs("div",{className:"bg-gray-100 rounded-lg px-4 py-2 max-w-[80%]",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx(l0,{className:"w-4 h-4 text-safe-600"}),i.jsx("span",{className:"text-sm font-medium text-safe-600",children:"SafeGuard AI"})]}),i.jsx("p",{className:"text-sm text-gray-700",children:e.response})]})}),!e.response&&e.id.startsWith("temp_")&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"bg-gray-100 rounded-lg px-4 py-2",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(d0,{className:"w-4 h-4 text-safe-600 animate-spin"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Thinking..."})]})})})]}),Ek=({messages:e})=>{const t=v.useRef(null);v.useEffect(()=>{r()},[e]);const r=()=>{var n;(n=t.current)==null||n.scrollIntoView({behavior:"smooth"})};return i.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 mb-4 pr-2",children:[e.length===0&&i.jsxs("div",{className:"text-center text-gray-500 mt-8",children:[i.jsx(l0,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),i.jsx("p",{children:"Hello! I'm your SafeGuard AI assistant. How can I help you today?"})]}),e.map(n=>i.jsx(kk,{message:n},n.id)),i.jsx("div",{ref:t})]})},Ck=({onSendMessage:e,isLoading:t})=>{const[r,n]=v.useState(""),s=()=>{r.trim()&&(e(r.trim()),n(""))},o=a=>{a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),s())};return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"text",value:r,onChange:a=>n(a.target.value),onKeyPress:o,placeholder:"Type your message here...",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-safe-500 focus:border-safe-500",disabled:t}),i.jsx("button",{onClick:s,disabled:!r.trim()||t,className:"bg-safe-600 hover:bg-safe-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg transition-colors",children:t?i.jsx(d0,{className:"w-4 h-4 animate-spin"}):i.jsx(Sa,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Your conversations are saved and encrypted for your privacy and safety."})]})},Tk=()=>{const{messages:e,isLoading:t,sendMessage:r}=Sk();return i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 h-[600px] flex flex-col",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(rl,{className:"w-6 h-6 text-safe-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"SafeGuard AI Assistant"})]}),i.jsx(Ek,{messages:e}),i.jsx(Ck,{onSendMessage:r,isLoading:t})]})},Pk=()=>{const[e,t]=v.useState(""),[r,n]=v.useState("all"),s=[{id:"all",label:"All Resources",icon:pe},{id:"emergency",label:"Emergency Services",icon:ht},{id:"legal",label:"Legal Help",icon:Xe},{id:"medical",label:"Medical Support",icon:As},{id:"counseling",label:"Counseling",icon:As},{id:"shelter",label:"Safe Shelters",icon:pe}],a=[{id:"1",name:"Emergency Services",category:"emergency",phone:"911",description:"Immediate emergency response for police, fire, and medical emergencies",availability:"24/7"},{id:"2",name:"National Suicide Prevention Lifeline",category:"counseling",phone:"988",website:"https://suicidepreventionlifeline.org",description:"Free and confidential emotional support for people in suicidal crisis",availability:"24/7"},{id:"3",name:"National Domestic Violence Hotline",category:"counseling",phone:"1-800-799-7233",website:"https://www.thehotline.org",description:"Confidential support for domestic violence survivors",availability:"24/7"},{id:"4",name:"RAINN National Sexual Assault Hotline",category:"counseling",phone:"1-800-656-4673",website:"https://www.rainn.org",description:"Support for survivors of sexual violence",availability:"24/7"},{id:"5",name:"Legal Aid Society",category:"legal",phone:"1-212-577-3300",website:"https://www.legalaidnyc.org",email:"info@legal-aid.org",description:"Free legal services for low-income individuals",availability:"Mon-Fri 9AM-5PM"},{id:"6",name:"Crisis Text Line",category:"counseling",phone:"Text HOME to 741741",website:"https://www.crisistextline.org",description:"Free, 24/7 support via text message",availability:"24/7"},{id:"7",name:"National Safe Place",category:"shelter",phone:"1-888-290-7233",website:"https://www.nationalsafeplace.org",description:"Immediate help and safety for youth in crisis",availability:"24/7"},{id:"8",name:"Poison Control",category:"medical",phone:"1-800-222-1222",website:"https://www.poison.org",description:"Emergency poison information and treatment advice",availability:"24/7"}].filter(u=>{const f=u.name.toLowerCase().includes(e.toLowerCase())||u.description.toLowerCase().includes(e.toLowerCase()),d=r==="all"||u.category===r;return f&&d}),l=u=>{const f=s.find(d=>d.id===u);return f?f.icon:pe},c=u=>(u.includes("Text")||u==="911"||u==="988",u);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx(pe,{className:"w-6 h-6 text-safe-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Safety Resource Directory"})]}),i.jsx("p",{className:"text-gray-600",children:"Quick access to emergency services, legal help, counseling, and support resources."})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",placeholder:"Search resources...",value:e,onChange:u=>t(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-safe-500 focus:border-transparent"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(u=>{const f=u.icon;return i.jsxs("button",{onClick:()=>n(u.id),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r===u.id?"bg-safe-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(f,{className:"w-4 h-4"}),i.jsx("span",{children:u.label})]},u.id)})})]})}),i.jsx("div",{className:"space-y-4",children:a.length===0?i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[i.jsx(Ls,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No resources found"}),i.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]}):a.map(u=>{const f=l(u.category);return i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"bg-safe-100 p-3 rounded-lg flex-shrink-0",children:i.jsx(f,{className:"w-6 h-6 text-safe-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:u.name}),i.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:u.availability})]}),i.jsx("p",{className:"text-gray-600 mb-4",children:u.description}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ht,{className:"w-4 h-4 text-gray-500"}),i.jsx("a",{href:`tel:${u.phone}`,className:"text-safe-600 hover:text-safe-700 font-medium",children:c(u.phone)})]}),u.email&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Cd,{className:"w-4 h-4 text-gray-500"}),i.jsx("a",{href:`mailto:${u.email}`,className:"text-safe-600 hover:text-safe-700",children:u.email})]}),u.website&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Cb,{className:"w-4 h-4 text-gray-500"}),i.jsx("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-safe-600 hover:text-safe-700",children:"Visit Website"})]}),u.address&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ce,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"text-gray-700",children:u.address})]})]})]})]})},u.id)})}),i.jsxs("div",{className:"bg-emergency-50 border border-emergency-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(ht,{className:"w-5 h-5 text-emergency-600"}),i.jsx("h4",{className:"font-medium text-emergency-900",children:"Emergency Reminder"})]}),i.jsx("p",{className:"text-emergency-700 text-sm",children:"In case of immediate life-threatening emergency, call 911 or your local emergency number directly."})]})]})},Rk=()=>{var w;const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,o]=v.useState("all"),[a,l]=v.useState("week"),{user:c}=rt(),u=[{value:"all",label:"All Activities",icon:ut},{value:"sos",label:"SOS Alerts",icon:Jt},{value:"location",label:"Location Sharing",icon:Ce},{value:"call",label:"Fake Calls",icon:ht},{value:"report",label:"Reports",icon:qe},{value:"recording",label:"Recordings",icon:qe}],f=[{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"all",label:"All Time"}];v.useEffect(()=>{d()},[c]),v.useEffect(()=>{h()},[e,s,a]);const d=()=>{const p=[{id:"1",type:"sos",title:"Emergency Alert Triggered",description:"SOS alert sent to 3 emergency contacts",timestamp:new Date(Date.now()-72e5).toISOString(),location:"Downtown Park, Main St",status:"completed"},{id:"2",type:"location",title:"Location Shared",description:"Real-time location shared with emergency contacts",timestamp:new Date(Date.now()-18e6).toISOString(),location:"Home",status:"completed"},{id:"3",type:"call",title:"Fake Call Scheduled",description:"Emergency exit call scheduled for safety",timestamp:new Date(Date.now()-864e5).toISOString(),status:"completed"},{id:"4",type:"report",title:"Incident Report Submitted",description:"Safety incident reported to authorities",timestamp:new Date(Date.now()-1728e5).toISOString(),location:"University Campus",status:"pending"},{id:"5",type:"recording",title:"Evidence Recording",description:"Audio evidence recorded and saved",timestamp:new Date(Date.now()-2592e5).toISOString(),status:"completed"}];t(p)},h=()=>{let p=e;s!=="all"&&(p=p.filter(_=>_.type===s));const x=new Date,b=new Date(x.getFullYear(),x.getMonth(),x.getDate()),j=new Date(b.getTime()-b.getDay()*24*60*60*1e3),N=new Date(x.getFullYear(),x.getMonth(),1);switch(a){case"today":p=p.filter(_=>new Date(_.timestamp)>=b);break;case"week":p=p.filter(_=>new Date(_.timestamp)>=j);break;case"month":p=p.filter(_=>new Date(_.timestamp)>=N);break}n(p)},g=p=>{const x=u.find(b=>b.value===p);return x?x.icon:ut},m=p=>{switch(p){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=p=>{const x=new Date(p);return new Date().getTime()-x.getTime()<24*60*60*1e3?x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):x.toLocaleDateString()};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx(ut,{className:"w-6 h-6 text-blue-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Activity History"})]}),i.jsx("p",{className:"text-gray-600",children:"Track all your safety activities and system interactions."})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity Type"}),i.jsx("select",{value:s,onChange:p=>o(p.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:u.map(p=>i.jsx("option",{value:p.value,children:p.label},p.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Period"}),i.jsx("select",{value:a,onChange:p=>l(p.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:f.map(p=>i.jsx("option",{value:p.value,children:p.label},p.value))})]})]})}),i.jsx("div",{className:"space-y-4",children:r.length===0?i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[i.jsx(ut,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No activities found"}),i.jsx("p",{className:"text-gray-600",children:s==="all"?"No activities recorded for the selected time period.":`No ${(w=u.find(p=>p.value===s))==null?void 0:w.label.toLowerCase()} found for the selected time period.`})]}):r.map(p=>{const x=g(p.type);return i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"bg-blue-100 p-3 rounded-lg flex-shrink-0",children:i.jsx(x,{className:"w-6 h-6 text-blue-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p.title}),i.jsx("p",{className:"text-gray-600",children:p.description})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-gray-500 mb-1",children:y(p.timestamp)}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(p.status)}`,children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})]})]}),p.location&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[i.jsx(Ce,{className:"w-4 h-4"}),i.jsx("span",{children:p.location})]})]})]})},p.id)})})]})},Ak=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,o]=v.useState("all"),[a,l]=v.useState(""),{user:c}=rt(),{profile:u}=er(c);v.useEffect(()=>{c&&f()},[c,s]);const f=async()=>{try{let g=P.from("activity_logs").select("*").order("created_at",{ascending:!1}).limit(100);(u==null?void 0:u.role)==="user"&&(g=g.eq("user_id",c==null?void 0:c.id)),s!=="all"&&(g=g.eq("action_type",s));const{data:m,error:y}=await g;if(y)throw y;t(m||[])}catch(g){console.error("Error fetching activities:",g)}finally{n(!1)}},d=e.filter(g=>g.description.toLowerCase().includes(a.toLowerCase())||g.action_type.toLowerCase().includes(a.toLowerCase())),h=g=>{switch(g){case"emergency":return"bg-emergency-100 text-emergency-800";case"safety":return"bg-safe-100 text-safe-800";case"admin":return"bg-blue-100 text-blue-800";case"system":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return r?i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-16 bg-gray-200 rounded"}),i.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})}):i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(zi,{className:"w-6 h-6 text-safe-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Activity Log"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Eb,{className:"w-4 h-4 text-gray-500"}),i.jsxs("select",{value:s,onChange:g=>o(g.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-safe-500 focus:border-safe-500",children:[i.jsx("option",{value:"all",children:"All Activities"}),i.jsx("option",{value:"emergency",children:"Emergency"}),i.jsx("option",{value:"safety",children:"Safety"}),i.jsx("option",{value:"admin",children:"Admin"}),i.jsx("option",{value:"system",children:"System"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[i.jsx(Ls,{className:"w-4 h-4 text-gray-500"}),i.jsx("input",{type:"text",placeholder:"Search activities...",value:a,onChange:g=>l(g.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-safe-500 focus:border-safe-500"})]})]}),i.jsxs("div",{className:"space-y-3",children:[d.map(g=>i.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h(g.action_type)}`,children:g.action_type.charAt(0).toUpperCase()+g.action_type.slice(1)}),i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[i.jsx(Ed,{className:"w-4 h-4"}),i.jsx("span",{children:new Date(g.created_at).toLocaleString()})]})]}),i.jsx("p",{className:"text-gray-900 font-medium",children:g.description}),g.metadata&&i.jsx("div",{className:"mt-2 text-sm text-gray-600",children:i.jsxs("details",{className:"cursor-pointer",children:[i.jsx("summary",{children:"View details"}),i.jsx("pre",{className:"mt-2 p-2 bg-gray-50 rounded text-xs overflow-x-auto",children:JSON.stringify(g.metadata,null,2)})]})})]})})},g.id)),d.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(zi,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-600",children:a?"No activities found matching your search.":"No activity logged yet."})]})]})]})},un=()=>{const{user:e}=rt();return{logActivity:async(r,n,s)=>{if(e)try{await P.from("activity_logs").insert({user_id:e.id,action_type:r,description:n,metadata:s})}catch(o){console.error("Error logging activity:",o)}}}},Ok=()=>{const[e,t]=v.useState([{id:"1",type:"emergency",title:"Emergency Alert Triggered",message:"SOS signal was sent to your emergency contacts at 2:30 PM",timestamp:new Date(Date.now()-18e5),location:"Main St & 5th Ave",acknowledged:!0},{id:"2",type:"warning",title:"High Crime Area Detected",message:"You are entering an area with increased safety concerns",timestamp:new Date(Date.now()-72e5),location:"Downtown District"},{id:"3",type:"safe",title:"Safe Zone Entered",message:"You have entered a designated safe zone",timestamp:new Date(Date.now()-144e5),location:"University Campus"}]),r=c=>{t(e.map(u=>u.id===c?{...u,acknowledged:!0}:u))},n=c=>{t(e.filter(u=>u.id!==c))},s=c=>{switch(c){case"emergency":return i.jsx(Jt,{className:"w-6 h-6 text-emergency-600"});case"warning":return i.jsx(Jt,{className:"w-6 h-6 text-warning-600"});case"safe":return i.jsx(fr,{className:"w-6 h-6 text-safe-600"});default:return i.jsx(kn,{className:"w-6 h-6 text-blue-600"})}},o=c=>{switch(c){case"emergency":return"border-emergency-200 bg-emergency-50";case"warning":return"border-warning-200 bg-warning-50";case"safe":return"border-safe-200 bg-safe-50";default:return"border-blue-200 bg-blue-50"}},a=c=>c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),l=e.filter(c=>!c.acknowledged).length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(kn,{className:"w-6 h-6 text-emergency-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Alert Center"}),l>0&&i.jsx("span",{className:"bg-emergency-600 text-white text-xs px-2 py-1 rounded-full",children:l})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:[e.length," total alerts"]})]}),i.jsxs("div",{className:"space-y-4",children:[e.map(c=>i.jsx("div",{className:`border-2 rounded-lg p-4 transition-all duration-200 ${o(c.type)} ${c.acknowledged?"opacity-75":"shadow-md"}`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 mt-1",children:s(c.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-bold text-gray-900 truncate",children:c.title}),!c.acknowledged&&i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>r(c.id),className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-1 rounded-full transition-all duration-200",children:"Acknowledge"}),i.jsx("button",{onClick:()=>n(c.id),className:"text-gray-400 hover:text-gray-600 transition-all duration-200",children:i.jsx(en,{className:"w-4 h-4"})})]})]}),i.jsx("p",{className:"text-gray-700 text-sm mb-3",children:c.message}),i.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(ut,{className:"w-3 h-3"}),i.jsx("span",{children:a(c.timestamp)})]}),c.location&&i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Ce,{className:"w-3 h-3"}),i.jsx("span",{children:c.location})]}),c.acknowledged&&i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(fr,{className:"w-3 h-3 text-safe-500"}),i.jsx("span",{children:"Acknowledged"})]})]})]})]})},c.id)),e.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(kn,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-600",children:"No alerts at this time."}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"You'll see safety alerts and notifications here."})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Alert Settings"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:"Emergency Alerts"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Receive alerts for emergency situations"})]}),i.jsx("div",{className:"w-12 h-6 bg-safe-500 rounded-full relative",children:i.jsx("div",{className:"w-5 h-5 bg-white rounded-full absolute top-0.5 right-0.5 shadow"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:"Location Alerts"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Get notified when entering high-risk areas"})]}),i.jsx("div",{className:"w-12 h-6 bg-safe-500 rounded-full relative",children:i.jsx("div",{className:"w-5 h-5 bg-white rounded-full absolute top-0.5 right-0.5 shadow"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:"Sound Alerts"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Play sounds for important notifications"})]}),i.jsx("div",{className:"w-12 h-6 bg-gray-300 rounded-full relative",children:i.jsx("div",{className:"w-5 h-5 bg-white rounded-full absolute top-0.5 left-0.5 shadow"})})]})]})]})]})},Lk=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),{toast:s}=te(),{user:o}=rt(),{profile:a}=er(o),{logActivity:l}=un();v.useEffect(()=>{o&&(a==null?void 0:a.role)==="admin"&&c()},[o,a]);const c=async()=>{try{const{data:h,error:g}=await P.rpc("get_admin_approvals_list");g?(console.error("Error fetching approvals:",g),t([])):t(h||[])}catch(h){console.error("Error fetching approvals:",h),t([]),s({title:"Error",description:"Failed to load approval requests.",variant:"destructive"})}finally{n(!1)}},u=async(h,g,m)=>{try{const y=e.find(p=>p.id===h);if(!y)return;const{error:w}=await P.rpc("handle_admin_approval",{approval_id:h,action:g,approved_by_id:o==null?void 0:o.id,rejection_reason:m||null});if(w)throw console.error("Error handling approval:",w),w;await l("admin",`${g==="approve"?"Approved":"Rejected"} ${y.requested_role} request for ${y.requested_by_email}`,{approval_id:h,requested_role:y.requested_role,action:g}),s({title:`Request ${g==="approve"?"Approved":"Rejected"}`,description:`The ${y.requested_role} request has been ${g}d successfully.`}),c()}catch(y){console.error("Error handling approval:",y),s({title:"Error",description:`Failed to ${g} request.`,variant:"destructive"})}},f=h=>{switch(h){case"admin":return ka;case"govt_admin":return u0;default:return yr}},d=h=>{switch(h){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return(a==null?void 0:a.role)!=="admin"?i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[i.jsx(en,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Access Restricted"}),i.jsx("p",{className:"text-gray-600",children:"Only admins can manage approval requests."})]}):r?i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-20 bg-gray-200 rounded"}),i.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]})}):i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(ka,{className:"w-6 h-6 text-blue-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Admin Approval Requests"})]}),i.jsxs("div",{className:"space-y-4",children:[e.map(h=>{const g=f(h.requested_role);return i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsx("div",{className:"flex items-start justify-between mb-3",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx(g,{className:"w-5 h-5 text-gray-600"}),i.jsx("h3",{className:"font-semibold text-gray-900",children:h.requested_by_email}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d(h.status)}`,children:h.status.charAt(0).toUpperCase()+h.status.slice(1)})]}),i.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[i.jsxs("p",{children:["Requested Role: ",i.jsx("span",{className:"font-medium",children:h.requested_role.replace("_"," ").toUpperCase()})]}),i.jsxs("p",{children:["Requested: ",new Date(h.created_at).toLocaleString()]}),h.approved_at&&i.jsxs("p",{children:["Processed: ",new Date(h.approved_at).toLocaleString()]}),h.rejection_reason&&i.jsxs("p",{className:"text-red-600",children:["Reason: ",h.rejection_reason]})]})]})}),h.status==="pending"&&i.jsxs("div",{className:"flex space-x-2 pt-3 border-t",children:[i.jsxs("button",{onClick:()=>u(h.id,"approve"),className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm",children:[i.jsx(fr,{className:"w-4 h-4"}),i.jsx("span",{children:"Approve"})]}),i.jsxs("button",{onClick:()=>{const m=prompt("Enter rejection reason (optional):");u(h.id,"reject",m||void 0)},className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm",children:[i.jsx(en,{className:"w-4 h-4"}),i.jsx("span",{children:"Reject"})]})]})]},h.id)}),e.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ut,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-600",children:"No approval requests to review."})]})]})]})},Ik=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,o]=v.useState(!0),[a,l]=v.useState("admin_approvals"),{toast:c}=te(),{user:u}=rt(),{profile:f}=er(u),{logActivity:d}=un();v.useEffect(()=>{u&&f&&h()},[u,f]);const h=async()=>{try{if((f==null?void 0:f.role)==="govt_admin"){const{data:p,error:x}=await P.from("admin_requests").select(`
            *,
            profiles!admin_id (
              full_name
            )
          `).order("created_at",{ascending:!1});if(x)throw x;const b=(p==null?void 0:p.map(j=>({...j,admin_profile:j.profiles})))||[];t(b)}if((f==null?void 0:f.role)==="admin"){const{data:p,error:x}=await P.from("government_requests").select(`
            *,
            profiles!target_user_id (
              full_name
            )
          `).order("created_at",{ascending:!1});if(x)throw x;const b=(p==null?void 0:p.map(j=>({...j,target_user_profile:j.profiles})))||[];n(b)}}catch(p){console.error("Error fetching requests:",p),c({title:"Error",description:"Failed to load requests.",variant:"destructive"})}finally{o(!1)}},g=async(p,x)=>{try{const{error:b}=await P.from("admin_requests").update({status:x==="approve"?"approved":"rejected",reviewed_by:u==null?void 0:u.id,reviewed_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",p);if(b)throw b;await d("admin",`Admin request ${x}d`,{request_id:p,action:x}),c({title:"Request Updated",description:`Request has been ${x}d successfully.`}),h()}catch(b){console.error("Error updating request:",b),c({title:"Error",description:"Failed to update request.",variant:"destructive"})}},m=async(p,x)=>{try{const{error:b}=await P.from("government_requests").update({status:x==="approve"?"approved":"rejected",handled_by:u==null?void 0:u.id,handled_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",p);if(b)throw b;await d("admin",`Government request ${x}d`,{request_id:p,action:x}),c({title:"Request Updated",description:`Request has been ${x}d successfully.`}),h()}catch(b){console.error("Error updating request:",b),c({title:"Error",description:"Failed to update request.",variant:"destructive"})}},y=p=>{switch(p){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},w=p=>{switch(p){case"zone_modification":return"🗺️";case"data_access":return"📊";case"user_data_request":return"👤";default:return"📋"}};return s?i.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-20 bg-gray-200 rounded"}),i.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]})}):(f==null?void 0:f.role)==="user"?i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[i.jsx(Bi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Access Restricted"}),i.jsx("p",{className:"text-gray-600",children:"Only administrators can review requests."})]}):i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx(Bi,{className:"w-6 h-6 text-safe-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Review Requests"})]}),(f==null?void 0:f.role)==="admin"&&i.jsxs("div",{className:"flex space-x-4 mb-6",children:[i.jsx("button",{onClick:()=>l("admin_approvals"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="admin_approvals"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Admin Approvals"}),i.jsxs("button",{onClick:()=>l("govt_requests"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="govt_requests"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Government Requests (",r.filter(p=>p.status==="pending").length,")"]})]}),a==="admin_approvals"&&(f==null?void 0:f.role)==="admin"&&i.jsx(Lk,{}),a==="admin_requests"&&(f==null?void 0:f.role)==="govt_admin"&&i.jsxs("div",{className:"space-y-4",children:[e.map(p=>{var x;return i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsx("div",{className:"flex items-start justify-between mb-3",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("span",{className:"text-lg",children:w(p.request_type)}),i.jsx("h3",{className:"font-semibold text-gray-900",children:p.title}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(p.status)}`,children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})]}),i.jsx("p",{className:"text-gray-600 mb-2",children:p.description}),i.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[i.jsxs("p",{children:["Requested by: ",((x=p.admin_profile)==null?void 0:x.full_name)||"Unknown Admin"]}),i.jsxs("p",{children:["Date: ",new Date(p.created_at).toLocaleDateString()]}),i.jsxs("p",{children:["Type: ",p.request_type.replace("_"," ").toUpperCase()]})]}),p.request_data&&i.jsxs("details",{className:"mt-3",children:[i.jsx("summary",{className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800",children:"View Request Details"}),i.jsx("pre",{className:"mt-2 p-3 bg-gray-50 rounded text-xs overflow-x-auto",children:JSON.stringify(p.request_data,null,2)})]})]})}),p.status==="pending"&&i.jsxs("div",{className:"flex space-x-2 pt-3 border-t",children:[i.jsxs("button",{onClick:()=>g(p.id,"approve"),className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm",children:[i.jsx(fr,{className:"w-4 h-4"}),i.jsx("span",{children:"Approve"})]}),i.jsxs("button",{onClick:()=>g(p.id,"reject"),className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm",children:[i.jsx(en,{className:"w-4 h-4"}),i.jsx("span",{children:"Reject"})]})]})]},p.id)}),e.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ut,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-600",children:"No admin requests to review."})]})]}),a==="govt_requests"&&(f==null?void 0:f.role)==="admin"&&i.jsxs("div",{className:"space-y-4",children:[r.map(p=>{var x;return i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsx("div",{className:"flex items-start justify-between mb-3",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("span",{className:"text-lg",children:w(p.request_type)}),i.jsx("h3",{className:"font-semibold text-gray-900",children:p.title}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(p.status)}`,children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})]}),i.jsx("p",{className:"text-gray-600 mb-2",children:p.description}),i.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[i.jsx("p",{children:"Requested by: Government Administration"}),i.jsxs("p",{children:["Target User: ",((x=p.target_user_profile)==null?void 0:x.full_name)||"System Wide"]}),i.jsxs("p",{children:["Date: ",new Date(p.created_at).toLocaleDateString()]}),i.jsxs("p",{children:["Type: ",p.request_type.replace("_"," ").toUpperCase()]})]}),p.request_data&&i.jsxs("details",{className:"mt-3",children:[i.jsx("summary",{className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800",children:"View Request Details"}),i.jsx("pre",{className:"mt-2 p-3 bg-gray-50 rounded text-xs overflow-x-auto",children:JSON.stringify(p.request_data,null,2)})]})]})}),p.status==="pending"&&i.jsxs("div",{className:"flex space-x-2 pt-3 border-t",children:[i.jsxs("button",{onClick:()=>m(p.id,"approve"),className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm",children:[i.jsx(fr,{className:"w-4 h-4"}),i.jsx("span",{children:"Approve"})]}),i.jsxs("button",{onClick:()=>m(p.id,"reject"),className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm",children:[i.jsx(en,{className:"w-4 h-4"}),i.jsx("span",{children:"Reject"})]})]})]},p.id)}),r.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(tl,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-600",children:"No government requests to review."})]})]})]})})},Mk=()=>{const[e,t]=v.useState({caseId:"",userId:"",userName:"",dataType:"user_media",urgency:"medium",description:"",legalBasis:""}),{toast:r}=te(),{user:n}=rt(),{profile:s}=er(n),o=(s==null?void 0:s.role)||"user",a=async l=>{l.preventDefault(),console.log("Data Request:",{...e,requestedBy:n==null?void 0:n.id,requestedAt:new Date().toISOString()}),r({title:"Data Request Submitted",description:"Your request has been sent to the Administrator for processing."}),t({caseId:"",userId:"",userName:"",dataType:"user_media",urgency:"medium",description:"",legalBasis:""})};return o!=="govt_admin"?i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[i.jsx(Rs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Access Restricted"}),i.jsx("p",{className:"text-gray-600",children:"Only government officials can access data request features."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Request User Data"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Submit official requests to Administrators for user data required for investigations."}),i.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-indigo-900 mb-4",children:"Submit Data Access Request"}),i.jsxs("form",{onSubmit:a,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Case ID"}),i.jsx("input",{type:"text",value:e.caseId,onChange:l=>t({...e,caseId:l.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., CASE-2025-001",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User ID"}),i.jsx("input",{type:"text",value:e.userId,onChange:l=>t({...e,userId:l.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Target user ID",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User Name"}),i.jsx("input",{type:"text",value:e.userName,onChange:l=>t({...e,userName:l.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Target user full name",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Type Requested"}),i.jsxs("select",{value:e.dataType,onChange:l=>t({...e,dataType:l.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[i.jsx("option",{value:"user_media",children:"Audio/Video Recordings"}),i.jsx("option",{value:"emergency_contacts",children:"Emergency Contact Information"}),i.jsx("option",{value:"location_data",children:"Location History"}),i.jsx("option",{value:"incident_reports",children:"Incident Reports"}),i.jsx("option",{value:"full_profile",children:"Complete User Profile"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Urgency Level"}),i.jsxs("select",{value:e.urgency,onChange:l=>t({...e,urgency:l.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[i.jsx("option",{value:"low",children:"Low - Routine Investigation"}),i.jsx("option",{value:"medium",children:"Medium - Active Case"}),i.jsx("option",{value:"high",children:"High - Urgent Investigation"}),i.jsx("option",{value:"urgent",children:"Urgent - Immediate Action Required"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Legal Basis"}),i.jsx("input",{type:"text",value:e.legalBasis,onChange:l=>t({...e,legalBasis:l.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Court Order #12345, Warrant #67890",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Investigation Details"}),i.jsx("textarea",{value:e.description,onChange:l=>t({...e,description:l.target.value}),rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Provide detailed explanation of why this data is needed for the investigation...",required:!0})]}),i.jsxs("button",{type:"submit",className:"flex items-center space-x-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-medium",children:[i.jsx(Sa,{className:"w-4 h-4"}),i.jsx("span",{children:"Submit Data Request"})]})]})]})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(Rs,{className:"w-5 h-5 text-red-600"}),i.jsx("h4",{className:"font-medium text-red-900",children:"Legal Compliance Notice"})]}),i.jsx("p",{className:"text-red-800 text-sm",children:"All data requests must be supported by valid legal authorization (court orders, warrants, etc.). Requests without proper legal basis will be rejected. All requests are logged and audited for compliance."})]})]})},$k=({activeTab:e,userRole:t})=>{switch(e){case"location":return i.jsx(ak,{});case"contacts":return i.jsx(lk,{});case"recording":return i.jsx(fk,{});case"incident-report":return i.jsx(gk,{});case"fakecall":return i.jsx(yk,{});case"safezones":return t==="govt_admin"?i.jsx(xk,{}):i.jsx(vk,{});case"chatbot":return i.jsx(Tk,{});case"settings":return i.jsx(uk,{});case"user-info":return i.jsx(jk,{});case"admin-requests":return i.jsx(Nk,{});case"govt-requests":return i.jsx(_k,{});case"resources":return i.jsx(Pk,{});case"activity":return i.jsx(Rk,{});case"activity-log":return i.jsx(Ak,{});case"alerts":return i.jsx(Ok,{});case"review-requests":return i.jsx(Ik,{});case"request":return i.jsx(Mk,{});default:return i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Feature Coming Soon"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"This feature is under development."})]})}},Dk=()=>{const{toast:e}=te(),{logActivity:t}=un();return{shareLocationWithContacts:v.useCallback(async n=>{try{const{data:s}=await P.auth.getUser();if(!s.user)throw new Error("Not authenticated");if(!navigator.geolocation)throw new Error("Geolocation not supported");navigator.geolocation.getCurrentPosition(async o=>{const{latitude:a,longitude:l,accuracy:c}=o.coords,{data:u,error:f}=await P.from("emergency_contacts").select("*").eq("user_id",s.user.id).order("priority");if(f)throw f;const d=`https://maps.google.com/?q=${a},${l}`,h=n?`🚨 EMERGENCY ALERT: I need help! My current location is: ${d}`:`📍 Location Update: Here's my current location: ${d}`;return await t("location","Location shared with emergency contacts",{incident_id:n,location:{lat:a,lng:l,accuracy:c},contacts_count:(u==null?void 0:u.length)||0,contact_ids:(u==null?void 0:u.map(g=>g.id))||[]}),console.log("Location shared with contacts:",{message:h,location:{latitude:a,longitude:l},contacts:u==null?void 0:u.map(g=>({name:g.name,phone:g.phone}))}),e({title:"📍 Location Shared",description:`Your location has been shared with ${(u==null?void 0:u.length)||0} emergency contacts.`}),await P.from("location_history").insert({user_id:s.user.id,lat:a,lng:l,accuracy:c}),{latitude:a,longitude:l,accuracy:c}},o=>{console.error("Location error:",o),e({title:"Location Error",description:"Unable to get your current location.",variant:"destructive"})},{timeout:1e4,enableHighAccuracy:!0})}catch(s){console.error("Error sharing location:",s),e({title:"Sharing Error",description:s.message,variant:"destructive"})}},[e,t])}},Uk=()=>{const[e,t]=v.useState(!1),{toast:r}=te(),{logActivity:n}=un(),{shareLocationWithContacts:s}=Dk(),o=v.useRef(null),a=v.useRef([]),l=async(d,h,g)=>{try{const{data:m}=await P.auth.getUser();if(!m.user)throw new Error("Not authenticated");const y=`${m.user.id}/${h}_${Date.now()}.webm`;console.log("Uploading emergency recording to storage...");const{data:w,error:p}=await P.storage.from("emergency-recordings").upload(y,d);if(p)throw console.error("Upload error:",p),p;console.log("Recording uploaded, processing via edge function...");const{data:x,error:b}=await P.functions.invoke("process-recording-upload",{body:{incident_id:h,user_id:m.user.id,file_path:w.path,file_type:g,file_size:d.size,duration_seconds:300}});b?(console.error("Processing error:",b),await n("emergency","Emergency recording uploaded (processing failed)",{incident_id:h,file_path:w.path,file_size:d.size,processing_error:b.message})):await n("emergency","Emergency recording uploaded and processed",{incident_id:h,recording_id:x.recording_id,file_path:w.path,file_size:d.size}),r({title:"📹 Recording Saved",description:"Emergency recording has been securely uploaded and processed."})}catch(m){console.error("Error handling recording:",m);try{const y={incident_id:h,file_type:g,file_size:d.size,timestamp:new Date().toISOString()};localStorage.setItem(`emergency_recording_${h}`,await c(d)),localStorage.setItem(`emergency_recording_meta_${h}`,JSON.stringify(y)),await n("emergency","Emergency recording stored locally due to upload failure",{incident_id:h,error:m.message,stored_locally:!0}),r({title:"📱 Recording Saved Locally",description:"Recording stored on device due to connection issues. Will upload when connection is restored."}),u(h,d,y)}catch(y){console.error("Failed to store recording locally:",y),r({title:"❌ Recording Failed",description:"Unable to save emergency recording. Please try manual recording.",variant:"destructive"})}}},c=d=>new Promise((h,g)=>{const m=new FileReader;m.onload=()=>h(m.result),m.onerror=g,m.readAsDataURL(d)}),u=(d,h,g)=>{const m=setInterval(async()=>{try{console.log("Retrying upload for incident:",d);const{data:y}=await P.auth.getUser();if(!y.user)throw new Error("Not authenticated");const w=`${y.user.id}/${d}_${Date.now()}.webm`,{data:p,error:x}=await P.storage.from("emergency-recordings").upload(w,h);x||(localStorage.removeItem(`emergency_recording_${d}`),localStorage.removeItem(`emergency_recording_meta_${d}`),clearInterval(m),await P.functions.invoke("process-recording-upload",{body:{incident_id:d,user_id:y.user.id,file_path:p.path,file_type:g.file_type,file_size:g.file_size}}),await n("emergency","Offline recording uploaded successfully on retry",{incident_id:d,file_path:p.path}),r({title:"📤 Recording Uploaded",description:"Offline recording has been successfully uploaded and processed."}))}catch{console.log("Retry upload failed, will try again later...")}},3e4);setTimeout(()=>{clearInterval(m)},36e5)},f=v.useCallback(async d=>{try{console.log("Starting emergency recording for incident:",d),await s(d);const h=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),g=new MediaRecorder(h);o.current=g,a.current=[],g.ondataavailable=m=>{m.data.size>0&&a.current.push(m.data)},g.onstop=async()=>{const m=new Blob(a.current,{type:"video/webm"});await l(m,d,"video"),h.getTracks().forEach(y=>y.stop())},g.start(),t(!0),setTimeout(()=>{o.current&&o.current.state==="recording"&&(o.current.stop(),t(!1))},5*60*1e3),await n("emergency","Emergency video recording started",{incident_id:d,recording_type:"video",duration_planned:300}),r({title:"📹 Emergency Recording Started",description:"Video recording is active and will upload automatically."})}catch(h){console.error("Error starting video recording:",h);try{const g=await navigator.mediaDevices.getUserMedia({audio:!0}),m=new MediaRecorder(g);o.current=m,a.current=[],m.ondataavailable=y=>{y.data.size>0&&a.current.push(y.data)},m.onstop=async()=>{const y=new Blob(a.current,{type:"audio/webm"});await l(y,d,"audio"),g.getTracks().forEach(w=>w.stop())},m.start(),t(!0),setTimeout(()=>{o.current&&o.current.state==="recording"&&(o.current.stop(),t(!1))},5*60*1e3),await n("emergency","Emergency audio recording started (video fallback)",{incident_id:d,recording_type:"audio"}),r({title:"🎤 Emergency Audio Recording Started",description:"Audio recording is active and will upload automatically."})}catch(g){console.error("Error starting audio recording:",g),await n("emergency","Emergency recording failed to start",{incident_id:d,error:g.message}),r({title:"❌ Recording Error",description:"Could not start emergency recording. Emergency alert will still be sent.",variant:"destructive"})}}},[n,r,s]);return{isRecording:e,startEmergencyRecording:f}},Fk=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState("default"),[s,o]=v.useState(!1),{toast:a}=te(),{logActivity:l}=un();v.useEffect(()=>{"Notification"in window&&(t(!0),n(Notification.permission))},[]);const c=v.useCallback(async()=>{if(!e)return a({title:"Notifications Not Supported",description:"Your browser doesn't support push notifications.",variant:"destructive"}),!1;try{const d=await Notification.requestPermission();return n(d),d==="granted"?(o(!0),await l("notification","Web push notifications enabled",{}),a({title:"Notifications Enabled",description:"You'll now receive instant emergency alerts."}),!0):(a({title:"Notifications Denied",description:"Please enable notifications in your browser settings for emergency alerts.",variant:"destructive"}),!1)}catch(d){return console.error("Error requesting notification permission:",d),a({title:"Permission Error",description:"Failed to request notification permission.",variant:"destructive"}),!1}},[e,a,l]),u=v.useCallback(async(d,h)=>{if(!e||r!=="granted"){console.log("Notifications not available or not permitted");return}try{const g=new Notification(d,{icon:"/favicon.ico",badge:"/favicon.ico",requireInteraction:!0,...h});h!=null&&h.requireInteraction||setTimeout(()=>g.close(),1e4),await l("notification","Web push notification sent",{title:d,options:h})}catch(g){console.error("Error sending notification:",g)}},[e,r,l]),f=v.useCallback(async(d,h)=>{const g="🚨 Emergency Alert Sent!",m=`Emergency contacts have been notified that ${d} needs assistance.${h?` Location: ${h}`:""}`;await u(g,{body:m,tag:"emergency",requireInteraction:!0})},[u]);return{isSupported:e,permission:r,isSubscribed:s,requestPermission:c,sendNotification:u,sendEmergencyNotification:f}},zk=()=>{const{toast:e}=te(),{logActivity:t}=un(),{sendEmergencyNotification:r}=Fk();return{sendEmergencyAlerts:async(s,o)=>{try{const{data:a}=await P.auth.getUser();if(!a.user)throw new Error("Not authenticated");const{data:l}=await P.from("profiles").select("full_name").eq("id",a.user.id).single();console.log("Sending emergency alerts via edge function...");const{data:c,error:u}=await P.functions.invoke("send-emergency-alerts",{body:{incident_id:s,user_id:a.user.id,location:o?{lat:o.coords.latitude,lng:o.coords.longitude,accuracy:o.coords.accuracy}:void 0,message_type:"both"}});if(u)throw console.error("Edge function error:",u),u;console.log("Emergency alerts sent successfully:",c);const f=(l==null?void 0:l.full_name)||"User",d=o?`${o.coords.latitude.toFixed(4)}, ${o.coords.longitude.toFixed(4)}`:void 0;await r(f,d),await t("emergency","Emergency alerts sent successfully",{incident_id:s,emails_sent:c.emails_sent,contacts_notified:c.contacts_notified,total_contacts:c.total_contacts,location:o?{lat:o.coords.latitude,lng:o.coords.longitude}:null});const h=c.emails_sent>0?`${c.emails_sent} email alerts sent successfully!`:"Alerts processed - check activity log for details.";e({title:"🚨 Emergency Alerts Sent!",description:h,variant:"destructive"})}catch(a){console.error("Error sending emergency alerts:",a);try{const{data:l}=await P.auth.getUser();if(!l.user)throw new Error("Not authenticated");const{data:c}=await P.from("emergency_contacts").select("name, phone").eq("user_id",l.user.id);await t("emergency","Emergency alert failed, showing local notification",{incident_id:s,error:a.message,contacts_count:(c==null?void 0:c.length)||0});const u=(c==null?void 0:c.map(f=>`${f.name}: ${f.phone}`).join(", "))||"No contacts found";e({title:"⚠️ Alert System Error",description:`Unable to send alerts automatically. Please contact: ${u}`,variant:"destructive"})}catch(l){console.error("Fallback error:",l),e({title:"⚠️ Critical Error",description:"Emergency alert system unavailable. Contact emergency services directly.",variant:"destructive"})}}}}},Bk=()=>{const{toast:e}=te(),{logActivity:t}=un(),{sendEmergencyAlerts:r}=zk();return{createEmergencyIncident:async()=>{try{const{data:s}=await P.auth.getUser();if(!s.user)throw new Error("Not authenticated");const{data:o,error:a}=await P.from("emergency_incidents").insert({user_id:s.user.id,status:"active"}).select().single();if(a)throw a;return await t("emergency","Emergency incident created",{incident_id:o.id}),navigator.geolocation?navigator.geolocation.getCurrentPosition(async l=>{await P.from("emergency_incidents").update({location_lat:l.coords.latitude,location_lng:l.coords.longitude,location_accuracy:l.coords.accuracy}).eq("id",o.id),await t("emergency","Emergency location updated",{incident_id:o.id,location:{lat:l.coords.latitude,lng:l.coords.longitude,accuracy:l.coords.accuracy}}),await r(o.id,l)},async l=>{console.warn("Could not get location:",l),await r(o.id)},{timeout:5e3}):await r(o.id),o.id}catch(s){return e({title:"Error",description:s.message,variant:"destructive"}),null}}}},qk=({countdown:e,onCancel:t})=>i.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[i.jsx("div",{className:"relative",children:i.jsx("div",{className:"w-48 h-48 rounded-full bg-emergency-600 flex items-center justify-center animate-pulse-emergency",children:i.jsxs("div",{className:"text-center text-white",children:[i.jsx(Jt,{className:"w-16 h-16 mx-auto mb-2"}),i.jsx("div",{className:"text-4xl font-bold",children:e}),i.jsx("div",{className:"text-sm",children:"Sending Alert..."})]})})}),i.jsx("button",{onClick:t,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition-all duration-200 hover:scale-105",children:"Cancel Alert"})]}),Hk=({onPress:e,isRecording:t})=>i.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[i.jsx("button",{onClick:e,className:"w-48 h-48 rounded-full bg-gradient-to-br from-emergency-500 to-emergency-700 shadow-2xl transform transition-all duration-200 hover:scale-105 active:scale-95 flex items-center justify-center group","aria-label":"Emergency SOS Button",children:i.jsxs("div",{className:"text-center text-white",children:[i.jsx(Jt,{className:"w-16 h-16 mx-auto mb-2 group-hover:animate-shake"}),i.jsx("div",{className:"text-xl font-bold",children:"SOS"}),i.jsx("div",{className:"text-sm opacity-90",children:"Tap for Help"})]})}),t&&i.jsxs("div",{className:"flex items-center space-x-2 bg-emergency-100 text-emergency-800 px-4 py-2 rounded-full",children:[i.jsx("div",{className:"w-3 h-3 bg-emergency-600 rounded-full animate-pulse"}),i.jsx("span",{className:"text-sm font-medium",children:"Emergency Recording Active"})]}),i.jsx("div",{className:"text-center text-gray-600 max-w-sm",children:i.jsx("p",{className:"text-sm",children:"Press the SOS button to send an emergency alert to your contacts, share your location, and start automatic recording."})})]}),Vk=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(0),[s,o]=v.useState(null),{toast:a}=te(),{isRecording:l,startEmergencyRecording:c}=Uk(),{createEmergencyIncident:u}=Bk(),f=async g=>{console.log("Emergency triggered with incident ID:",g),a({title:"🚨 Emergency Alert Sent!",description:"Your emergency contacts have been notified and recording has started.",variant:"destructive"})},d=()=>{t(!0);let g=3;n(g);const m=window.setInterval(async()=>{if(g--,n(g),g===0){clearInterval(m);const y=await u();y&&(await c(y),await f(y)),t(!1),a({title:"🚨 Emergency Alert Sent!",description:"Your emergency contacts have been notified and recording has started.",variant:"destructive"})}},1e3);o(m)},h=()=>{s!==null&&clearInterval(s),t(!1),n(0),a({title:"Emergency Alert Cancelled",description:"The emergency alert has been cancelled."})};return e?i.jsx(qk,{countdown:r,onCancel:h}):i.jsx(Hk,{onPress:d,isRecording:l})},Wk=({isActive:e,onDetection:t})=>(te(),v.useEffect(()=>{if(!e)return;let r=null;return(async()=>{try{const s=await navigator.mediaDevices.getUserMedia({audio:!0});r=new AudioContext;const o=r.createAnalyser();r.createMediaStreamSource(s).connect(o),o.fftSize=256;const l=o.frequencyBinCount,c=new Uint8Array(l),u=()=>{if(!e)return;o.getByteFrequencyData(c);const f=c.reduce((d,h)=>d+h,0)/l;f>150&&(console.log("Potential distress detected:",f),t()),e&&requestAnimationFrame(u)};u()}catch(s){console.error("Error starting scream detection:",s)}})(),()=>{r&&r.close()}},[e,t]),null),zy=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!1),{toast:s}=te(),{logActivity:o}=un(),a=v.useCallback(async(d,h)=>{try{const{data:g,error:m}=await P.from("safe_zones").select("id, name, zone_type, center_lat, center_lng, radius_meters").eq("is_active",!0);if(m){console.error("Error checking location alerts:",m);return}if(g&&g.length>0){const w=[];g.forEach(x=>{const b=l(d,h,x.center_lat,x.center_lng);if(b<=x.radius_meters){const j={zone_id:x.id,zone_name:x.name,zone_type:x.zone_type,distance_meters:Math.round(b),alert_message:x.zone_type==="danger"?"Warning: You are entering a high-risk area. Please stay alert.":x.zone_type==="safe"?"You have entered a designated safe zone.":`Location alert for: ${x.name}`};w.push(j)}});const p=w.filter(x=>!e.some(b=>b.zone_id===x.zone_id));p.length>0&&(t(x=>[...x,...p]),p.forEach(x=>{s({title:x.zone_type==="danger"?"⚠️ Danger Zone Alert":"📍 Zone Alert",description:x.alert_message,variant:x.zone_type==="danger"?"destructive":"default"}),o("location",`Entered ${x.zone_type} zone: ${x.zone_name}`,{zone_id:x.zone_id,zone_type:x.zone_type,distance_meters:x.distance_meters,location:{lat:d,lng:h}})}))}const{data:y}=await P.auth.getUser();y.user&&await P.from("location_history").insert({user_id:y.user.id,lat:d,lng:h,accuracy:10})}catch(g){console.error("Error in location alerts:",g)}},[e,s,o]),l=(d,h,g,m)=>{const w=c(g-d),p=c(m-h),x=Math.sin(w/2)*Math.sin(w/2)+Math.cos(c(d))*Math.cos(c(g))*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x)))},c=d=>d*(Math.PI/180),u=v.useCallback(()=>{if(!navigator.geolocation){s({title:"Location Not Supported",description:"Your browser doesn't support location tracking.",variant:"destructive"});return}n(!0);const d=navigator.geolocation.watchPosition(h=>{a(h.coords.latitude,h.coords.longitude)},h=>{console.error("Location tracking error:",h),s({title:"Location Error",description:"Unable to track your location for zone alerts.",variant:"destructive"})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4});return()=>{navigator.geolocation.clearWatch(d),n(!1)}},[a,s]),f=v.useCallback(()=>{t([])},[]);return{currentAlerts:e,isTracking:r,startLocationTracking:u,clearAlerts:f,checkLocationAlerts:a}},Gk=()=>{const{currentAlerts:e,isTracking:t,startLocationTracking:r,clearAlerts:n}=zy(),[s,o]=v.useState(!1);return v.useEffect(()=>{let a;return s&&(a=r()),a},[s,r]),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Ce,{className:"w-6 h-6 text-blue-600"}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Location Tracking"})]}),i.jsx("button",{onClick:()=>o(!s),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:s?"Stop Tracking":"Start Tracking"})]}),t&&i.jsxs("div",{className:"flex items-center space-x-2 text-green-600 mb-4",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-sm",children:"Location tracking active"})]}),e.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium text-gray-700",children:"Active Zone Alerts"}),i.jsx("button",{onClick:n,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear All"})]}),e.map(a=>i.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg ${a.zone_type==="danger"?"bg-red-50 border border-red-200":a.zone_type==="safe"?"bg-green-50 border border-green-200":"bg-yellow-50 border border-yellow-200"}`,children:[a.zone_type==="danger"?i.jsx(Jt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}):i.jsx(pe,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h5",{className:"font-medium text-gray-900",children:a.zone_name}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.alert_message}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Distance: ",Math.round(a.distance_meters),"m"]})]})]},a.zone_id))]}),i.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-blue-800",children:"Location tracking helps you receive alerts when entering safe or danger zones. Your location data is encrypted and only shared with your emergency contacts when needed."})})]})},Kk=()=>{const{user:e,loading:t}=rt(),{profile:r}=er(e),[n,s]=v.useState("home"),[o,a]=v.useState(!1),[l,c]=v.useState(!1),{toast:u}=te(),{startLocationTracking:f}=zy();if(O.useEffect(()=>{if(e&&(r==null?void 0:r.role)==="user")return f()},[e,r,f]),t)return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emergency-50 to-emergency-100 flex items-center justify-center",children:i.jsx("div",{className:"animate-pulse text-emergency-600 text-lg",children:"Loading SafeGuard..."})});if(!e&&!o)return i.jsx(XS,{onGetStarted:()=>a(!0)});if(!e&&o)return i.jsx(KS,{onAuthSuccess:()=>window.location.reload()});const d=(r==null?void 0:r.role)||"user",h=()=>n==="home"?i.jsx("div",{className:"container mx-auto px-4 py-6",children:i.jsx("div",{className:"mb-8",children:d==="admin"?i.jsx(tk,{onFeatureSelect:s}):d==="govt_admin"?i.jsx(rk,{onFeatureSelect:s}):i.jsxs(i.Fragment,{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to SafeGuard"}),i.jsx("p",{className:"text-gray-600 mb-8",children:"Your personal safety dashboard"}),i.jsx(ek,{onFeatureSelect:s})]})})}):n==="sos"&&d==="user"?i.jsx("div",{className:"container mx-auto px-4 py-6",children:i.jsx("div",{className:"flex justify-center",children:i.jsx(Vk,{})})}):n==="location-tracking"&&d==="user"?i.jsx("div",{className:"container mx-auto px-4 py-6",children:i.jsx(Gk,{})}):n==="community"?i.jsx("div",{className:"container mx-auto px-4 py-6",children:i.jsx(ok,{})}):i.jsx("div",{className:"container mx-auto px-4 py-6",children:i.jsx($k,{activeTab:n,userRole:d})});return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emergency-50 to-emergency-100",children:[i.jsx(ZS,{activeTab:n,onTabChange:s}),i.jsx("main",{children:h()}),d==="user"&&i.jsx(Wk,{isActive:l,onDetection:()=>{u({title:"Distress Detected",description:"Additional alert sent based on audio detection.",variant:"destructive"})}})]})},Qk=()=>{const e=py();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Yk=new HN,Jk=()=>i.jsx(WN,{client:Yk,children:i.jsxs(bN,{children:[i.jsx(v1,{}),i.jsx(K1,{}),i.jsx(P2,{children:i.jsxs(E2,{children:[i.jsx(xu,{path:"/",element:i.jsx(Kk,{})}),i.jsx(xu,{path:"*",element:i.jsx(Qk,{})})]})})]})});Rg(document.getElementById("root")).render(i.jsx(Jk,{}));export{ym as g};
